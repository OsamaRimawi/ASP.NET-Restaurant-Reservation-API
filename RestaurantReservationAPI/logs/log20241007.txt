2024-10-07 09:50:20.665 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 09:50:20.993 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 09:50:21.404 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 09:50:37.772 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 09:50:38.098 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 09:50:38.110 +03:00 [DBG] Creating DbConnection.
2024-10-07 09:50:38.146 +03:00 [DBG] Created DbConnection. (34ms).
2024-10-07 09:50:38.148 +03:00 [DBG] Migrating using database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:38.153 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.245 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.249 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:41.253 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-10-07 09:50:41.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2024-10-07 09:50:41.257 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-07 09:50:41.272 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-07 09:50:41.273 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.276 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-10-07 09:50:41.277 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-07 09:50:41.278 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-10-07 09:50:41.278 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-10-07 09:50:41.278 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.278 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.278 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-07 09:50:41.287 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-07 09:50:41.287 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.287 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 09:50:41.288 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.288 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.288 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:41.288 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.288 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.288 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-07 09:50:41.289 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-07 09:50:41.289 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.289 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 09:50:41.289 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-07 09:50:41.289 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-10-07 09:50:41.289 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-10-07 09:50:41.289 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.289 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.289 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-07 09:50:41.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-07 09:50:41.290 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.290 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 09:50:41.301 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.302 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.302 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 09:50:41.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 09:50:41.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-07 09:50:41.302 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-10-07 09:50:41.304 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-10-07 09:50:41.305 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.306 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 09:50:41.306 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.306 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 09:50:41.310 +03:00 [INF] Applying migration '20241007065021_add-orders'.
2024-10-07 09:50:41.337 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.427 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:41.430 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-07 09:50:41.434 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-07 09:50:41.435 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:41.435 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.435 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MenuItems] DROP CONSTRAINT [FK_MenuItems_Reservations_ReservationId];
2024-10-07 09:50:41.440 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MenuItems] DROP CONSTRAINT [FK_MenuItems_Reservations_ReservationId];
2024-10-07 09:50:41.440 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:41.440 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.440 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_MenuItems_ReservationId] ON [MenuItems];
2024-10-07 09:50:41.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_MenuItems_ReservationId] ON [MenuItems];
2024-10-07 09:50:41.443 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:41.443 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.443 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[MenuItems]') AND [c].[name] = N'ReservationId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [MenuItems] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [MenuItems] DROP COLUMN [ReservationId];
2024-10-07 09:50:41.481 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[MenuItems]') AND [c].[name] = N'ReservationId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [MenuItems] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [MenuItems] DROP COLUMN [ReservationId];
2024-10-07 09:50:41.481 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:41.481 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.482 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.482 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Orders] (
    [OrderId] int NOT NULL IDENTITY,
    [ReservationId] int NOT NULL,
    [MenuItemId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Orders] PRIMARY KEY ([OrderId]),
    CONSTRAINT [FK_Orders_MenuItems_MenuItemId] FOREIGN KEY ([MenuItemId]) REFERENCES [MenuItems] ([MenuItemId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Orders_Reservations_ReservationId] FOREIGN KEY ([ReservationId]) REFERENCES [Reservations] ([ReservationId]) ON DELETE CASCADE
);
2024-10-07 09:50:41.484 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Orders] (
    [OrderId] int NOT NULL IDENTITY,
    [ReservationId] int NOT NULL,
    [MenuItemId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Orders] PRIMARY KEY ([OrderId]),
    CONSTRAINT [FK_Orders_MenuItems_MenuItemId] FOREIGN KEY ([MenuItemId]) REFERENCES [MenuItems] ([MenuItemId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Orders_Reservations_ReservationId] FOREIGN KEY ([ReservationId]) REFERENCES [Reservations] ([ReservationId]) ON DELETE CASCADE
);
2024-10-07 09:50:41.484 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:41.484 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:41.484 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:43.282 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Orders_MenuItemId] ON [Orders] ([MenuItemId]);
2024-10-07 09:50:43.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Orders_MenuItemId] ON [Orders] ([MenuItemId]);
2024-10-07 09:50:43.283 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:43.283 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:43.284 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:43.284 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Orders_ReservationId] ON [Orders] ([ReservationId]);
2024-10-07 09:50:43.284 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Orders_ReservationId] ON [Orders] ([ReservationId]);
2024-10-07 09:50:43.284 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-07 09:50:43.284 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:43.284 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-07 09:50:43.284 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241007065021_add-orders', N'8.0.8');
2024-10-07 09:50:43.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241007065021_add-orders', N'8.0.8');
2024-10-07 09:50:43.286 +03:00 [DBG] Committing transaction.
2024-10-07 09:50:43.289 +03:00 [DBG] Committed transaction.
2024-10-07 09:50:43.290 +03:00 [DBG] Disposing transaction.
2024-10-07 09:50:43.290 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:43.290 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 09:50:43.291 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 09:50:43.292 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 09:50:43.292 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:01:18.195 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 10:01:18.584 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:01:18.647 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 10:01:18.774 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:01:18.799 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:01:18.819 +03:00 [DBG] Created DbConnection. (17ms).
2024-10-07 10:01:18.823 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.010 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.017 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:01:19.024 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-07 10:01:19.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-07 10:01:19.030 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.046 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.057 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.065 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 10:01:19.066 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.071 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-10-07 10:01:19.072 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any()'
2024-10-07 10:01:19.075 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:01:19.076 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.077 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.078 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:01:19.078 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:01:19.080 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:01:19.081 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.083 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.085 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.085 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:01:19.086 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.087 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:01:19.088 +03:00 [DBG] Compiling query expression: 
'DbSet<MenuItem>()
    .Any()'
2024-10-07 10:01:19.090 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM MenuItems AS m)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:01:19.091 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.092 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:01:19.093 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:01:19.094 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:01:19.094 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MenuItems] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.097 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MenuItems] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.098 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.099 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:01:19.100 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.101 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:01:19.102 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Any()'
2024-10-07 10:01:19.105 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Reservations AS r)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:01:19.106 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.106 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.107 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:01:19.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:01:19.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:01:19.109 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Reservations] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.111 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Reservations] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.113 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.114 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:01:19.115 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.116 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:01:19.117 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Any()'
2024-10-07 10:01:19.119 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Orders AS o)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:01:19.120 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.121 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.122 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:01:19.122 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:01:19.123 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:01:19.124 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.126 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:01:19.127 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.128 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:01:19.129 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.130 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:01:19.149 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.180 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.187 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.191 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.192 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.193 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.195 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Customer.CustomerId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.202 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.203 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Customer.CustomerId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.204 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.206 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Customer.CustomerId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.207 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.209 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'MenuItem.MenuItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.215 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.217 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'MenuItem.MenuItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.218 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.219 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'MenuItem.MenuItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.220 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.223 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.234 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.235 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.236 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.236 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.237 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.239 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.240 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:01:19.241 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:01:19.243 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:01:19.257 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:01:19.294 +03:00 [DBG] Executing 13 update commands as a batch.
2024-10-07 10:01:19.297 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.298 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.300 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-07 10:01:19.305 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-07 10:01:19.307 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:01:19.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:01:19.312 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-07 10:01:19.315 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 15), @p2='?' (Size = 100), @p3='?' (Size = 15), @p4='?' (Size = 100), @p5='?' (Size = 15), @p6='?' (Size = 100), @p7='?' (Size = 50), @p8='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (Size = 50), @p14='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 100), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 100), @p18='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Customers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([Name], [Phone], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Phone])
VALUES (i.[Name], i.[Phone])
OUTPUT INSERTED.[CustomerId], i._Position;
MERGE [Employees] USING (
VALUES (@p6, @p7, @p8, 0),
(@p9, @p10, @p11, 1),
(@p12, @p13, @p14, 2)) AS i ([Name], [Role], [Salary], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Role], [Salary])
VALUES (i.[Name], i.[Role], i.[Salary])
OUTPUT INSERTED.[EmployeeId], i._Position;
MERGE [MenuItems] USING (
VALUES (@p15, @p16, 0),
(@p17, @p18, 1),
(@p19, @p20, 2)) AS i ([Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Price])
VALUES (i.[Name], i.[Price])
OUTPUT INSERTED.[MenuItemId], i._Position;
MERGE [Reservations] USING (
VALUES (@p21, @p22, @p23, 0),
(@p24, @p25, @p26, 1),
(@p27, @p28, @p29, 2),
(@p30, @p31, @p32, 3)) AS i ([CustomerId], [EmployeeId], [ReservationDate], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CustomerId], [EmployeeId], [ReservationDate])
VALUES (i.[CustomerId], i.[EmployeeId], i.[ReservationDate])
OUTPUT INSERTED.[ReservationId], i._Position;
2024-10-07 10:01:19.356 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 15), @p2='?' (Size = 100), @p3='?' (Size = 15), @p4='?' (Size = 100), @p5='?' (Size = 15), @p6='?' (Size = 100), @p7='?' (Size = 50), @p8='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (Size = 50), @p14='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 100), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 100), @p18='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Customers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([Name], [Phone], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Phone])
VALUES (i.[Name], i.[Phone])
OUTPUT INSERTED.[CustomerId], i._Position;
MERGE [Employees] USING (
VALUES (@p6, @p7, @p8, 0),
(@p9, @p10, @p11, 1),
(@p12, @p13, @p14, 2)) AS i ([Name], [Role], [Salary], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Role], [Salary])
VALUES (i.[Name], i.[Role], i.[Salary])
OUTPUT INSERTED.[EmployeeId], i._Position;
MERGE [MenuItems] USING (
VALUES (@p15, @p16, 0),
(@p17, @p18, 1),
(@p19, @p20, 2)) AS i ([Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Price])
VALUES (i.[Name], i.[Price])
OUTPUT INSERTED.[MenuItemId], i._Position;
MERGE [Reservations] USING (
VALUES (@p21, @p22, @p23, 0),
(@p24, @p25, @p26, 1),
(@p27, @p28, @p29, 2),
(@p30, @p31, @p32, 3)) AS i ([CustomerId], [EmployeeId], [ReservationDate], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CustomerId], [EmployeeId], [ReservationDate])
VALUES (i.[CustomerId], i.[EmployeeId], i.[ReservationDate])
OUTPUT INSERTED.[ReservationId], i._Position;
2024-10-07 10:01:19.371 +03:00 [DBG] The foreign key property 'Customer.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.378 +03:00 [DBG] The foreign key property 'Customer.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.379 +03:00 [DBG] The foreign key property 'Customer.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.381 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.384 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.386 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.387 +03:00 [DBG] The foreign key property 'MenuItem.MenuItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.388 +03:00 [DBG] The foreign key property 'MenuItem.MenuItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.389 +03:00 [DBG] The foreign key property 'MenuItem.MenuItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:01:19.393 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.394 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 29ms reading results.
2024-10-07 10:01:19.397 +03:00 [DBG] Disposing transaction.
2024-10-07 10:01:19.398 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:01:19.399 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:01:19.418 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantReservationAPI.RestaurantDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Customers_CustomerId". The conflict occurred in database "restaurant", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:fc6e59cb-e7e2-4761-b127-8e97b336197b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Reservations_Customers_CustomerId". The conflict occurred in database "restaurant", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:fc6e59cb-e7e2-4761-b127-8e97b336197b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-10-07 10:02:44.979 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 10:02:45.648 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:02:45.688 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 10:02:45.794 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:02:45.822 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:02:45.851 +03:00 [DBG] Created DbConnection. (26ms).
2024-10-07 10:02:45.856 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.024 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.031 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.034 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-07 10:02:46.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-07 10:02:46.043 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.071 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.085 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.093 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-10-07 10:02:46.097 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.104 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (7ms).
2024-10-07 10:02:46.108 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any()'
2024-10-07 10:02:46.111 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:02:46.112 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.114 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.116 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.118 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:02:46.120 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-07 10:02:46.121 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.123 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.125 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.126 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:02:46.127 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.128 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:02:46.130 +03:00 [DBG] Compiling query expression: 
'DbSet<MenuItem>()
    .Any()'
2024-10-07 10:02:46.132 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM MenuItems AS m)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:02:46.134 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.134 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.135 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:02:46.138 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:02:46.139 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MenuItems] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MenuItems] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.141 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.142 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:02:46.143 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.144 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:02:46.145 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Any()'
2024-10-07 10:02:46.147 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Reservations AS r)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:02:46.148 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.149 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.150 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:02:46.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:02:46.152 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Reservations] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Reservations] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.154 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.155 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:02:46.156 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.157 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:02:46.158 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Any()'
2024-10-07 10:02:46.160 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Orders AS o)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:02:46.161 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.162 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.163 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.164 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:02:46.165 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:02:46.166 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:02:46.168 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.169 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:02:46.170 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.171 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:02:46.188 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.214 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.218 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.219 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.219 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.221 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.223 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Customer.CustomerId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.229 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.230 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Customer.CustomerId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.231 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.232 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Customer.CustomerId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.233 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.234 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'MenuItem.MenuItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.240 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.241 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'MenuItem.MenuItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.242 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.243 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'MenuItem.MenuItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.245 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.247 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:02:46.249 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:02:46.258 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:02:46.303 +03:00 [DBG] Executing 9 update commands as a batch.
2024-10-07 10:02:46.308 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.311 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.313 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-07 10:02:46.318 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-07 10:02:46.320 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.321 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:02:46.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-07 10:02:46.326 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 15), @p2='?' (Size = 100), @p3='?' (Size = 15), @p4='?' (Size = 100), @p5='?' (Size = 15), @p6='?' (Size = 100), @p7='?' (Size = 50), @p8='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (Size = 50), @p14='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 100), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 100), @p18='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Customers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([Name], [Phone], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Phone])
VALUES (i.[Name], i.[Phone])
OUTPUT INSERTED.[CustomerId], i._Position;
MERGE [Employees] USING (
VALUES (@p6, @p7, @p8, 0),
(@p9, @p10, @p11, 1),
(@p12, @p13, @p14, 2)) AS i ([Name], [Role], [Salary], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Role], [Salary])
VALUES (i.[Name], i.[Role], i.[Salary])
OUTPUT INSERTED.[EmployeeId], i._Position;
MERGE [MenuItems] USING (
VALUES (@p15, @p16, 0),
(@p17, @p18, 1),
(@p19, @p20, 2)) AS i ([Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Price])
VALUES (i.[Name], i.[Price])
OUTPUT INSERTED.[MenuItemId], i._Position;
2024-10-07 10:02:46.345 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 15), @p2='?' (Size = 100), @p3='?' (Size = 15), @p4='?' (Size = 100), @p5='?' (Size = 15), @p6='?' (Size = 100), @p7='?' (Size = 50), @p8='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (Size = 50), @p14='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 100), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 100), @p18='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Customers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([Name], [Phone], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Phone])
VALUES (i.[Name], i.[Phone])
OUTPUT INSERTED.[CustomerId], i._Position;
MERGE [Employees] USING (
VALUES (@p6, @p7, @p8, 0),
(@p9, @p10, @p11, 1),
(@p12, @p13, @p14, 2)) AS i ([Name], [Role], [Salary], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Role], [Salary])
VALUES (i.[Name], i.[Role], i.[Salary])
OUTPUT INSERTED.[EmployeeId], i._Position;
MERGE [MenuItems] USING (
VALUES (@p15, @p16, 0),
(@p17, @p18, 1),
(@p19, @p20, 2)) AS i ([Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Price])
VALUES (i.[Name], i.[Price])
OUTPUT INSERTED.[MenuItemId], i._Position;
2024-10-07 10:02:46.355 +03:00 [DBG] The foreign key property 'Customer.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.358 +03:00 [DBG] The foreign key property 'Customer.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.359 +03:00 [DBG] The foreign key property 'Customer.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.360 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.361 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.362 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.363 +03:00 [DBG] The foreign key property 'MenuItem.MenuItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.364 +03:00 [DBG] The foreign key property 'MenuItem.MenuItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.365 +03:00 [DBG] The foreign key property 'MenuItem.MenuItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.366 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.366 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 16ms reading results.
2024-10-07 10:02:46.368 +03:00 [DBG] Committing transaction.
2024-10-07 10:02:46.371 +03:00 [DBG] Committed transaction.
2024-10-07 10:02:46.372 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.373 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:02:46.374 +03:00 [DBG] Disposing transaction.
2024-10-07 10:02:46.380 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.381 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.382 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.383 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.384 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.385 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.386 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.387 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.388 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.390 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 9 entities written to the database.
2024-10-07 10:02:46.392 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.401 +03:00 [DBG] The navigation 'Reservation.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.406 +03:00 [DBG] The navigation 'Reservation.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.408 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.409 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.410 +03:00 [DBG] The navigation 'Reservation.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.411 +03:00 [DBG] The navigation 'Reservation.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.412 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.413 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.414 +03:00 [DBG] The navigation 'Reservation.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.414 +03:00 [DBG] The navigation 'Reservation.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.415 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.416 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.417 +03:00 [DBG] The navigation 'Reservation.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.418 +03:00 [DBG] The navigation 'Reservation.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.418 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.419 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:02:46.420 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:02:46.423 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:02:46.425 +03:00 [DBG] Executing 4 update commands as a batch.
2024-10-07 10:02:46.426 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.427 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.427 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.428 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:02:46.429 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:02:46.430 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Reservations] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([CustomerId], [EmployeeId], [ReservationDate], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CustomerId], [EmployeeId], [ReservationDate])
VALUES (i.[CustomerId], i.[EmployeeId], i.[ReservationDate])
OUTPUT INSERTED.[ReservationId], i._Position;
2024-10-07 10:02:46.435 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Reservations] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([CustomerId], [EmployeeId], [ReservationDate], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CustomerId], [EmployeeId], [ReservationDate])
VALUES (i.[CustomerId], i.[EmployeeId], i.[ReservationDate])
OUTPUT INSERTED.[ReservationId], i._Position;
2024-10-07 10:02:46.436 +03:00 [DBG] The foreign key property 'Reservation.ReservationId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.438 +03:00 [DBG] The foreign key property 'Reservation.ReservationId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.438 +03:00 [DBG] The foreign key property 'Reservation.ReservationId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.439 +03:00 [DBG] The foreign key property 'Reservation.ReservationId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.440 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.440 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-10-07 10:02:46.441 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.442 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:02:46.443 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.444 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.446 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.447 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.448 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 4 entities written to the database.
2024-10-07 10:02:46.450 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.454 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.455 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.456 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.457 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.458 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.459 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.460 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.461 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.462 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.462 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.463 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.464 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.465 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.465 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.466 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.467 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.468 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.468 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.469 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.470 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.470 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.471 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.472 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.473 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.473 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.475 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.476 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.477 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:02:46.478 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:02:46.480 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:02:46.481 +03:00 [DBG] Executing 7 update commands as a batch.
2024-10-07 10:02:46.482 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.483 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.484 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:02:46.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:02:46.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:02:46.488 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4),
(@p15, @p16, @p17, 5),
(@p18, @p19, @p20, 6)) AS i ([MenuItemId], [Quantity], [ReservationId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Quantity], [ReservationId])
VALUES (i.[MenuItemId], i.[Quantity], i.[ReservationId])
OUTPUT INSERTED.[OrderId], i._Position;
2024-10-07 10:02:46.495 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4),
(@p15, @p16, @p17, 5),
(@p18, @p19, @p20, 6)) AS i ([MenuItemId], [Quantity], [ReservationId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Quantity], [ReservationId])
VALUES (i.[MenuItemId], i.[Quantity], i.[ReservationId])
OUTPUT INSERTED.[OrderId], i._Position;
2024-10-07 10:02:46.497 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.499 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.499 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.500 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.501 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.502 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.503 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:02:46.503 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.504 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-10-07 10:02:46.505 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.507 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-10-07 10:02:46.510 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.511 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.512 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.513 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.514 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.515 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.516 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:02:46.517 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 7 entities written to the database.
2024-10-07 10:02:46.519 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:02:46.520 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:02:46.522 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:02:46.596 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 10:02:46.640 +03:00 [DBG] Hosting starting
2024-10-07 10:02:46.668 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 10:02:46.677 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 10:02:46.710 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 10:02:46.719 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 10:02:46.723 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:02:46.724 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 10:02:46.726 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:02:46.728 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 10:02:46.730 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 10:02:46.731 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 10:02:46.733 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 10:02:46.811 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 10:02:46.814 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 10:02:46.814 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 10:02:46.815 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 10:02:46.815 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 10:02:46.869 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 10:02:46.871 +03:00 [INF] Hosting environment: Development
2024-10-07 10:02:46.874 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 10:02:46.875 +03:00 [DBG] Hosting started
2024-10-07 10:02:47.269 +03:00 [DBG] Connection id "0HN76JO6BPQVM" accepted.
2024-10-07 10:02:47.272 +03:00 [DBG] Connection id "0HN76JO6BPQVM" started.
2024-10-07 10:02:47.279 +03:00 [DBG] Connection id "0HN76JO6BPQVN" accepted.
2024-10-07 10:02:47.283 +03:00 [DBG] Connection id "0HN76JO6BPQVN" started.
2024-10-07 10:02:47.312 +03:00 [DBG] Connection id "0HN76JO6BPQVM" received FIN.
2024-10-07 10:02:47.312 +03:00 [DBG] Connection id "0HN76JO6BPQVN" received FIN.
2024-10-07 10:02:47.315 +03:00 [DBG] Connection id "0HN76JO6BPQVN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:02:47.315 +03:00 [DBG] Connection id "0HN76JO6BPQVM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:02:47.324 +03:00 [DBG] Connection id "0HN76JO6BPQVM" disconnecting.
2024-10-07 10:02:47.324 +03:00 [DBG] Connection id "0HN76JO6BPQVN" disconnecting.
2024-10-07 10:02:47.335 +03:00 [DBG] Connection id "0HN76JO6BPQVN" stopped.
2024-10-07 10:02:47.335 +03:00 [DBG] Connection id "0HN76JO6BPQVM" stopped.
2024-10-07 10:02:47.451 +03:00 [DBG] Connection id "0HN76JO6BPQVO" accepted.
2024-10-07 10:02:47.452 +03:00 [DBG] Connection id "0HN76JO6BPQVO" started.
2024-10-07 10:02:47.468 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:02:47.571 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 10:02:47.616 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:02:47.618 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:02:47.625 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:02:47.628 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:02:47.629 +03:00 [DBG] Connection id "0HN76JO6BPQVO" completed keep alive response.
2024-10-07 10:02:47.632 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 167.9782ms
2024-10-07 10:02:47.642 +03:00 [DBG] Connection id "0HN76JO6BPQVP" accepted.
2024-10-07 10:02:47.643 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger-ui.css - null null
2024-10-07 10:02:47.643 +03:00 [DBG] Connection id "0HN76JO6BPQVP" started.
2024-10-07 10:02:47.643 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" accepted.
2024-10-07 10:02:47.647 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.css - null null
2024-10-07 10:02:47.647 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" started.
2024-10-07 10:02:47.648 +03:00 [DBG] Connection id "0HN76JO6BPQVR" accepted.
2024-10-07 10:02:47.650 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:02:47.651 +03:00 [DBG] Connection id "0HN76JO6BPQVR" started.
2024-10-07 10:02:47.652 +03:00 [DBG] Connection id "0HN76JO6BPQVS" accepted.
2024-10-07 10:02:47.655 +03:00 [INF] The file /swagger-ui.css was not modified
2024-10-07 10:02:47.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger-ui-bundle.js - null null
2024-10-07 10:02:47.658 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" completed keep alive response.
2024-10-07 10:02:47.662 +03:00 [DBG] Connection id "0HN76JO6BPQVT" accepted.
2024-10-07 10:02:47.655 +03:00 [INF] The file /index.css was not modified
2024-10-07 10:02:47.665 +03:00 [INF] The file /swagger-ui-bundle.js was not modified
2024-10-07 10:02:47.666 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 15.2449ms
2024-10-07 10:02:47.666 +03:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2024-10-07 10:02:47.666 +03:00 [DBG] Connection id "0HN76JO6BPQVT" started.
2024-10-07 10:02:47.658 +03:00 [DBG] Connection id "0HN76JO6BPQVS" started.
2024-10-07 10:02:47.667 +03:00 [DBG] Handled. Status code: 304 File: /index.css
2024-10-07 10:02:47.667 +03:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2024-10-07 10:02:47.669 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:02:47.670 +03:00 [DBG] Connection id "0HN76JO6BPQVO" completed keep alive response.
2024-10-07 10:02:47.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:02:47.671 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger-ui-standalone-preset.js - null null
2024-10-07 10:02:47.672 +03:00 [DBG] Connection id "0HN76JO6BPQVR" completed keep alive response.
2024-10-07 10:02:47.671 +03:00 [DBG] Connection id "0HN76JO6BPQVP" completed keep alive response.
2024-10-07 10:02:47.684 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger-ui-bundle.js - 304 null text/javascript 26.0192ms
2024-10-07 10:02:47.684 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.css - 304 null text/css 37.3624ms
2024-10-07 10:02:47.675 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger-ui.css - 304 null text/css 32.3325ms
2024-10-07 10:02:47.679 +03:00 [DBG] Connection id "0HN76JO6BPQVT" completed keep alive response.
2024-10-07 10:02:47.679 +03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2024-10-07 10:02:47.691 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 21.0846ms
2024-10-07 10:02:47.692 +03:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2024-10-07 10:02:47.696 +03:00 [DBG] Connection id "0HN76JO6BPQVS" completed keep alive response.
2024-10-07 10:02:47.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger-ui-standalone-preset.js - 304 null text/javascript 26.0428ms
2024-10-07 10:02:47.713 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" completed keep alive response.
2024-10-07 10:02:47.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0571ms
2024-10-07 10:02:47.979 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:02:48.088 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" completed keep alive response.
2024-10-07 10:02:48.090 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.8841ms
2024-10-07 10:03:15.693 +03:00 [DBG] Connection id "0HN76JO6BPQVU" received FIN.
2024-10-07 10:03:15.701 +03:00 [DBG] Connection id "0HN76JO6BPQVU" accepted.
2024-10-07 10:03:15.704 +03:00 [DBG] Connection id "0HN76JO6BPQVU" started.
2024-10-07 10:03:15.705 +03:00 [DBG] Connection id "0HN76JO6BPQVV" accepted.
2024-10-07 10:03:15.712 +03:00 [DBG] Connection id "0HN76JO6BPQVU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:03:15.716 +03:00 [DBG] Connection id "0HN76JO6BPQVV" started.
2024-10-07 10:03:15.717 +03:00 [DBG] Connection id "0HN76JO6BPQVU" disconnecting.
2024-10-07 10:03:15.718 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/2/menu-items - null null
2024-10-07 10:03:15.719 +03:00 [DBG] Connection id "0HN76JO6BPQVU" stopped.
2024-10-07 10:03:15.721 +03:00 [DBG] The request path /api/reservations/2/menu-items does not match a supported file type
2024-10-07 10:03:15.724 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 10:03:15.726 +03:00 [DBG] The request path /api/reservations/2/menu-items does not match a supported file type
2024-10-07 10:03:15.763 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/2/menu-items'
2024-10-07 10:03:15.765 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/2/menu-items'
2024-10-07 10:03:15.768 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 10:03:15.915 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/6/2024 3:55:21 PM', Current time (UTC): '10/7/2024 7:03:15 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-07 10:03:15.944 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/6/2024 3:55:21 PM', Current time (UTC): '10/7/2024 7:03:15 AM'.
2024-10-07 10:03:15.953 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-10-07 10:03:15.962 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-07 10:03:15.967 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-07 10:03:15.969 +03:00 [DBG] Connection id "0HN76JO6BPQVV" completed keep alive response.
2024-10-07 10:03:15.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/2/menu-items - 401 0 null 252.4329ms
2024-10-07 10:03:19.036 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/auth/login - application/json 73
2024-10-07 10:03:19.043 +03:00 [DBG] POST requests are not supported
2024-10-07 10:03:19.046 +03:00 [DBG] POST requests are not supported
2024-10-07 10:03:19.049 +03:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2024-10-07 10:03:19.053 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2024-10-07 10:03:19.055 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:03:19.060 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 10:03:19.062 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:03:19.077 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Login(UserLogin) on controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI).
2024-10-07 10:03:19.083 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:03:19.084 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:03:19.085 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:03:19.086 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:03:19.087 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:03:19.089 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:03:19.090 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:03:19.094 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:03:19.097 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' using the name '' in request data ...
2024-10-07 10:03:19.098 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-07 10:03:19.099 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-07 10:03:19.104 +03:00 [DBG] Connection id "0HN76JO6BPQVV", Request id "0HN76JO6BPQVV:00000002": started reading request body.
2024-10-07 10:03:19.104 +03:00 [DBG] Connection id "0HN76JO6BPQVV", Request id "0HN76JO6BPQVV:00000002": done reading request body.
2024-10-07 10:03:19.172 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:03:19.176 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:03:19.179 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:03:19.191 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:03:19.207 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:03:19.213 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:03:19.215 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:03:19.216 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:03:19.217 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-07 10:03:19.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-07 10:03:19.223 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI) in 133.2066ms
2024-10-07 10:03:19.225 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:03:19.227 +03:00 [DBG] Connection id "0HN76JO6BPQVV" completed keep alive response.
2024-10-07 10:03:19.228 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/auth/login - 200 null text/plain; charset=utf-8 191.6751ms
2024-10-07 10:03:23.345 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/2/menu-items - null null
2024-10-07 10:03:23.348 +03:00 [DBG] The request path /api/reservations/2/menu-items does not match a supported file type
2024-10-07 10:03:23.349 +03:00 [DBG] The request path /api/reservations/2/menu-items does not match a supported file type
2024-10-07 10:03:23.350 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/2/menu-items'
2024-10-07 10:03:23.351 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/2/menu-items'
2024-10-07 10:03:23.352 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 10:03:23.363 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:03:23.364 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:03:23.368 +03:00 [DBG] Authorization was successful.
2024-10-07 10:03:23.368 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 10:03:23.374 +03:00 [INF] Route matched with {action = "GetMenuItemsByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItemsByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 10:03:23.377 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:03:23.378 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:03:23.379 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:03:23.380 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:03:23.381 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:03:23.382 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:03:23.512 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:03:23.517 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 10:03:23.519 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 10:03:23.520 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 10:03:23.521 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 10:03:23.524 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 10:03:23.526 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 10:03:23.544 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:03:23.556 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(o => o.ReservationId == __reservationId_0)
    .Include(o => o.MenuItem)
    .Select(o => o.MenuItem)'
2024-10-07 10:03:23.634 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<MenuItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: MenuItem.Name (string) Required MaxLength(100), 1], [Property: MenuItem.Price (decimal) Required, 2] }
        SELECT m.MenuItemId, m.Name, m.Price
        FROM Orders AS o
        INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
        WHERE o.ReservationId == @__reservationId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MenuItem>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:03:23.648 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:03:23.650 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-07 10:03:23.652 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:23.654 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:23.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:03:23.656 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:03:23.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:03:23.658 +03:00 [DBG] Executing DbCommand [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 10:03:23.679 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 10:03:23.691 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:23.693 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 10:03:23.697 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:23.701 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-10-07 10:03:23.705 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:03:23.707 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:03:23.708 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:03:23.710 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:03:23.711 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 10:03:23.749 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI) in 366.6385ms
2024-10-07 10:03:23.752 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 10:03:23.757 +03:00 [DBG] Connection id "0HN76JO6BPQVV" completed keep alive response.
2024-10-07 10:03:23.759 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:03:23.762 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:23.765 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-07 10:03:23.767 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/2/menu-items - 404 162 application/problem+json; charset=utf-8 422.1877ms
2024-10-07 10:03:34.686 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/1/menu-items - null null
2024-10-07 10:03:34.691 +03:00 [DBG] The request path /api/reservations/1/menu-items does not match a supported file type
2024-10-07 10:03:34.691 +03:00 [DBG] The request path /api/reservations/1/menu-items does not match a supported file type
2024-10-07 10:03:34.692 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/1/menu-items'
2024-10-07 10:03:34.693 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/1/menu-items'
2024-10-07 10:03:34.695 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 10:03:34.696 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:03:34.697 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:03:34.698 +03:00 [DBG] Authorization was successful.
2024-10-07 10:03:34.699 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 10:03:34.701 +03:00 [INF] Route matched with {action = "GetMenuItemsByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItemsByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 10:03:34.701 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:03:34.702 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:03:34.703 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:03:34.704 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:03:34.705 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:03:34.705 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:03:34.707 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:03:34.708 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 10:03:34.708 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 10:03:34.709 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 10:03:34.710 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 10:03:34.711 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 10:03:34.712 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 10:03:34.765 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:03:34.774 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:03:34.778 +03:00 [DBG] Created DbConnection. (4ms).
2024-10-07 10:03:34.779 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:34.781 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:34.782 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:03:34.783 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:03:34.784 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:03:34.785 +03:00 [DBG] Executing DbCommand [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 10:03:34.787 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 10:03:34.789 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:34.790 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:03:34.790 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:34.791 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:03:34.792 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:03:34.794 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:03:34.794 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:03:34.796 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:03:34.797 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 10:03:34.798 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI) in 93.0602ms
2024-10-07 10:03:34.800 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 10:03:34.801 +03:00 [DBG] Connection id "0HN76JO6BPQVV" completed keep alive response.
2024-10-07 10:03:34.801 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:03:34.802 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:03:34.803 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:03:34.804 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/1/menu-items - 404 162 application/problem+json; charset=utf-8 118.1916ms
2024-10-07 10:04:07.985 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - application/json 77
2024-10-07 10:04:07.990 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:04:07.992 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:04:07.993 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:04:07.995 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:04:07.996 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:04:07.998 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:04:07.998 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:04:07.999 +03:00 [DBG] Authorization was successful.
2024-10-07 10:04:08.000 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:04:08.003 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:04:08.004 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:04:08.005 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:04:08.006 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:04:08.007 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:04:08.008 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:04:08.009 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:04:08.011 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:04:08.014 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:04:08.016 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)'
2024-10-07 10:04:08.018 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 10:04:08.050 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
            3 -> 3
        SELECT c.CustomerId, c.Name, c.Phone, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate
        FROM Customers AS c
        LEFT JOIN Reservations AS r ON c.CustomerId == r.CustomerId
        ORDER BY c.CustomerId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:04:08.057 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:04:08.057 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:04:08.058 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:08.059 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:08.060 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:04:08.062 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:04:08.063 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:04:08.064 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Customers] AS [c]
LEFT JOIN [Reservations] AS [r] ON [c].[CustomerId] = [r].[CustomerId]
ORDER BY [c].[CustomerId]
2024-10-07 10:04:08.067 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Customers] AS [c]
LEFT JOIN [Reservations] AS [r] ON [c].[CustomerId] = [r].[CustomerId]
ORDER BY [c].[CustomerId]
2024-10-07 10:04:08.075 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:08.080 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:08.081 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:08.083 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:08.084 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:08.085 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:08.086 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:08.087 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:08.087 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 15ms reading results.
2024-10-07 10:04:08.088 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:08.089 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:04:08.101 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:04:08.103 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:04:08.104 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:04:08.104 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:04:08.105 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:04:08.105 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:04:08.116 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 107.3253ms
2024-10-07 10:04:08.117 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:04:08.119 +03:00 [DBG] Connection id "0HN76JO6BPQVV" completed keep alive response.
2024-10-07 10:04:08.119 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:04:08.120 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:08.121 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:04:08.122 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 836 application/json; charset=utf-8 136.9951ms
2024-10-07 10:04:08.124 +03:00 [DBG] Connection id "0HN76JO6BPQVV", Request id "0HN76JO6BPQVV:00000005": started reading request body.
2024-10-07 10:04:08.124 +03:00 [DBG] Connection id "0HN76JO6BPQVV", Request id "0HN76JO6BPQVV:00000005": done reading request body.
2024-10-07 10:04:59.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations - application/json 77
2024-10-07 10:04:59.151 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:04:59.152 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:04:59.154 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 10:04:59.154 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 10:04:59.160 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:04:59.162 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:04:59.163 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:04:59.165 +03:00 [DBG] Authorization was successful.
2024-10-07 10:04:59.166 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:04:59.172 +03:00 [INF] Route matched with {action = "GetReservations", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservations() on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 10:04:59.177 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:04:59.178 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:04:59.179 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:04:59.180 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:04:59.181 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:04:59.182 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:04:59.184 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:04:59.186 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:04:59.188 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(c => c.Orders)'
2024-10-07 10:04:59.189 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:04:59.196 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
            3 -> 4
        SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId
        FROM Reservations AS r
        LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ORDER BY r.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:04:59.198 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:04:59.198 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:04:59.199 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:59.200 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:59.200 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:04:59.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:04:59.202 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:04:59.203 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId]
FROM [Reservations] AS [r]
LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
ORDER BY [r].[ReservationId]
2024-10-07 10:04:59.207 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId]
FROM [Reservations] AS [r]
LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
ORDER BY [r].[ReservationId]
2024-10-07 10:04:59.212 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.214 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.214 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.215 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.216 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.217 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.218 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.218 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.219 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.221 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.222 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:04:59.222 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:59.223 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 11ms reading results.
2024-10-07 10:04:59.224 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:59.225 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:04:59.230 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:04:59.232 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:04:59.232 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:04:59.233 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:04:59.233 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:04:59.234 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:04:59.239 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI) in 57.433ms
2024-10-07 10:04:59.240 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:04:59.241 +03:00 [DBG] Connection id "0HN76JO6BPQVV" completed keep alive response.
2024-10-07 10:04:59.242 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:04:59.243 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:04:59.243 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:04:59.245 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations - 200 2605 application/json; charset=utf-8 101.9209ms
2024-10-07 10:04:59.247 +03:00 [DBG] Connection id "0HN76JO6BPQVV", Request id "0HN76JO6BPQVV:00000006": started reading request body.
2024-10-07 10:04:59.248 +03:00 [DBG] Connection id "0HN76JO6BPQVV", Request id "0HN76JO6BPQVV:00000006": done reading request body.
2024-10-07 10:06:25.329 +03:00 [DBG] Connection id "0HN76JO6BPR00" received FIN.
2024-10-07 10:06:25.340 +03:00 [DBG] Connection id "0HN76JO6BPR00" accepted.
2024-10-07 10:06:25.343 +03:00 [DBG] Connection id "0HN76JO6BPR00" started.
2024-10-07 10:06:25.348 +03:00 [DBG] Connection id "0HN76JO6BPR01" accepted.
2024-10-07 10:06:25.349 +03:00 [DBG] Connection id "0HN76JO6BPR00" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:06:25.350 +03:00 [DBG] Connection id "0HN76JO6BPR01" started.
2024-10-07 10:06:25.351 +03:00 [DBG] Connection id "0HN76JO6BPR00" disconnecting.
2024-10-07 10:06:25.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - application/json 77
2024-10-07 10:06:25.352 +03:00 [DBG] Connection id "0HN76JO6BPR00" stopped.
2024-10-07 10:06:25.353 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:06:25.355 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:06:25.355 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:06:25.356 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:06:25.357 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:06:25.358 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:06:25.359 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:06:25.359 +03:00 [DBG] Authorization was successful.
2024-10-07 10:06:25.360 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:06:25.363 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:06:25.364 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:06:25.365 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:06:25.365 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:06:25.366 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:06:25.367 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:06:25.368 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:06:25.369 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:06:25.371 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:06:25.374 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.Reservation)
    .Include(o => o.MenuItem)'
2024-10-07 10:06:25.375 +03:00 [DBG] Including navigation: 'Order.Reservation'.
2024-10-07 10:06:25.379 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 10:06:25.385 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.MenuItemId (int) Required FK Index, 1], [Property: Order.Quantity (int) Required, 2], [Property: Order.ReservationId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            2 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
        SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, m.MenuItemId, m.Name, m.Price
        FROM Orders AS o
        INNER JOIN Reservations AS r ON o.ReservationId == r.ReservationId
        INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:06:25.388 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:06:25.388 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:06:25.389 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:25.390 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:25.391 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:06:25.392 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:06:25.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:06:25.393 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:06:25.396 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:06:25.398 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.399 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.400 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.402 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.403 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.404 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.405 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.405 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.407 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.408 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.408 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.409 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.410 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.410 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.411 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.412 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.412 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.413 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.414 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.415 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.415 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.416 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.417 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:25.418 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:25.418 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-10-07 10:06:25.419 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:25.420 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:06:25.428 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:06:25.432 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:06:25.433 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:06:25.435 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:06:25.436 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:06:25.438 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:06:25.442 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 74.5324ms
2024-10-07 10:06:25.444 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:06:25.445 +03:00 [DBG] Connection id "0HN76JO6BPR01" completed keep alive response.
2024-10-07 10:06:25.446 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:06:25.447 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:25.447 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:06:25.449 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 822 application/json; charset=utf-8 97.2547ms
2024-10-07 10:06:25.450 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000001": started reading request body.
2024-10-07 10:06:25.451 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000001": done reading request body.
2024-10-07 10:06:58.473 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - application/json 77
2024-10-07 10:06:58.489 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:06:58.490 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:06:58.491 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:06:58.492 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:06:58.494 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:06:58.496 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:06:58.499 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:06:58.500 +03:00 [DBG] Authorization was successful.
2024-10-07 10:06:58.501 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:06:58.502 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:06:58.505 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:06:58.506 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:06:58.507 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:06:58.508 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:06:58.509 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:06:58.510 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:06:58.511 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:06:58.513 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:06:58.514 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:06:58.515 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:06:58.516 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:58.517 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:58.518 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:06:58.520 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:06:58.523 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-07 10:06:58.524 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Customers] AS [c]
LEFT JOIN [Reservations] AS [r] ON [c].[CustomerId] = [r].[CustomerId]
ORDER BY [c].[CustomerId]
2024-10-07 10:06:58.526 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Customers] AS [c]
LEFT JOIN [Reservations] AS [r] ON [c].[CustomerId] = [r].[CustomerId]
ORDER BY [c].[CustomerId]
2024-10-07 10:06:58.533 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:58.535 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:58.537 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:58.537 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:58.538 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:58.539 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:58.540 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:06:58.541 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:58.542 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 10:06:58.544 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:58.545 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:06:58.547 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:06:58.549 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:06:58.550 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:06:58.551 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:06:58.552 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:06:58.554 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:06:58.556 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 46.3436ms
2024-10-07 10:06:58.557 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:06:58.557 +03:00 [DBG] Connection id "0HN76JO6BPR01" completed keep alive response.
2024-10-07 10:06:58.558 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:06:58.559 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:06:58.560 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:06:58.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 836 application/json; charset=utf-8 88.353ms
2024-10-07 10:06:58.563 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000002": started reading request body.
2024-10-07 10:06:58.564 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000002": done reading request body.
2024-10-07 10:07:21.442 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employess - application/json 77
2024-10-07 10:07:21.454 +03:00 [DBG] The request path /api/employess does not match a supported file type
2024-10-07 10:07:21.456 +03:00 [DBG] The request path /api/employess does not match a supported file type
2024-10-07 10:07:21.457 +03:00 [DBG] No candidates found for the request path '/api/employess'
2024-10-07 10:07:21.459 +03:00 [DBG] Request did not match any endpoints
2024-10-07 10:07:21.461 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:07:21.461 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:07:21.463 +03:00 [DBG] Connection id "0HN76JO6BPR01" completed keep alive response.
2024-10-07 10:07:21.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employess - 404 0 null 22.3074ms
2024-10-07 10:07:21.470 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5099/api/employess, Response status code: 404
2024-10-07 10:07:21.471 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000003": started reading request body.
2024-10-07 10:07:21.473 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000003": done reading request body.
2024-10-07 10:07:27.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - application/json 77
2024-10-07 10:07:27.444 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:07:27.448 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:07:27.449 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:07:27.451 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:07:27.455 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:07:27.458 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:07:27.461 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:07:27.464 +03:00 [DBG] Authorization was successful.
2024-10-07 10:07:27.467 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:07:27.471 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:07:27.476 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:07:27.480 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:07:27.483 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:07:27.490 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:07:27.491 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:07:27.492 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:07:27.494 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:07:27.496 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:07:27.498 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(c => c.Reservations)'
2024-10-07 10:07:27.500 +03:00 [DBG] Including navigation: 'Employee.Reservations'.
2024-10-07 10:07:27.508 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.EmployeeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Name (string) Required MaxLength(100), 1], [Property: Employee.Role (string) Required MaxLength(50), 2], [Property: Employee.Salary (decimal) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            3 -> 4
        SELECT e.EmployeeId, e.Name, e.Role, e.Salary, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate
        FROM Employees AS e
        LEFT JOIN Reservations AS r ON e.EmployeeId == r.EmployeeId
        ORDER BY e.EmployeeId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:07:27.511 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:07:27.511 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:07:27.512 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:27.512 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:27.513 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:07:27.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:07:27.514 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:07:27.515 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Employees] AS [e]
LEFT JOIN [Reservations] AS [r] ON [e].[EmployeeId] = [r].[EmployeeId]
ORDER BY [e].[EmployeeId]
2024-10-07 10:07:27.519 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Employees] AS [e]
LEFT JOIN [Reservations] AS [r] ON [e].[EmployeeId] = [r].[EmployeeId]
ORDER BY [e].[EmployeeId]
2024-10-07 10:07:27.521 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:27.522 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:27.523 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:27.524 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:27.525 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:27.526 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:27.528 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:27.529 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:27.530 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 10:07:27.531 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:27.532 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:07:27.537 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:07:27.541 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:07:27.542 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:07:27.544 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:07:27.546 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:07:27.547 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:07:27.551 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 58.2888ms
2024-10-07 10:07:27.552 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:07:27.553 +03:00 [DBG] Connection id "0HN76JO6BPR01" completed keep alive response.
2024-10-07 10:07:27.554 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:07:27.554 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:27.555 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:07:27.556 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 864 application/json; charset=utf-8 116.2191ms
2024-10-07 10:07:27.558 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000004": started reading request body.
2024-10-07 10:07:27.558 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000004": done reading request body.
2024-10-07 10:07:42.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations - application/json 77
2024-10-07 10:07:42.519 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:07:42.522 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:07:42.523 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 10:07:42.525 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 10:07:42.527 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:07:42.528 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:07:42.530 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:07:42.532 +03:00 [DBG] Authorization was successful.
2024-10-07 10:07:42.532 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:07:42.533 +03:00 [INF] Route matched with {action = "GetReservations", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservations() on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 10:07:42.534 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:07:42.535 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:07:42.538 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:07:42.539 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:07:42.540 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:07:42.541 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:07:42.542 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:07:42.544 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:07:42.545 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:07:42.545 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:07:42.546 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:42.547 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:42.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:07:42.548 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:07:42.549 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:07:42.550 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId]
FROM [Reservations] AS [r]
LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
ORDER BY [r].[ReservationId]
2024-10-07 10:07:42.553 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId]
FROM [Reservations] AS [r]
LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
ORDER BY [r].[ReservationId]
2024-10-07 10:07:42.558 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.559 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.560 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.561 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.562 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.563 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.564 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.565 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.566 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.567 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.568 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:07:42.570 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:42.571 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-10-07 10:07:42.572 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:42.574 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:07:42.575 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:07:42.577 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:07:42.578 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:07:42.579 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:07:42.579 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:07:42.581 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:07:42.582 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI) in 41.047ms
2024-10-07 10:07:42.583 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:07:42.584 +03:00 [DBG] Connection id "0HN76JO6BPR01" completed keep alive response.
2024-10-07 10:07:42.586 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:07:42.587 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:07:42.588 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:07:42.589 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations - 200 2605 application/json; charset=utf-8 76.071ms
2024-10-07 10:07:42.591 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000005": started reading request body.
2024-10-07 10:07:42.593 +03:00 [DBG] Connection id "0HN76JO6BPR01", Request id "0HN76JO6BPR01:00000005": done reading request body.
2024-10-07 10:07:52.455 +03:00 [DBG] Connection id "0HN76JO6BPQVO" received FIN.
2024-10-07 10:07:52.456 +03:00 [DBG] Connection id "0HN76JO6BPQVT" received FIN.
2024-10-07 10:07:52.455 +03:00 [DBG] Connection id "0HN76JO6BPQVR" received FIN.
2024-10-07 10:07:52.455 +03:00 [DBG] Connection id "0HN76JO6BPQVP" received FIN.
2024-10-07 10:07:52.475 +03:00 [DBG] Connection id "0HN76JO6BPQVT" disconnecting.
2024-10-07 10:07:52.478 +03:00 [DBG] Connection id "0HN76JO6BPQVR" disconnecting.
2024-10-07 10:07:52.467 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" received FIN.
2024-10-07 10:07:52.464 +03:00 [DBG] Connection id "0HN76JO6BPQVS" received FIN.
2024-10-07 10:07:52.469 +03:00 [DBG] Connection id "0HN76JO6BPQVO" disconnecting.
2024-10-07 10:07:52.483 +03:00 [DBG] Connection id "0HN76JO6BPQVT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:07:52.484 +03:00 [DBG] Connection id "0HN76JO6BPQVP" disconnecting.
2024-10-07 10:07:52.484 +03:00 [DBG] Connection id "0HN76JO6BPQVR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:07:52.490 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" disconnecting.
2024-10-07 10:07:52.490 +03:00 [DBG] Connection id "0HN76JO6BPQVO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:07:52.492 +03:00 [DBG] Connection id "0HN76JO6BPQVP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:07:52.492 +03:00 [DBG] Connection id "0HN76JO6BPQVS" disconnecting.
2024-10-07 10:07:52.493 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:07:52.495 +03:00 [DBG] Connection id "0HN76JO6BPQVS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:07:52.501 +03:00 [DBG] Connection id "0HN76JO6BPQVS" stopped.
2024-10-07 10:07:52.501 +03:00 [DBG] Connection id "0HN76JO6BPQVR" stopped.
2024-10-07 10:07:52.501 +03:00 [DBG] Connection id "0HN76JO6BPQVO" stopped.
2024-10-07 10:07:52.501 +03:00 [DBG] Connection id "0HN76JO6BPQVT" stopped.
2024-10-07 10:07:52.501 +03:00 [DBG] Connection id "0HN76JO6BPQVP" stopped.
2024-10-07 10:07:52.501 +03:00 [DBG] Connection id "0HN76JO6BPQVQ" stopped.
2024-10-07 10:09:00.502 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 10:09:01.196 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:09:01.237 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 10:09:01.361 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:09:01.394 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:09:01.410 +03:00 [DBG] Created DbConnection. (15ms).
2024-10-07 10:09:01.415 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:01.597 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:01.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:09:01.608 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-07 10:09:01.612 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-10-07 10:09:01.618 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:09:01.638 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:09:01.647 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:01.652 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-10-07 10:09:01.654 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:01.657 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-10-07 10:09:01.659 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:09:01.660 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:01.661 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:09:01.705 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 10:09:01.745 +03:00 [DBG] Hosting starting
2024-10-07 10:09:01.762 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 10:09:01.770 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 10:09:01.778 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 10:09:01.785 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 10:09:01.788 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:09:01.789 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 10:09:01.790 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:09:01.793 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 10:09:01.795 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 10:09:01.796 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 10:09:01.798 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 10:09:01.874 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 10:09:01.875 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 10:09:01.876 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 10:09:01.876 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 10:09:01.877 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 10:09:01.919 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 10:09:01.921 +03:00 [INF] Hosting environment: Development
2024-10-07 10:09:01.925 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 10:09:01.926 +03:00 [DBG] Hosting started
2024-10-07 10:09:02.233 +03:00 [DBG] Connection id "0HN76JRM3NGQ6" accepted.
2024-10-07 10:09:02.237 +03:00 [DBG] Connection id "0HN76JRM3NGQ6" started.
2024-10-07 10:09:02.242 +03:00 [DBG] Connection id "0HN76JRM3NGQ7" accepted.
2024-10-07 10:09:02.245 +03:00 [DBG] Connection id "0HN76JRM3NGQ7" started.
2024-10-07 10:09:02.276 +03:00 [DBG] Connection id "0HN76JRM3NGQ7" received FIN.
2024-10-07 10:09:02.276 +03:00 [DBG] Connection id "0HN76JRM3NGQ6" received FIN.
2024-10-07 10:09:02.286 +03:00 [DBG] Connection id "0HN76JRM3NGQ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:09:02.286 +03:00 [DBG] Connection id "0HN76JRM3NGQ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:09:02.293 +03:00 [DBG] Connection id "0HN76JRM3NGQ6" disconnecting.
2024-10-07 10:09:02.293 +03:00 [DBG] Connection id "0HN76JRM3NGQ7" disconnecting.
2024-10-07 10:09:02.312 +03:00 [DBG] Connection id "0HN76JRM3NGQ7" stopped.
2024-10-07 10:09:02.312 +03:00 [DBG] Connection id "0HN76JRM3NGQ6" stopped.
2024-10-07 10:09:02.400 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" accepted.
2024-10-07 10:09:02.402 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" started.
2024-10-07 10:09:02.424 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:09:02.503 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 10:09:02.548 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:09:02.551 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:09:02.559 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:09:02.562 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:09:02.564 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:09:02.570 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 147.1624ms
2024-10-07 10:09:02.573 +03:00 [DBG] Connection id "0HN76JRM3NGQ9" accepted.
2024-10-07 10:09:02.576 +03:00 [DBG] Connection id "0HN76JRM3NGQ9" started.
2024-10-07 10:09:02.577 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:09:02.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:09:02.584 +03:00 [DBG] Connection id "0HN76JRM3NGQA" accepted.
2024-10-07 10:09:02.584 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:09:02.586 +03:00 [DBG] Connection id "0HN76JRM3NGQA" started.
2024-10-07 10:09:02.587 +03:00 [DBG] Connection id "0HN76JRM3NGQ9" completed keep alive response.
2024-10-07 10:09:02.588 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 10.5383ms
2024-10-07 10:09:02.590 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:09:02.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 11.445ms
2024-10-07 10:09:02.631 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:09:02.632 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.0249ms
2024-10-07 10:09:02.750 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:09:02.841 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:09:02.843 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.8396ms
2024-10-07 10:09:06.576 +03:00 [DBG] Connection id "0HN76JRM3NGQB" accepted.
2024-10-07 10:09:06.576 +03:00 [DBG] Connection id "0HN76JRM3NGQB" received FIN.
2024-10-07 10:09:06.580 +03:00 [DBG] Connection id "0HN76JRM3NGQB" started.
2024-10-07 10:09:06.581 +03:00 [DBG] Connection id "0HN76JRM3NGQC" accepted.
2024-10-07 10:09:06.582 +03:00 [DBG] Connection id "0HN76JRM3NGQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:09:06.583 +03:00 [DBG] Connection id "0HN76JRM3NGQC" started.
2024-10-07 10:09:06.584 +03:00 [DBG] Connection id "0HN76JRM3NGQB" disconnecting.
2024-10-07 10:09:06.585 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations - application/json 77
2024-10-07 10:09:06.587 +03:00 [DBG] Connection id "0HN76JRM3NGQB" stopped.
2024-10-07 10:09:06.594 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:09:06.595 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 10:09:06.596 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:09:06.620 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 10:09:06.626 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 10:09:06.628 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:09:06.761 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:09:06.765 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:09:06.776 +03:00 [DBG] Authorization was successful.
2024-10-07 10:09:06.780 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:09:06.808 +03:00 [INF] Route matched with {action = "GetReservations", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservations() on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 10:09:06.816 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:09:06.817 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:09:06.819 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:09:06.821 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:09:06.822 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:09:06.824 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:09:06.938 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:09:06.965 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:09:06.987 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(c => c.Orders)'
2024-10-07 10:09:07.009 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:09:07.131 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
            3 -> 4
        SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId
        FROM Reservations AS r
        LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ORDER BY r.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:09:07.148 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:09:07.151 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-07 10:09:07.155 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:07.161 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:07.163 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:09:07.168 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-07 10:09:07.171 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-07 10:09:07.175 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId]
FROM [Reservations] AS [r]
LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
ORDER BY [r].[ReservationId]
2024-10-07 10:09:07.198 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId]
FROM [Reservations] AS [r]
LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
ORDER BY [r].[ReservationId]
2024-10-07 10:09:07.232 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.262 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.269 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.273 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.278 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.279 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.280 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.281 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.283 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.283 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.284 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:09:07.291 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:07.292 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 89ms reading results.
2024-10-07 10:09:07.294 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:07.296 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:09:07.312 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:09:07.317 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:09:07.318 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:09:07.319 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:09:07.320 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:09:07.325 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:09:07.417 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI) in 591.3491ms
2024-10-07 10:09:07.421 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:09:07.425 +03:00 [DBG] Connection id "0HN76JRM3NGQC" completed keep alive response.
2024-10-07 10:09:07.427 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:09:07.431 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:09:07.435 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-07 10:09:07.437 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations - 200 1052 application/json; charset=utf-8 851.3006ms
2024-10-07 10:09:07.444 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000001": started reading request body.
2024-10-07 10:09:07.446 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000001": done reading request body.
2024-10-07 10:10:00.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:10:00.641 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:10:00.643 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:10:00.643 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:10:00.644 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:10:00.645 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:10:00.645 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 14.9873ms
2024-10-07 10:10:00.662 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:10:00.663 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:10:00.663 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:10:00.668 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:10:00.671 +03:00 [DBG] Connection id "0HN76JRM3NGQ9" completed keep alive response.
2024-10-07 10:10:00.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 11.9065ms
2024-10-07 10:10:00.675 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 11.5159ms
2024-10-07 10:10:00.683 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:10:00.686 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.2498ms
2024-10-07 10:10:00.780 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:10:00.787 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/favicon-32x32.png - null null
2024-10-07 10:10:00.792 +03:00 [INF] The file /favicon-32x32.png was not modified
2024-10-07 10:10:00.793 +03:00 [DBG] Handled. Status code: 304 File: /favicon-32x32.png
2024-10-07 10:10:00.795 +03:00 [DBG] Connection id "0HN76JRM3NGQ9" completed keep alive response.
2024-10-07 10:10:00.796 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/favicon-32x32.png - 304 null image/png 9.0457ms
2024-10-07 10:10:00.810 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:10:00.811 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.0027ms
2024-10-07 10:10:01.674 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations - application/json 77
2024-10-07 10:10:01.678 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:10:01.680 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:10:01.681 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 10:10:01.684 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 10:10:01.687 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:10:01.689 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:10:01.690 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:10:01.692 +03:00 [DBG] Authorization was successful.
2024-10-07 10:10:01.694 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:10:01.698 +03:00 [INF] Route matched with {action = "GetReservations", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservations() on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 10:10:01.700 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:10:01.702 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:10:01.707 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:10:01.709 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:10:01.711 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:10:01.713 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:10:01.716 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:10:01.780 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:10:01.788 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(c => c.Orders)
    .ThenInclude(c => c.MenuItem)'
2024-10-07 10:10:01.792 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:10:01.795 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 10:10:01.828 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
            3 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
            4 -> 4
            5 -> 8
        SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId, t.MenuItemId0, t.Name, t.Price
        FROM Reservations AS r
        LEFT JOIN 
        (
            SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, m.MenuItemId AS MenuItemId0, m.Name, m.Price
            FROM Orders AS o
            INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
        ) AS t ON r.ReservationId == t.ReservationId
        ORDER BY r.ReservationId ASC, t.OrderId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:10:01.833 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:10:01.834 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:10:01.835 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:01.837 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:01.838 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:10:01.839 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:10:01.840 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:10:01.840 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 10:10:01.850 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 10:10:01.854 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.855 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.861 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.863 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.871 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.873 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.874 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.876 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.877 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.879 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.880 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.881 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.882 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.883 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.884 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.885 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.886 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.887 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.888 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.889 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.890 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:01.891 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:01.891 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 39ms reading results.
2024-10-07 10:10:01.892 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:01.893 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:10:01.894 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:10:01.896 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:10:01.896 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:10:01.897 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:10:01.897 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:10:01.898 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:10:01.903 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI) in 189.6295ms
2024-10-07 10:10:01.904 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:10:01.905 +03:00 [DBG] Connection id "0HN76JRM3NGQC" completed keep alive response.
2024-10-07 10:10:01.906 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:10:01.906 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:01.908 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:10:01.909 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations - 200 1339 application/json; charset=utf-8 235.3915ms
2024-10-07 10:10:01.911 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000002": started reading request body.
2024-10-07 10:10:01.912 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000002": done reading request body.
2024-10-07 10:10:22.511 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - application/json 77
2024-10-07 10:10:22.519 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:10:22.519 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:10:22.521 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:10:22.522 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:10:22.525 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:10:22.527 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:10:22.527 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:10:22.529 +03:00 [DBG] Authorization was successful.
2024-10-07 10:10:22.529 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:10:22.534 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:10:22.536 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:10:22.536 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:10:22.537 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:10:22.541 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:10:22.542 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:10:22.543 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:10:22.544 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:10:22.547 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:10:22.550 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.Reservation)
    .Include(o => o.MenuItem)'
2024-10-07 10:10:22.551 +03:00 [DBG] Including navigation: 'Order.Reservation'.
2024-10-07 10:10:22.552 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 10:10:22.560 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.MenuItemId (int) Required FK Index, 1], [Property: Order.Quantity (int) Required, 2], [Property: Order.ReservationId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            2 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
        SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, m.MenuItemId, m.Name, m.Price
        FROM Orders AS o
        INNER JOIN Reservations AS r ON o.ReservationId == r.ReservationId
        INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:10:22.562 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:10:22.563 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:10:22.563 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:22.564 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:22.565 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:10:22.565 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:10:22.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:10:22.567 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:10:22.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:10:22.578 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.579 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.580 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.582 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.584 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.585 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.586 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.587 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.588 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.591 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.592 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.593 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.594 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.595 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.596 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.596 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.597 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.598 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.598 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.599 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.600 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.601 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.601 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:22.602 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:22.603 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 25ms reading results.
2024-10-07 10:10:22.604 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:22.604 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:10:22.608 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:10:22.611 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:10:22.611 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:10:22.612 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:10:22.612 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:10:22.613 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:10:22.614 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 70.8914ms
2024-10-07 10:10:22.615 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:10:22.615 +03:00 [DBG] Connection id "0HN76JRM3NGQC" completed keep alive response.
2024-10-07 10:10:22.616 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:10:22.616 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:22.617 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:10:22.618 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 822 application/json; charset=utf-8 108.0961ms
2024-10-07 10:10:22.620 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000003": started reading request body.
2024-10-07 10:10:22.621 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000003": done reading request body.
2024-10-07 10:10:32.637 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - application/json 77
2024-10-07 10:10:32.642 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:10:32.643 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:10:32.643 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:10:32.644 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:10:32.645 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:10:32.647 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:10:32.648 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:10:32.648 +03:00 [DBG] Authorization was successful.
2024-10-07 10:10:32.649 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:10:32.656 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:10:32.658 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:10:32.659 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:10:32.661 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:10:32.663 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:10:32.665 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:10:32.666 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:10:32.668 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:10:32.671 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:10:32.674 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)'
2024-10-07 10:10:32.676 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 10:10:32.686 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
            3 -> 3
        SELECT c.CustomerId, c.Name, c.Phone, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate
        FROM Customers AS c
        LEFT JOIN Reservations AS r ON c.CustomerId == r.CustomerId
        ORDER BY c.CustomerId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:10:32.691 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:10:32.692 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:10:32.692 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:32.693 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:32.694 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:10:32.695 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:10:32.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:10:32.696 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Customers] AS [c]
LEFT JOIN [Reservations] AS [r] ON [c].[CustomerId] = [r].[CustomerId]
ORDER BY [c].[CustomerId]
2024-10-07 10:10:32.698 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
FROM [Customers] AS [c]
LEFT JOIN [Reservations] AS [r] ON [c].[CustomerId] = [r].[CustomerId]
ORDER BY [c].[CustomerId]
2024-10-07 10:10:32.702 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:32.707 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:32.709 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:32.709 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:32.710 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:32.711 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:32.712 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:10:32.712 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:32.713 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 12ms reading results.
2024-10-07 10:10:32.714 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:32.715 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:10:32.723 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:10:32.724 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:10:32.725 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:10:32.725 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:10:32.726 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:10:32.727 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:10:32.729 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 63.5763ms
2024-10-07 10:10:32.730 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:10:32.731 +03:00 [DBG] Connection id "0HN76JRM3NGQC" completed keep alive response.
2024-10-07 10:10:32.732 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:10:32.733 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:10:32.734 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:10:32.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 836 application/json; charset=utf-8 98.819ms
2024-10-07 10:10:32.738 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000004": started reading request body.
2024-10-07 10:10:32.738 +03:00 [DBG] Connection id "0HN76JRM3NGQC", Request id "0HN76JRM3NGQC:00000004": done reading request body.
2024-10-07 10:13:28.072 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:13:28.084 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:13:28.084 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:13:28.086 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:13:28.088 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:13:28.089 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:13:28.090 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 17.962ms
2024-10-07 10:13:28.103 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:13:28.103 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:13:28.103 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:13:28.107 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:13:28.121 +03:00 [DBG] Connection id "0HN76JRM3NGQ9" completed keep alive response.
2024-10-07 10:13:28.126 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 22.4696ms
2024-10-07 10:13:28.131 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 27.6364ms
2024-10-07 10:13:28.152 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:13:28.154 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.3617ms
2024-10-07 10:13:28.258 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:13:28.299 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:13:28.301 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.4359ms
2024-10-07 10:13:29.510 +03:00 [DBG] Connection id "0HN76JRM3NGQD" accepted.
2024-10-07 10:13:29.510 +03:00 [DBG] Connection id "0HN76JRM3NGQD" received FIN.
2024-10-07 10:13:29.512 +03:00 [DBG] Connection id "0HN76JRM3NGQD" started.
2024-10-07 10:13:29.513 +03:00 [DBG] Connection id "0HN76JRM3NGQE" accepted.
2024-10-07 10:13:29.518 +03:00 [DBG] Connection id "0HN76JRM3NGQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:13:29.520 +03:00 [DBG] Connection id "0HN76JRM3NGQE" started.
2024-10-07 10:13:29.525 +03:00 [DBG] Connection id "0HN76JRM3NGQD" disconnecting.
2024-10-07 10:13:29.526 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - application/json 77
2024-10-07 10:13:29.527 +03:00 [DBG] Connection id "0HN76JRM3NGQD" stopped.
2024-10-07 10:13:29.529 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:13:29.530 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:13:29.531 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:13:29.532 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:13:29.533 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:13:29.533 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:13:29.534 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:13:29.535 +03:00 [DBG] Authorization was successful.
2024-10-07 10:13:29.535 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:13:29.538 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:13:29.541 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:13:29.542 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:13:29.543 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:13:29.544 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:13:29.545 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:13:29.546 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:13:29.547 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:13:29.550 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:13:29.552 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 10:13:29.554 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 10:13:29.555 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:13:29.564 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:13:29.567 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Order.MenuItemId (int) Required FK Index, 8], [Property: Order.Quantity (int) Required, 9], [Property: Order.ReservationId (int) Required FK Index, 10] }
            5 -> 7
        SELECT c.CustomerId, c.Name, c.Phone, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Customers AS c
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON c.CustomerId == t.CustomerId
        ORDER BY c.CustomerId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:13:29.568 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:13:29.569 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:13:29.569 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:29.570 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:29.572 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:13:29.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:13:29.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:13:29.574 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:13:29.579 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:13:29.580 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.581 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.582 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.583 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.584 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.585 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.586 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.587 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.588 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.589 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.590 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.590 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.591 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.592 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:29.593 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:29.593 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-10-07 10:13:29.594 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:29.595 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:13:29.596 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:13:29.598 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:13:29.598 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:13:29.599 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:13:29.599 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:13:29.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:13:29.601 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 55.0126ms
2024-10-07 10:13:29.602 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:13:29.603 +03:00 [DBG] Connection id "0HN76JRM3NGQE" completed keep alive response.
2024-10-07 10:13:29.604 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:13:29.604 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:29.605 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:13:29.606 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 1366 application/json; charset=utf-8 79.5513ms
2024-10-07 10:13:29.608 +03:00 [DBG] Connection id "0HN76JRM3NGQE", Request id "0HN76JRM3NGQE:00000001": started reading request body.
2024-10-07 10:13:29.609 +03:00 [DBG] Connection id "0HN76JRM3NGQE", Request id "0HN76JRM3NGQE:00000001": done reading request body.
2024-10-07 10:13:51.145 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - application/json 77
2024-10-07 10:13:51.151 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:13:51.155 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:13:51.158 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:13:51.161 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:13:51.163 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:13:51.165 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:13:51.166 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:13:51.167 +03:00 [DBG] Authorization was successful.
2024-10-07 10:13:51.168 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:13:51.172 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:13:51.175 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:13:51.176 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:13:51.177 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:13:51.180 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:13:51.182 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:13:51.184 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:13:51.186 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:13:51.189 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:13:51.197 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:13:51.198 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:13:51.198 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:51.199 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:51.200 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:13:51.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:13:51.201 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:13:51.202 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:13:51.205 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:13:51.207 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.208 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.209 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.210 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.211 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.212 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.212 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.213 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.214 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.215 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.216 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.216 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.217 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.218 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.219 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.220 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.220 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.221 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.222 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.223 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.224 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.225 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.225 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:13:51.226 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:51.227 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-10-07 10:13:51.228 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:51.228 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:13:51.229 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:13:51.231 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:13:51.232 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:13:51.232 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:13:51.233 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:13:51.233 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:13:51.234 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 50.3432ms
2024-10-07 10:13:51.235 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:13:51.236 +03:00 [DBG] Connection id "0HN76JRM3NGQE" completed keep alive response.
2024-10-07 10:13:51.237 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:13:51.238 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:13:51.238 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:13:51.240 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 822 application/json; charset=utf-8 95.147ms
2024-10-07 10:13:51.242 +03:00 [DBG] Connection id "0HN76JRM3NGQE", Request id "0HN76JRM3NGQE:00000002": started reading request body.
2024-10-07 10:13:51.243 +03:00 [DBG] Connection id "0HN76JRM3NGQE", Request id "0HN76JRM3NGQE:00000002": done reading request body.
2024-10-07 10:14:32.872 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:14:32.885 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:14:32.885 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:14:32.887 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:14:32.887 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:14:32.889 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:14:32.890 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 17.8673ms
2024-10-07 10:14:32.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:14:32.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:14:32.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:14:32.930 +03:00 [DBG] Connection id "0HN76JRM3NGQA" completed keep alive response.
2024-10-07 10:14:32.932 +03:00 [DBG] Connection id "0HN76JRM3NGQ9" completed keep alive response.
2024-10-07 10:14:32.932 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 14.4384ms
2024-10-07 10:14:32.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 15.255ms
2024-10-07 10:14:32.935 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:14:32.944 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7684ms
2024-10-07 10:14:33.078 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:14:33.115 +03:00 [DBG] Connection id "0HN76JRM3NGQ8" completed keep alive response.
2024-10-07 10:14:33.118 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.9635ms
2024-10-07 10:14:34.618 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - application/json 77
2024-10-07 10:14:34.623 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:14:34.626 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:14:34.629 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:14:34.631 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:14:34.634 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:34.636 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:14:34.638 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:14:34.640 +03:00 [DBG] Authorization was successful.
2024-10-07 10:14:34.642 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:34.647 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:14:34.649 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:14:34.650 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:14:34.651 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:14:34.653 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:14:34.654 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:14:34.656 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:14:34.658 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:14:34.660 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:14:34.662 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:14:34.666 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-07 10:14:34.667 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:34.668 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:34.669 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:14:34.669 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:14:34.670 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:14:34.670 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:14:34.673 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:14:34.675 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.675 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.677 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.678 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.679 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.680 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.681 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.682 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.683 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.683 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.684 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.685 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.686 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.686 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.687 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.688 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.688 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.689 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.690 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.690 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.691 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.692 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.693 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:34.694 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:34.695 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-10-07 10:14:34.696 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:34.697 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:14:34.761 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 105.4375ms
2024-10-07 10:14:34.765 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:34.769 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[RestaurantReservationAPI.Models.Order, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Order -> OrderDto
RestaurantReservationAPI.Models.Order -> RestaurantReservationAPI.DTOs.OrderDto

Type Map configuration:
Order -> OrderDto
RestaurantReservationAPI.Models.Order -> RestaurantReservationAPI.DTOs.OrderDto

Destination Member:
MenuItem

 ---> System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at RestaurantReservationAPI.DTOs.OrderDto.set_MenuItem(MenuItem value)
   at lambda_method153(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method153(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method153(Closure, Object, IEnumerable`1, ResolutionContext)
   at RestaurantReservationAPI.Controllers.OrderController.GetOrders()
   at lambda_method239(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-07 10:14:34.805 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:14:34.809 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:14:34.810 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-10-07 10:14:34.811 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:14:34.822 +03:00 [DBG] Connection id "0HN76JRM3NGQE" completed keep alive response.
2024-10-07 10:14:34.823 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:14:34.825 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:34.827 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-07 10:14:34.829 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 500 625 application/problem+json; charset=utf-8 210.4337ms
2024-10-07 10:14:34.831 +03:00 [DBG] Connection id "0HN76JRM3NGQE", Request id "0HN76JRM3NGQE:00000003": started reading request body.
2024-10-07 10:14:34.831 +03:00 [DBG] Connection id "0HN76JRM3NGQE", Request id "0HN76JRM3NGQE:00000003": done reading request body.
2024-10-07 10:14:46.022 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 10:14:46.426 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:14:46.464 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 10:14:46.553 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:14:46.575 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:14:46.597 +03:00 [DBG] Created DbConnection. (19ms).
2024-10-07 10:14:46.605 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:46.802 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:46.810 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:14:46.815 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-07 10:14:46.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-07 10:14:46.823 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:14:46.842 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:14:46.856 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:46.864 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 12ms reading results.
2024-10-07 10:14:46.868 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:46.873 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-10-07 10:14:46.874 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:14:46.876 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:46.877 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:14:46.926 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 10:14:46.967 +03:00 [DBG] Hosting starting
2024-10-07 10:14:46.994 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 10:14:47.001 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 10:14:47.027 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 10:14:47.038 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 10:14:47.047 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:14:47.050 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 10:14:47.052 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:14:47.055 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 10:14:47.056 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 10:14:47.058 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 10:14:47.059 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 10:14:47.125 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 10:14:47.128 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 10:14:47.129 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 10:14:47.130 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 10:14:47.132 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 10:14:47.168 +03:00 [DBG] Connection id "0HN76JUST9D2J" accepted.
2024-10-07 10:14:47.172 +03:00 [DBG] Connection id "0HN76JUST9D2J" started.
2024-10-07 10:14:47.177 +03:00 [DBG] Connection id "0HN76JUST9D2K" accepted.
2024-10-07 10:14:47.180 +03:00 [DBG] Connection id "0HN76JUST9D2K" started.
2024-10-07 10:14:47.195 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 10:14:47.197 +03:00 [INF] Hosting environment: Development
2024-10-07 10:14:47.199 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 10:14:47.200 +03:00 [DBG] Hosting started
2024-10-07 10:14:47.214 +03:00 [DBG] Connection id "0HN76JUST9D2J" received FIN.
2024-10-07 10:14:47.214 +03:00 [DBG] Connection id "0HN76JUST9D2K" received FIN.
2024-10-07 10:14:47.221 +03:00 [DBG] Connection id "0HN76JUST9D2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:14:47.222 +03:00 [DBG] Connection id "0HN76JUST9D2J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:14:47.225 +03:00 [DBG] Connection id "0HN76JUST9D2K" disconnecting.
2024-10-07 10:14:47.226 +03:00 [DBG] Connection id "0HN76JUST9D2J" disconnecting.
2024-10-07 10:14:47.235 +03:00 [DBG] Connection id "0HN76JUST9D2K" stopped.
2024-10-07 10:14:47.235 +03:00 [DBG] Connection id "0HN76JUST9D2J" stopped.
2024-10-07 10:14:47.331 +03:00 [DBG] Connection id "0HN76JUST9D2L" accepted.
2024-10-07 10:14:47.332 +03:00 [DBG] Connection id "0HN76JUST9D2L" started.
2024-10-07 10:14:47.355 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:14:47.408 +03:00 [DBG] Connection id "0HN76JUST9D2M" received FIN.
2024-10-07 10:14:47.408 +03:00 [DBG] Connection id "0HN76JUST9D2M" accepted.
2024-10-07 10:14:47.412 +03:00 [DBG] Connection id "0HN76JUST9D2M" started.
2024-10-07 10:14:47.413 +03:00 [DBG] Connection id "0HN76JUST9D2N" accepted.
2024-10-07 10:14:47.413 +03:00 [DBG] Connection id "0HN76JUST9D2M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:14:47.414 +03:00 [DBG] Connection id "0HN76JUST9D2N" started.
2024-10-07 10:14:47.415 +03:00 [DBG] Connection id "0HN76JUST9D2M" disconnecting.
2024-10-07 10:14:47.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - application/json 77
2024-10-07 10:14:47.416 +03:00 [DBG] Connection id "0HN76JUST9D2M" stopped.
2024-10-07 10:14:47.418 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 10:14:47.434 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:14:47.436 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 10:14:47.437 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:14:47.457 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:14:47.460 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:14:47.462 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:47.493 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:14:47.495 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:14:47.506 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:14:47.507 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:14:47.508 +03:00 [DBG] Connection id "0HN76JUST9D2L" completed keep alive response.
2024-10-07 10:14:47.510 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 160.5404ms
2024-10-07 10:14:47.520 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:14:47.523 +03:00 [DBG] Connection id "0HN76JUST9D2O" accepted.
2024-10-07 10:14:47.527 +03:00 [DBG] Connection id "0HN76JUST9D2O" started.
2024-10-07 10:14:47.528 +03:00 [DBG] Connection id "0HN76JUST9D2P" accepted.
2024-10-07 10:14:47.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:14:47.529 +03:00 [DBG] Connection id "0HN76JUST9D2P" started.
2024-10-07 10:14:47.529 +03:00 [DBG] Connection id "0HN76JUST9D2L" completed keep alive response.
2024-10-07 10:14:47.531 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:14:47.532 +03:00 [DBG] Connection id "0HN76JUST9D2O" completed keep alive response.
2024-10-07 10:14:47.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 11.817ms
2024-10-07 10:14:47.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 7.9699ms
2024-10-07 10:14:47.558 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:14:47.560 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:14:47.563 +03:00 [DBG] Connection id "0HN76JUST9D2P" completed keep alive response.
2024-10-07 10:14:47.564 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7911ms
2024-10-07 10:14:47.565 +03:00 [DBG] Authorization was successful.
2024-10-07 10:14:47.567 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:47.581 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:14:47.583 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:14:47.585 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:14:47.587 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:14:47.589 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:14:47.590 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:14:47.592 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:14:47.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:14:47.702 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:14:47.719 +03:00 [DBG] Connection id "0HN76JUST9D2P" completed keep alive response.
2024-10-07 10:14:47.719 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:14:47.721 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.8122ms
2024-10-07 10:14:47.733 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.Reservation)
    .Include(o => o.MenuItem)'
2024-10-07 10:14:47.747 +03:00 [DBG] Including navigation: 'Order.Reservation'.
2024-10-07 10:14:47.749 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 10:14:47.829 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.MenuItemId (int) Required FK Index, 1], [Property: Order.Quantity (int) Required, 2], [Property: Order.ReservationId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            2 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
        SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, m.MenuItemId, m.Name, m.Price
        FROM Orders AS o
        INNER JOIN Reservations AS r ON o.ReservationId == r.ReservationId
        INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:14:47.841 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:14:47.841 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:14:47.843 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:47.847 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:47.847 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:14:47.848 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:14:47.849 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:14:47.850 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:14:47.867 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:14:47.892 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.918 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.929 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.939 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.940 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.948 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.950 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.951 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.952 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.954 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.955 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.956 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.956 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.959 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.960 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.961 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.962 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.962 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.963 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.964 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.965 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.965 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.966 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:47.969 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:47.970 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 101ms reading results.
2024-10-07 10:14:47.973 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:47.974 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:14:47.984 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:14:47.987 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:14:47.988 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:14:47.989 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:14:47.990 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:14:47.991 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:14:48.039 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 444.2528ms
2024-10-07 10:14:48.042 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:48.044 +03:00 [DBG] Connection id "0HN76JUST9D2N" completed keep alive response.
2024-10-07 10:14:48.046 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:14:48.048 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:48.050 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:14:48.051 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 423 application/json; charset=utf-8 635.1525ms
2024-10-07 10:14:48.055 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000001": started reading request body.
2024-10-07 10:14:48.057 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000001": done reading request body.
2024-10-07 10:14:49.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - application/json 77
2024-10-07 10:14:49.032 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:14:49.037 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:14:49.041 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:14:49.042 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:14:49.043 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:49.044 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:14:49.045 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:14:49.046 +03:00 [DBG] Authorization was successful.
2024-10-07 10:14:49.048 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:49.049 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:14:49.051 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:14:49.052 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:14:49.055 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:14:49.057 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:14:49.058 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:14:49.060 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:14:49.062 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:14:49.101 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:14:49.109 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:14:49.112 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-07 10:14:49.112 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:49.113 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:49.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:14:49.115 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:14:49.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:14:49.117 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:14:49.124 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:14:49.127 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.128 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.129 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.130 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.131 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.132 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.133 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.134 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.135 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.136 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.137 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.138 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.139 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.140 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.140 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.142 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.142 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.143 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.144 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.145 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.146 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.146 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.147 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:14:49.148 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:49.149 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 22ms reading results.
2024-10-07 10:14:49.151 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:49.152 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:14:49.154 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:14:49.156 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:14:49.157 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:14:49.157 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:14:49.159 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:14:49.160 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:14:49.161 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 100.9978ms
2024-10-07 10:14:49.162 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:14:49.162 +03:00 [DBG] Connection id "0HN76JUST9D2N" completed keep alive response.
2024-10-07 10:14:49.163 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:14:49.164 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:14:49.165 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:14:49.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 423 application/json; charset=utf-8 144.2808ms
2024-10-07 10:14:49.167 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000002": started reading request body.
2024-10-07 10:14:49.168 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000002": done reading request body.
2024-10-07 10:15:00.050 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/menu-items - application/json 77
2024-10-07 10:15:00.052 +03:00 [DBG] The request path /api/menu-items does not match a supported file type
2024-10-07 10:15:00.053 +03:00 [DBG] The request path /api/menu-items does not match a supported file type
2024-10-07 10:15:00.053 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items'
2024-10-07 10:15:00.054 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)' with route pattern 'api/menu-items' is valid for the request path '/api/menu-items'
2024-10-07 10:15:00.056 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:15:00.059 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:15:00.060 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:15:00.062 +03:00 [DBG] Authorization was successful.
2024-10-07 10:15:00.064 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:15:00.070 +03:00 [INF] Route matched with {action = "GetMenuItems", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItems() on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:15:00.073 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:15:00.074 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:15:00.075 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:15:00.076 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:15:00.077 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:15:00.078 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:15:00.080 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:15:00.084 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:15:00.085 +03:00 [DBG] Compiling query expression: 
'DbSet<MenuItem>()'
2024-10-07 10:15:00.089 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<MenuItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: MenuItem.Name (string) Required MaxLength(100), 1], [Property: MenuItem.Price (decimal) Required, 2] }
        SELECT m.MenuItemId, m.Name, m.Price
        FROM MenuItems AS m), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MenuItem>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:15:00.091 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:15:00.092 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:15:00.093 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:00.094 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:00.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:15:00.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:15:00.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-07 10:15:00.100 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2024-10-07 10:15:00.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2024-10-07 10:15:00.104 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:00.105 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:00.106 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:00.107 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:00.108 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-10-07 10:15:00.110 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:00.111 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:15:00.115 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:15:00.118 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:15:00.118 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:15:00.119 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:15:00.119 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:15:00.120 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.MenuItemDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:15:00.125 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI) in 47.2874ms
2024-10-07 10:15:00.127 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:15:00.128 +03:00 [DBG] Connection id "0HN76JUST9D2N" completed keep alive response.
2024-10-07 10:15:00.129 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:15:00.130 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:00.131 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:15:00.133 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/menu-items - 200 139 application/json; charset=utf-8 83.0231ms
2024-10-07 10:15:00.137 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000003": started reading request body.
2024-10-07 10:15:00.138 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000003": done reading request body.
2024-10-07 10:15:10.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations - application/json 77
2024-10-07 10:15:10.184 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:15:10.185 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 10:15:10.186 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 10:15:10.187 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 10:15:10.188 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:15:10.189 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:15:10.190 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:15:10.191 +03:00 [DBG] Authorization was successful.
2024-10-07 10:15:10.191 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:15:10.194 +03:00 [INF] Route matched with {action = "GetReservations", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservations() on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 10:15:10.196 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:15:10.197 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:15:10.197 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:15:10.198 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:15:10.199 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:15:10.200 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:15:10.201 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 10:15:10.204 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:15:10.209 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(c => c.Orders)
    .ThenInclude(c => c.MenuItem)'
2024-10-07 10:15:10.210 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:15:10.213 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 10:15:10.246 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
            3 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
            4 -> 4
            5 -> 8
        SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId, t.MenuItemId0, t.Name, t.Price
        FROM Reservations AS r
        LEFT JOIN 
        (
            SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, m.MenuItemId AS MenuItemId0, m.Name, m.Price
            FROM Orders AS o
            INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
        ) AS t ON r.ReservationId == t.ReservationId
        ORDER BY r.ReservationId ASC, t.OrderId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:15:10.252 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:15:10.253 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:15:10.255 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:10.257 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:10.258 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:15:10.259 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:15:10.259 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:15:10.260 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 10:15:10.262 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 10:15:10.265 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.269 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.270 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.271 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.272 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.274 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.275 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.276 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.276 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.277 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.278 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.279 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.280 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.280 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.281 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.282 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.283 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.284 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.285 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.286 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.287 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:10.288 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:10.289 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 23ms reading results.
2024-10-07 10:15:10.291 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:10.292 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:15:10.299 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:15:10.301 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:15:10.302 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:15:10.302 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:15:10.303 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:15:10.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:15:10.309 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI) in 109.1103ms
2024-10-07 10:15:10.310 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 10:15:10.311 +03:00 [DBG] Connection id "0HN76JUST9D2N" completed keep alive response.
2024-10-07 10:15:10.311 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:15:10.312 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:10.313 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:15:10.314 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations - 200 940 application/json; charset=utf-8 137.6928ms
2024-10-07 10:15:10.317 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000004": started reading request body.
2024-10-07 10:15:10.318 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000004": done reading request body.
2024-10-07 10:15:19.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - application/json 77
2024-10-07 10:15:19.557 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:15:19.559 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:15:19.561 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:15:19.563 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:15:19.565 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:15:19.567 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:15:19.570 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:15:19.572 +03:00 [DBG] Authorization was successful.
2024-10-07 10:15:19.573 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:15:19.576 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:15:19.578 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:15:19.579 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:15:19.581 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:15:19.582 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:15:19.583 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:15:19.585 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:15:19.587 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:15:19.589 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:15:19.591 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 10:15:19.592 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 10:15:19.593 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:15:19.603 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:15:19.606 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Order.MenuItemId (int) Required FK Index, 8], [Property: Order.Quantity (int) Required, 9], [Property: Order.ReservationId (int) Required FK Index, 10] }
            5 -> 7
        SELECT c.CustomerId, c.Name, c.Phone, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Customers AS c
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON c.CustomerId == t.CustomerId
        ORDER BY c.CustomerId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:15:19.608 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:15:19.608 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:15:19.609 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:19.609 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:19.610 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:15:19.611 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:15:19.611 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:15:19.612 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:15:19.614 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:15:19.618 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.623 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.624 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.625 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.626 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.626 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.627 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.628 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.629 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.630 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.631 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.632 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.633 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.634 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:19.635 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:19.636 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-10-07 10:15:19.637 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:19.638 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:15:19.643 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:15:19.644 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:15:19.644 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:15:19.645 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:15:19.645 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:15:19.646 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:15:19.648 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 63.5374ms
2024-10-07 10:15:19.650 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:15:19.651 +03:00 [DBG] Connection id "0HN76JUST9D2N" completed keep alive response.
2024-10-07 10:15:19.651 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:15:19.652 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:19.653 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:15:19.654 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 1254 application/json; charset=utf-8 100.3492ms
2024-10-07 10:15:19.656 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000005": started reading request body.
2024-10-07 10:15:19.657 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000005": done reading request body.
2024-10-07 10:15:46.788 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - application/json 77
2024-10-07 10:15:46.800 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:15:46.804 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:15:46.805 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:15:46.805 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:15:46.807 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:15:46.808 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:15:46.809 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:15:46.810 +03:00 [DBG] Authorization was successful.
2024-10-07 10:15:46.811 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:15:46.814 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:15:46.815 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:15:46.817 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:15:46.818 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:15:46.820 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:15:46.821 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:15:46.822 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:15:46.823 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:15:46.826 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:15:46.827 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 10:15:46.828 +03:00 [DBG] Including navigation: 'Employee.Reservations'.
2024-10-07 10:15:46.829 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:15:46.837 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:15:46.840 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.EmployeeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Name (string) Required MaxLength(100), 1], [Property: Employee.Role (string) Required MaxLength(50), 2], [Property: Employee.Salary (decimal) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            3 -> 4
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Order.MenuItemId (int) Required FK Index, 9], [Property: Order.Quantity (int) Required, 10], [Property: Order.ReservationId (int) Required FK Index, 11] }
            5 -> 8
        SELECT e.EmployeeId, e.Name, e.Role, e.Salary, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Employees AS e
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON e.EmployeeId == t.EmployeeId
        ORDER BY e.EmployeeId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:15:46.842 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:15:46.842 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:15:46.843 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:46.844 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:46.845 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:15:46.845 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:15:46.846 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:15:46.847 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:15:46.853 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:15:46.856 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.863 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.864 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.865 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.867 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.870 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.872 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.873 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.874 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.875 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.876 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.877 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.878 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.880 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:15:46.881 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:46.881 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 26ms reading results.
2024-10-07 10:15:46.882 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:46.883 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:15:46.889 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:15:46.891 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:15:46.892 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:15:46.892 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:15:46.893 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:15:46.893 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:15:46.896 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 74.2447ms
2024-10-07 10:15:46.897 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:15:46.898 +03:00 [DBG] Connection id "0HN76JUST9D2N" completed keep alive response.
2024-10-07 10:15:46.898 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:15:46.899 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:15:46.900 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:15:46.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1282 application/json; charset=utf-8 113.7919ms
2024-10-07 10:15:46.903 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000006": started reading request body.
2024-10-07 10:15:46.904 +03:00 [DBG] Connection id "0HN76JUST9D2N", Request id "0HN76JUST9D2N:00000006": done reading request body.
2024-10-07 10:19:58.655 +03:00 [DBG] Connection id "0HN76JUST9D2L" received FIN.
2024-10-07 10:19:58.655 +03:00 [DBG] Connection id "0HN76JUST9D2O" received FIN.
2024-10-07 10:19:58.664 +03:00 [DBG] Connection id "0HN76JUST9D2L" disconnecting.
2024-10-07 10:19:58.668 +03:00 [DBG] Connection id "0HN76JUST9D2O" disconnecting.
2024-10-07 10:19:58.663 +03:00 [DBG] Connection id "0HN76JUST9D2P" received FIN.
2024-10-07 10:19:58.677 +03:00 [DBG] Connection id "0HN76JUST9D2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:19:58.682 +03:00 [DBG] Connection id "0HN76JUST9D2O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:19:58.689 +03:00 [DBG] Connection id "0HN76JUST9D2L" stopped.
2024-10-07 10:19:58.682 +03:00 [DBG] Connection id "0HN76JUST9D2P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:19:58.695 +03:00 [DBG] Connection id "0HN76JUST9D2O" stopped.
2024-10-07 10:19:58.698 +03:00 [DBG] Connection id "0HN76JUST9D2P" disconnecting.
2024-10-07 10:19:58.701 +03:00 [DBG] Connection id "0HN76JUST9D2P" stopped.
2024-10-07 10:31:58.547 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 10:31:59.080 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:31:59.124 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 10:31:59.237 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:31:59.264 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:31:59.292 +03:00 [DBG] Created DbConnection. (25ms).
2024-10-07 10:31:59.300 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:31:59.497 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:31:59.502 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:31:59.508 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-07 10:31:59.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-07 10:31:59.514 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:31:59.530 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:31:59.538 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:31:59.544 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-10-07 10:31:59.547 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:31:59.551 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-10-07 10:31:59.554 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:31:59.556 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:31:59.558 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:31:59.614 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 10:31:59.657 +03:00 [DBG] Hosting starting
2024-10-07 10:31:59.682 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 10:31:59.689 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 10:31:59.713 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 10:31:59.724 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 10:31:59.729 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:31:59.735 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 10:31:59.738 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:31:59.740 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 10:31:59.742 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 10:31:59.744 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 10:31:59.745 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 10:31:59.822 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 10:31:59.826 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 10:31:59.827 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 10:31:59.828 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 10:31:59.828 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 10:31:59.868 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 10:31:59.869 +03:00 [INF] Hosting environment: Development
2024-10-07 10:31:59.872 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 10:31:59.876 +03:00 [DBG] Hosting started
2024-10-07 10:32:00.061 +03:00 [DBG] Connection id "0HN76K8GNN92F" received FIN.
2024-10-07 10:32:00.067 +03:00 [DBG] Connection id "0HN76K8GNN92F" accepted.
2024-10-07 10:32:00.070 +03:00 [DBG] Connection id "0HN76K8GNN92F" started.
2024-10-07 10:32:00.076 +03:00 [DBG] Connection id "0HN76K8GNN92F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:32:00.081 +03:00 [DBG] Connection id "0HN76K8GNN92F" disconnecting.
2024-10-07 10:32:00.085 +03:00 [DBG] Connection id "0HN76K8GNN92F" stopped.
2024-10-07 10:32:00.155 +03:00 [DBG] Connection id "0HN76K8GNN92G" accepted.
2024-10-07 10:32:00.158 +03:00 [DBG] Connection id "0HN76K8GNN92G" started.
2024-10-07 10:32:00.180 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:32:00.259 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 10:32:00.309 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:32:00.310 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:32:00.317 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:32:00.318 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:32:00.319 +03:00 [DBG] Connection id "0HN76K8GNN92G" completed keep alive response.
2024-10-07 10:32:00.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 146.5355ms
2024-10-07 10:32:00.358 +03:00 [DBG] Connection id "0HN76K8GNN92H" accepted.
2024-10-07 10:32:00.358 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:32:00.360 +03:00 [DBG] Connection id "0HN76K8GNN92I" accepted.
2024-10-07 10:32:00.359 +03:00 [DBG] Connection id "0HN76K8GNN92H" started.
2024-10-07 10:32:00.366 +03:00 [DBG] Connection id "0HN76K8GNN92I" started.
2024-10-07 10:32:00.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:32:00.368 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:32:00.368 +03:00 [DBG] Connection id "0HN76K8GNN92G" completed keep alive response.
2024-10-07 10:32:00.371 +03:00 [DBG] Connection id "0HN76K8GNN92H" completed keep alive response.
2024-10-07 10:32:00.372 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 14.7117ms
2024-10-07 10:32:00.373 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 5.4969ms
2024-10-07 10:32:00.399 +03:00 [DBG] Connection id "0HN76K8GNN92I" completed keep alive response.
2024-10-07 10:32:00.400 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.2577ms
2024-10-07 10:32:00.455 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:32:00.590 +03:00 [DBG] Connection id "0HN76K8GNN92I" completed keep alive response.
2024-10-07 10:32:00.592 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.648ms
2024-10-07 10:32:17.796 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/auth/login - application/json-patch+json 50
2024-10-07 10:32:17.808 +03:00 [DBG] POST requests are not supported
2024-10-07 10:32:17.810 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 10:32:17.812 +03:00 [DBG] POST requests are not supported
2024-10-07 10:32:17.836 +03:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2024-10-07 10:32:17.843 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2024-10-07 10:32:17.848 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:32:17.908 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 10:32:17.914 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:32:17.933 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Login(UserLogin) on controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI).
2024-10-07 10:32:17.937 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:32:17.941 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:32:17.942 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:32:17.944 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:32:17.945 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:32:17.947 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:32:17.948 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:32:17.952 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:32:17.954 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' using the name '' in request data ...
2024-10-07 10:32:17.956 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:32:17.957 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:32:17.961 +03:00 [DBG] Connection id "0HN76K8GNN92I", Request id "0HN76K8GNN92I:00000003": started reading request body.
2024-10-07 10:32:17.962 +03:00 [DBG] Connection id "0HN76K8GNN92I", Request id "0HN76K8GNN92I:00000003": done reading request body.
2024-10-07 10:32:18.026 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:32:18.031 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:32:18.033 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:32:18.041 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:32:18.070 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:32:18.078 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:32:18.082 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-07 10:32:18.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-07 10:32:18.088 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI) in 138.6143ms
2024-10-07 10:32:18.089 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:32:18.090 +03:00 [DBG] Connection id "0HN76K8GNN92I" completed keep alive response.
2024-10-07 10:32:18.091 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/auth/login - 200 null text/plain; charset=utf-8 295.6204ms
2024-10-07 10:32:33.465 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:32:33.469 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:32:33.472 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:32:33.474 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:32:33.477 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:32:33.482 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:33.510 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:32:33.514 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:32:33.521 +03:00 [DBG] Authorization was successful.
2024-10-07 10:32:33.525 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:33.530 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:32:33.531 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:32:33.532 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:32:33.533 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:32:33.534 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:32:33.535 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:32:33.535 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:32:33.654 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:32:33.668 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:32:33.678 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 10:32:33.688 +03:00 [DBG] Including navigation: 'Employee.Reservations'.
2024-10-07 10:32:33.695 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:32:33.800 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:32:33.806 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.EmployeeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Name (string) Required MaxLength(100), 1], [Property: Employee.Role (string) Required MaxLength(50), 2], [Property: Employee.Salary (decimal) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            3 -> 4
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Order.MenuItemId (int) Required FK Index, 9], [Property: Order.Quantity (int) Required, 10], [Property: Order.ReservationId (int) Required FK Index, 11] }
            5 -> 8
        SELECT e.EmployeeId, e.Name, e.Role, e.Salary, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Employees AS e
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON e.EmployeeId == t.EmployeeId
        ORDER BY e.EmployeeId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:32:33.821 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:32:33.824 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-07 10:32:33.826 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:33.829 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:33.830 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:32:33.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:32:33.832 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:32:33.833 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:32:33.852 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:32:33.882 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.912 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.922 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.925 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.929 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.933 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.934 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.939 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.941 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.942 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.943 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.944 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.946 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.947 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:33.950 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:33.951 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 97ms reading results.
2024-10-07 10:32:33.953 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:33.954 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:32:33.972 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:32:33.975 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:32:33.978 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:32:33.985 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-10-07 10:32:33.990 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:32:33.995 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:32:33.997 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:32:33.999 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 463.8421ms
2024-10-07 10:32:34.002 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:34.005 +03:00 [DBG] Connection id "0HN76K8GNN92I" completed keep alive response.
2024-10-07 10:32:34.006 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:32:34.010 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:34.012 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:32:34.013 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 406 0 null 547.3168ms
2024-10-07 10:32:44.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:32:44.094 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:32:44.096 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:32:44.099 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:32:44.102 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:32:44.105 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:44.108 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:32:44.109 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:32:44.113 +03:00 [DBG] Authorization was successful.
2024-10-07 10:32:44.113 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:44.114 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:32:44.115 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:32:44.116 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:32:44.117 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:32:44.119 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:32:44.120 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:32:44.122 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:32:44.124 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:32:44.184 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:32:44.191 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:32:44.192 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:32:44.193 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:44.194 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:44.195 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:32:44.195 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:32:44.196 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:32:44.197 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:32:44.199 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:32:44.201 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.203 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.204 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.205 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.206 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.207 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.209 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.210 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.211 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.212 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.213 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.214 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.215 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.216 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:44.217 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:44.218 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 16ms reading results.
2024-10-07 10:32:44.219 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:44.220 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:32:44.221 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:32:44.222 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:32:44.223 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:32:44.224 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-10-07 10:32:44.225 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:32:44.227 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:32:44.228 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:32:44.229 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 107.4992ms
2024-10-07 10:32:44.230 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:44.231 +03:00 [DBG] Connection id "0HN76K8GNN92I" completed keep alive response.
2024-10-07 10:32:44.231 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:32:44.232 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:44.233 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:32:44.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 406 0 null 142.6608ms
2024-10-07 10:32:44.975 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:32:44.988 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:32:44.991 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:32:44.994 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:32:44.995 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:32:44.996 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:44.997 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:32:44.997 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:32:44.999 +03:00 [DBG] Authorization was successful.
2024-10-07 10:32:44.999 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:45.001 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:32:45.003 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:32:45.006 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:32:45.007 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:32:45.008 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:32:45.009 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:32:45.010 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:32:45.012 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:32:45.013 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:32:45.015 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:32:45.016 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:32:45.016 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:45.017 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:45.018 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:32:45.019 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:32:45.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:32:45.022 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:32:45.024 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:32:45.026 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.027 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.028 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.029 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.030 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.031 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.032 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.033 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.034 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.035 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.036 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.037 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.038 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.039 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:32:45.040 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:45.041 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 15ms reading results.
2024-10-07 10:32:45.042 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:45.042 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:32:45.043 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:32:45.046 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:32:45.047 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:32:45.048 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-10-07 10:32:45.049 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:32:45.050 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:32:45.051 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:32:45.052 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 42.6091ms
2024-10-07 10:32:45.053 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:32:45.054 +03:00 [DBG] Connection id "0HN76K8GNN92I" completed keep alive response.
2024-10-07 10:32:45.055 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:32:45.056 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:32:45.056 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:32:45.057 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 406 0 null 82.3655ms
2024-10-07 10:33:22.999 +03:00 [DBG] Connection id "0HN76K8GNN92J" received FIN.
2024-10-07 10:33:23.001 +03:00 [DBG] Connection id "0HN76K8GNN92J" accepted.
2024-10-07 10:33:23.002 +03:00 [DBG] Connection id "0HN76K8GNN92J" started.
2024-10-07 10:33:23.003 +03:00 [DBG] Connection id "0HN76K8GNN92K" accepted.
2024-10-07 10:33:23.011 +03:00 [DBG] Connection id "0HN76K8GNN92J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:33:23.012 +03:00 [DBG] Connection id "0HN76K8GNN92K" started.
2024-10-07 10:33:23.014 +03:00 [DBG] Connection id "0HN76K8GNN92J" disconnecting.
2024-10-07 10:33:23.016 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - application/json 77
2024-10-07 10:33:23.017 +03:00 [DBG] Connection id "0HN76K8GNN92J" stopped.
2024-10-07 10:33:23.019 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:33:23.021 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:33:23.022 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:33:23.022 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:33:23.023 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:33:23.024 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:33:23.025 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:33:23.025 +03:00 [DBG] Authorization was successful.
2024-10-07 10:33:23.026 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:33:23.028 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:33:23.030 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:33:23.034 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:33:23.037 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:33:23.041 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:33:23.045 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:33:23.048 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:33:23.050 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:33:23.053 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:33:23.056 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:33:23.057 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:33:23.059 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:33:23.061 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:33:23.062 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:33:23.063 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:33:23.065 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:33:23.066 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:33:23.076 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:33:23.079 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.084 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.086 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.087 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.088 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.089 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.090 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.091 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.092 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.092 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.093 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.094 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.095 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.096 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:33:23.097 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:33:23.098 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-10-07 10:33:23.099 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:33:23.100 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:33:23.101 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:33:23.103 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:33:23.103 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:33:23.104 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:33:23.104 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:33:23.105 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:33:23.160 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 112.3094ms
2024-10-07 10:33:23.163 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:33:23.168 +03:00 [DBG] Connection id "0HN76K8GNN92K" completed keep alive response.
2024-10-07 10:33:23.171 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:33:23.173 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:33:23.175 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-07 10:33:23.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1282 application/json; charset=utf-8 162.6209ms
2024-10-07 10:33:23.183 +03:00 [DBG] Connection id "0HN76K8GNN92K", Request id "0HN76K8GNN92K:00000001": started reading request body.
2024-10-07 10:33:23.188 +03:00 [DBG] Connection id "0HN76K8GNN92K", Request id "0HN76K8GNN92K:00000001": done reading request body.
2024-10-07 10:34:19.274 +03:00 [DBG] Connection id "0HN76K8GNN92K" received FIN.
2024-10-07 10:34:19.281 +03:00 [DBG] Connection id "0HN76K8GNN92K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:34:19.283 +03:00 [DBG] Connection id "0HN76K8GNN92K" disconnecting.
2024-10-07 10:34:19.289 +03:00 [DBG] Connection id "0HN76K8GNN92K" stopped.
2024-10-07 10:34:58.310 +03:00 [DBG] Connection id "0HN76K8GNN92L" received FIN.
2024-10-07 10:34:58.319 +03:00 [DBG] Connection id "0HN76K8GNN92L" accepted.
2024-10-07 10:34:58.320 +03:00 [DBG] Connection id "0HN76K8GNN92L" started.
2024-10-07 10:34:58.321 +03:00 [DBG] Connection id "0HN76K8GNN92M" accepted.
2024-10-07 10:34:58.322 +03:00 [DBG] Connection id "0HN76K8GNN92L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:34:58.326 +03:00 [DBG] Connection id "0HN76K8GNN92M" started.
2024-10-07 10:34:58.329 +03:00 [DBG] Connection id "0HN76K8GNN92L" disconnecting.
2024-10-07 10:34:58.331 +03:00 [DBG] Connection id "0HN76K8GNN92L" stopped.
2024-10-07 10:34:58.331 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:34:58.334 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:34:58.335 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:34:58.336 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:34:58.339 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:34:58.341 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:34:58.342 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:34:58.342 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:34:58.343 +03:00 [DBG] Authorization was successful.
2024-10-07 10:34:58.344 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:34:58.345 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:34:58.346 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:34:58.347 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:34:58.348 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:34:58.350 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:34:58.352 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:34:58.354 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:34:58.356 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:34:58.357 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:34:58.359 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:34:58.360 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:34:58.361 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:34:58.362 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:34:58.363 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:34:58.364 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:34:58.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:34:58.365 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:34:58.372 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:34:58.375 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.377 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.378 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.379 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.380 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.381 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.382 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.383 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.384 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.386 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.387 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.388 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.390 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.392 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:34:58.392 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:34:58.393 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 18ms reading results.
2024-10-07 10:34:58.394 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:34:58.395 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:34:58.395 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:34:58.397 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:34:58.398 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:34:58.398 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-10-07 10:34:58.399 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:34:58.401 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:34:58.403 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:34:58.404 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 50.1281ms
2024-10-07 10:34:58.405 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:34:58.405 +03:00 [DBG] Connection id "0HN76K8GNN92M" completed keep alive response.
2024-10-07 10:34:58.406 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:34:58.407 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:34:58.408 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:34:58.409 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 406 0 null 78.1017ms
2024-10-07 10:35:34.424 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:35:34.433 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:35:34.434 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:35:34.435 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:35:34.436 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:35:34.438 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:35:34.439 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:35:34.440 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:35:34.441 +03:00 [DBG] Authorization was successful.
2024-10-07 10:35:34.441 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:35:34.442 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:35:34.443 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:35:34.444 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:35:34.445 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:35:34.446 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:35:34.447 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:35:34.448 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:35:34.449 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:35:34.450 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:35:34.452 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:35:34.452 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:35:34.453 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:35:34.454 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:35:34.455 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:35:34.456 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:35:34.458 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:35:34.459 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:35:34.466 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:35:34.473 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.475 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.476 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.478 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.480 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.481 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.482 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.483 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.485 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.486 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.488 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.491 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.494 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.496 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:35:34.500 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:35:34.501 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 28ms reading results.
2024-10-07 10:35:34.503 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:35:34.506 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-10-07 10:35:34.510 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:35:34.514 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-07 10:35:34.516 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:35:34.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:35:34.520 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 71.5385ms
2024-10-07 10:35:34.522 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:35:34.524 +03:00 [DBG] Connection id "0HN76K8GNN92M" completed keep alive response.
2024-10-07 10:35:34.526 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:35:34.527 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:35:34.528 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:35:34.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1282 application/json; charset=utf-8 105.9238ms
2024-10-07 10:37:46.682 +03:00 [DBG] Connection id "0HN76K8GNN92G" received FIN.
2024-10-07 10:37:46.682 +03:00 [DBG] Connection id "0HN76K8GNN92H" received FIN.
2024-10-07 10:37:46.688 +03:00 [DBG] Connection id "0HN76K8GNN92G" disconnecting.
2024-10-07 10:37:46.691 +03:00 [DBG] Connection id "0HN76K8GNN92I" received FIN.
2024-10-07 10:37:46.697 +03:00 [DBG] Connection id "0HN76K8GNN92G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:37:46.700 +03:00 [DBG] Connection id "0HN76K8GNN92I" disconnecting.
2024-10-07 10:37:46.693 +03:00 [DBG] Connection id "0HN76K8GNN92H" disconnecting.
2024-10-07 10:37:46.710 +03:00 [DBG] Connection id "0HN76K8GNN92G" stopped.
2024-10-07 10:37:46.713 +03:00 [DBG] Connection id "0HN76K8GNN92I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:37:46.714 +03:00 [DBG] Connection id "0HN76K8GNN92H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:37:46.722 +03:00 [DBG] Connection id "0HN76K8GNN92H" stopped.
2024-10-07 10:37:46.722 +03:00 [DBG] Connection id "0HN76K8GNN92I" stopped.
2024-10-07 10:40:52.804 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 10:40:53.221 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:40:53.260 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 10:40:53.377 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:40:53.402 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:40:53.419 +03:00 [DBG] Created DbConnection. (16ms).
2024-10-07 10:40:53.423 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:40:53.710 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:40:53.714 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:40:53.720 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-07 10:40:53.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-07 10:40:53.730 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:40:53.757 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:40:53.767 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:40:53.775 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 11ms reading results.
2024-10-07 10:40:53.778 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:40:53.784 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (6ms).
2024-10-07 10:40:53.787 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:40:53.790 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:40:53.792 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-07 10:40:53.851 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 10:40:53.914 +03:00 [DBG] Hosting starting
2024-10-07 10:40:53.933 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 10:40:53.941 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 10:40:53.947 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 10:40:53.955 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 10:40:53.959 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:40:53.961 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 10:40:53.962 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:40:53.965 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 10:40:53.967 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 10:40:53.970 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 10:40:53.972 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 10:40:54.042 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 10:40:54.043 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 10:40:54.043 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 10:40:54.044 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 10:40:54.044 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 10:40:54.085 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 10:40:54.086 +03:00 [INF] Hosting environment: Development
2024-10-07 10:40:54.087 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 10:40:54.088 +03:00 [DBG] Hosting started
2024-10-07 10:40:54.120 +03:00 [DBG] Connection id "0HN76KDFST4IM" received FIN.
2024-10-07 10:40:54.120 +03:00 [DBG] Connection id "0HN76KDFST4IN" received FIN.
2024-10-07 10:40:54.129 +03:00 [DBG] Connection id "0HN76KDFST4IM" accepted.
2024-10-07 10:40:54.129 +03:00 [DBG] Connection id "0HN76KDFST4IN" accepted.
2024-10-07 10:40:54.131 +03:00 [DBG] Connection id "0HN76KDFST4IM" started.
2024-10-07 10:40:54.132 +03:00 [DBG] Connection id "0HN76KDFST4IN" started.
2024-10-07 10:40:54.136 +03:00 [DBG] Connection id "0HN76KDFST4IN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:40:54.136 +03:00 [DBG] Connection id "0HN76KDFST4IM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:40:54.139 +03:00 [DBG] Connection id "0HN76KDFST4IN" disconnecting.
2024-10-07 10:40:54.139 +03:00 [DBG] Connection id "0HN76KDFST4IM" disconnecting.
2024-10-07 10:40:54.144 +03:00 [DBG] Connection id "0HN76KDFST4IN" stopped.
2024-10-07 10:40:54.144 +03:00 [DBG] Connection id "0HN76KDFST4IM" stopped.
2024-10-07 10:40:54.231 +03:00 [DBG] Connection id "0HN76KDFST4IO" accepted.
2024-10-07 10:40:54.232 +03:00 [DBG] Connection id "0HN76KDFST4IO" started.
2024-10-07 10:40:54.249 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:40:54.324 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 10:40:54.387 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:40:54.389 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:40:54.399 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:40:54.402 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:40:54.403 +03:00 [DBG] Connection id "0HN76KDFST4IO" completed keep alive response.
2024-10-07 10:40:54.406 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 160.4805ms
2024-10-07 10:40:54.424 +03:00 [DBG] Connection id "0HN76KDFST4IP" accepted.
2024-10-07 10:40:54.426 +03:00 [DBG] Connection id "0HN76KDFST4IP" started.
2024-10-07 10:40:54.426 +03:00 [DBG] Connection id "0HN76KDFST4IQ" accepted.
2024-10-07 10:40:54.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:40:54.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:40:54.464 +03:00 [DBG] Connection id "0HN76KDFST4IQ" started.
2024-10-07 10:40:54.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:40:54.468 +03:00 [DBG] Connection id "0HN76KDFST4IO" completed keep alive response.
2024-10-07 10:40:54.470 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 6.6519ms
2024-10-07 10:40:54.468 +03:00 [DBG] Connection id "0HN76KDFST4IP" completed keep alive response.
2024-10-07 10:40:54.474 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 9.8118ms
2024-10-07 10:40:54.493 +03:00 [DBG] Connection id "0HN76KDFST4IQ" completed keep alive response.
2024-10-07 10:40:54.494 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7139ms
2024-10-07 10:40:54.549 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:40:54.665 +03:00 [DBG] Connection id "0HN76KDFST4IQ" completed keep alive response.
2024-10-07 10:40:54.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.437ms
2024-10-07 10:41:11.114 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/auth/login - application/json 50
2024-10-07 10:41:11.124 +03:00 [DBG] POST requests are not supported
2024-10-07 10:41:11.128 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 10:41:11.129 +03:00 [DBG] POST requests are not supported
2024-10-07 10:41:11.150 +03:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2024-10-07 10:41:11.155 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2024-10-07 10:41:11.158 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:41:11.238 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 10:41:11.244 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:41:11.258 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Login(UserLogin) on controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI).
2024-10-07 10:41:11.267 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:41:11.272 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:41:11.278 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:41:11.282 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:41:11.287 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:41:11.292 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:41:11.294 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:41:11.301 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:41:11.308 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' using the name '' in request data ...
2024-10-07 10:41:11.310 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-07 10:41:11.311 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-07 10:41:11.318 +03:00 [DBG] Connection id "0HN76KDFST4IQ", Request id "0HN76KDFST4IQ:00000003": started reading request body.
2024-10-07 10:41:11.320 +03:00 [DBG] Connection id "0HN76KDFST4IQ", Request id "0HN76KDFST4IQ:00000003": done reading request body.
2024-10-07 10:41:11.385 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:41:11.391 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:41:11.392 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:41:11.401 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:41:11.441 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:41:11.445 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-07 10:41:11.448 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:41:11.449 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-07 10:41:11.469 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI) in 175.1962ms
2024-10-07 10:41:11.470 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:41:11.471 +03:00 [DBG] Connection id "0HN76KDFST4IQ" completed keep alive response.
2024-10-07 10:41:11.472 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/auth/login - 200 199 application/json; charset=utf-8 358.1072ms
2024-10-07 10:41:29.003 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - null null
2024-10-07 10:41:29.007 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:41:29.011 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:41:29.016 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:41:29.017 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:41:29.020 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:41:29.055 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:41:29.059 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:41:29.064 +03:00 [DBG] Authorization was successful.
2024-10-07 10:41:29.066 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:41:29.072 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:41:29.077 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:41:29.077 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:41:29.078 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:41:29.080 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:41:29.081 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:41:29.082 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:41:29.201 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:41:29.217 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:41:29.229 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 10:41:29.244 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 10:41:29.252 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:41:29.353 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:41:29.362 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Order.MenuItemId (int) Required FK Index, 8], [Property: Order.Quantity (int) Required, 9], [Property: Order.ReservationId (int) Required FK Index, 10] }
            5 -> 7
        SELECT c.CustomerId, c.Name, c.Phone, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Customers AS c
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON c.CustomerId == t.CustomerId
        ORDER BY c.CustomerId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:41:29.377 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:41:29.379 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:41:29.383 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:41:29.389 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:41:29.392 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:41:29.394 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:41:29.395 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:41:29.398 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:41:29.428 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:41:29.463 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.509 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.524 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.530 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.533 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.534 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.535 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.536 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.539 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.540 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.544 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.545 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.546 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.547 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:41:29.550 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:41:29.551 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 118ms reading results.
2024-10-07 10:41:29.554 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:41:29.556 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-10-07 10:41:29.573 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:41:29.578 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:41:29.581 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:41:29.583 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:41:29.584 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:41:29.587 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:41:29.591 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:41:29.626 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 543.4076ms
2024-10-07 10:41:29.629 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:41:29.633 +03:00 [DBG] Connection id "0HN76KDFST4IQ" completed keep alive response.
2024-10-07 10:41:29.637 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:41:29.643 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:41:29.647 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-07 10:41:29.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 1254 application/json; charset=utf-8 645.9047ms
2024-10-07 10:45:03.087 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 10:45:03.741 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:45:03.781 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 10:45:03.901 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 10:45:03.925 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:45:03.943 +03:00 [DBG] Created DbConnection. (15ms).
2024-10-07 10:45:03.948 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:04.142 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:04.151 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:45:04.158 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-07 10:45:04.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-10-07 10:45:04.168 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:45:04.187 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 10:45:04.202 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:04.207 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 10:45:04.209 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:04.213 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-10-07 10:45:04.215 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:45:04.219 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:04.221 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-07 10:45:04.276 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 10:45:04.327 +03:00 [DBG] Hosting starting
2024-10-07 10:45:04.356 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 10:45:04.365 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 10:45:04.388 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 10:45:04.397 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 10:45:04.404 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:45:04.406 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 10:45:04.408 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 10:45:04.412 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 10:45:04.414 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 10:45:04.417 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 10:45:04.418 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 10:45:04.485 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 10:45:04.486 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 10:45:04.487 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 10:45:04.488 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 10:45:04.489 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 10:45:04.530 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 10:45:04.531 +03:00 [INF] Hosting environment: Development
2024-10-07 10:45:04.532 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 10:45:04.534 +03:00 [DBG] Hosting started
2024-10-07 10:45:04.851 +03:00 [DBG] Connection id "0HN76KFQK24DT" accepted.
2024-10-07 10:45:04.851 +03:00 [DBG] Connection id "0HN76KFQK24DU" accepted.
2024-10-07 10:45:04.856 +03:00 [DBG] Connection id "0HN76KFQK24DT" started.
2024-10-07 10:45:04.857 +03:00 [DBG] Connection id "0HN76KFQK24DU" started.
2024-10-07 10:45:04.865 +03:00 [DBG] Connection id "0HN76KFQK24DU" received FIN.
2024-10-07 10:45:04.865 +03:00 [DBG] Connection id "0HN76KFQK24DT" received FIN.
2024-10-07 10:45:04.869 +03:00 [DBG] Connection id "0HN76KFQK24DT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:45:04.869 +03:00 [DBG] Connection id "0HN76KFQK24DU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:45:04.872 +03:00 [DBG] Connection id "0HN76KFQK24DT" disconnecting.
2024-10-07 10:45:04.873 +03:00 [DBG] Connection id "0HN76KFQK24DU" disconnecting.
2024-10-07 10:45:04.876 +03:00 [DBG] Connection id "0HN76KFQK24DT" stopped.
2024-10-07 10:45:04.876 +03:00 [DBG] Connection id "0HN76KFQK24DU" stopped.
2024-10-07 10:45:04.964 +03:00 [DBG] Connection id "0HN76KFQK24DV" accepted.
2024-10-07 10:45:04.966 +03:00 [DBG] Connection id "0HN76KFQK24DV" started.
2024-10-07 10:45:04.983 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 10:45:05.051 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 10:45:05.110 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 10:45:05.112 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 10:45:05.119 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 10:45:05.120 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 10:45:05.121 +03:00 [DBG] Connection id "0HN76KFQK24DV" completed keep alive response.
2024-10-07 10:45:05.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 144.5255ms
2024-10-07 10:45:05.132 +03:00 [DBG] Connection id "0HN76KFQK24E0" accepted.
2024-10-07 10:45:05.134 +03:00 [DBG] Connection id "0HN76KFQK24E0" started.
2024-10-07 10:45:05.137 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 10:45:05.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 10:45:05.142 +03:00 [DBG] Connection id "0HN76KFQK24DV" completed keep alive response.
2024-10-07 10:45:05.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 5.5496ms
2024-10-07 10:45:05.144 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:45:05.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 6.0322ms
2024-10-07 10:45:05.147 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 10:45:05.177 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:45:05.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.6341ms
2024-10-07 10:45:05.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 10:45:05.311 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:45:05.312 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.5503ms
2024-10-07 10:45:12.133 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/auth/login - application/json-patch+json 50
2024-10-07 10:45:12.140 +03:00 [DBG] POST requests are not supported
2024-10-07 10:45:12.141 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 10:45:12.142 +03:00 [DBG] POST requests are not supported
2024-10-07 10:45:12.166 +03:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2024-10-07 10:45:12.171 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2024-10-07 10:45:12.173 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:45:12.231 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 10:45:12.235 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:45:12.258 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Login(UserLogin) on controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI).
2024-10-07 10:45:12.263 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:45:12.265 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:45:12.267 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:45:12.268 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:45:12.272 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:45:12.275 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:45:12.278 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 10:45:12.285 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:45:12.288 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' using the name '' in request data ...
2024-10-07 10:45:12.291 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:45:12.293 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:45:12.299 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000004": started reading request body.
2024-10-07 10:45:12.301 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000004": done reading request body.
2024-10-07 10:45:12.380 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:45:12.383 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:45:12.387 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 10:45:12.399 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 10:45:12.438 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:45:12.441 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:45:12.443 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-07 10:45:12.445 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-07 10:45:12.450 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI) in 172.8956ms
2024-10-07 10:45:12.451 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 10:45:12.452 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:45:12.453 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/auth/login - 200 null text/plain; charset=utf-8 323.5606ms
2024-10-07 10:45:25.232 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - null null
2024-10-07 10:45:25.243 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:45:25.245 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:45:25.248 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:45:25.249 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:45:25.250 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:45:25.280 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:45:25.283 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:45:25.291 +03:00 [DBG] Authorization was successful.
2024-10-07 10:45:25.293 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:45:25.298 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:45:25.300 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:45:25.302 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:45:25.304 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:45:25.305 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:45:25.306 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:45:25.307 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:45:25.416 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:45:25.432 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:45:25.445 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 10:45:25.461 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 10:45:25.471 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:45:25.589 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:45:25.601 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Order.MenuItemId (int) Required FK Index, 8], [Property: Order.Quantity (int) Required, 9], [Property: Order.ReservationId (int) Required FK Index, 10] }
            5 -> 7
        SELECT c.CustomerId, c.Name, c.Phone, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Customers AS c
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON c.CustomerId == t.CustomerId
        ORDER BY c.CustomerId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:45:25.624 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:45:25.627 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-07 10:45:25.629 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:25.632 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:25.633 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:45:25.634 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:45:25.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:45:25.636 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:45:25.658 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:45:25.694 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.727 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.738 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.744 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.751 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.753 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.757 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.759 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.760 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.761 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.764 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.765 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.766 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.768 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:45:25.771 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:25.772 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 111ms reading results.
2024-10-07 10:45:25.775 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:25.776 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:45:25.796 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:45:25.799 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:45:25.801 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:45:25.805 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:45:25.808 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:45:25.809 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:45:25.813 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:45:25.864 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 556.9004ms
2024-10-07 10:45:25.867 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:45:25.872 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:45:25.876 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:45:25.882 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:45:25.885 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-07 10:45:25.887 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 1254 application/json; charset=utf-8 654.5847ms
2024-10-07 10:45:45.984 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/customers - application/json-patch+json 50
2024-10-07 10:45:46.002 +03:00 [DBG] POST requests are not supported
2024-10-07 10:45:46.002 +03:00 [DBG] POST requests are not supported
2024-10-07 10:45:46.003 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:45:46.008 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:45:46.012 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:45:46.016 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:45:46.016 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:45:46.018 +03:00 [DBG] Authorization was successful.
2024-10-07 10:45:46.019 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:45:46.024 +03:00 [INF] Route matched with {action = "PostCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Customer]] PostCustomer(RestaurantReservationAPI.DTOs.CreateCustomerDto) on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:45:46.026 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:45:46.028 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:45:46.028 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:45:46.030 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:45:46.031 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:45:46.032 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:45:46.034 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:45:46.035 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:45:46.036 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' using the name '' in request data ...
2024-10-07 10:45:46.038 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:45:46.039 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:45:46.041 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000006": started reading request body.
2024-10-07 10:45:46.043 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000006": done reading request body.
2024-10-07 10:45:46.046 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:45:46.048 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:45:46.049 +03:00 [DBG] Attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:45:46.052 +03:00 [DBG] Done attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:45:46.054 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 10:45:46.055 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 10:45:46.057 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:45:46.059 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:45:46.063 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:45:46.064 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:45:46.066 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:45:46.067 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 10:45:46.092 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI) in 59.8522ms
2024-10-07 10:45:46.094 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:45:46.096 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:45:46.096 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/customers - 400 242 application/problem+json; charset=utf-8 112.0778ms
2024-10-07 10:46:03.589 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/customers - application/json-patch+json 47
2024-10-07 10:46:03.591 +03:00 [DBG] POST requests are not supported
2024-10-07 10:46:03.592 +03:00 [DBG] POST requests are not supported
2024-10-07 10:46:03.593 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:46:03.595 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:46:03.596 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:03.598 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:46:03.600 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:46:03.602 +03:00 [DBG] Authorization was successful.
2024-10-07 10:46:03.604 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:03.608 +03:00 [INF] Route matched with {action = "PostCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Customer]] PostCustomer(RestaurantReservationAPI.DTOs.CreateCustomerDto) on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:46:03.610 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:46:03.611 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:46:03.612 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:46:03.613 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:46:03.615 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:46:03.615 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:46:03.618 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:46:03.619 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:46:03.619 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' using the name '' in request data ...
2024-10-07 10:46:03.620 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:46:03.621 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:46:03.622 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000007": started reading request body.
2024-10-07 10:46:03.622 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000007": done reading request body.
2024-10-07 10:46:03.623 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:46:03.624 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:46:03.625 +03:00 [DBG] Attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:46:03.626 +03:00 [DBG] Done attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:46:03.676 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:46:03.709 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Customer.CustomerId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:03.719 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:03.727 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:46:03.731 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:46:03.739 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:46:03.805 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:46:03.808 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-07 10:46:03.809 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:03.810 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:03.816 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:46:03.818 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:46:03.821 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-07 10:46:03.823 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Name], [Phone])
OUTPUT INSERTED.[CustomerId]
VALUES (@p0, @p1);
2024-10-07 10:46:03.843 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Name], [Phone])
OUTPUT INSERTED.[CustomerId]
VALUES (@p0, @p1);
2024-10-07 10:46:03.859 +03:00 [DBG] The foreign key property 'Customer.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:46:03.866 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:03.869 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-10-07 10:46:03.871 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:03.872 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:46:03.883 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:03.886 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:46:03.888 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:46:03.889 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:46:03.890 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:46:03.891 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:46:03.891 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:46:03.892 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:46:03.892 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'RestaurantReservationAPI.Models.Customer'.
2024-10-07 10:46:03.905 +03:00 [DBG] Found the endpoints ["RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)"] for address (id=[11],action=[GetCustomer],controller=[Customer])
2024-10-07 10:46:03.908 +03:00 [DBG] Successfully processed template api/customers/{id} for RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI) resulting in /api/customers/11 and 
2024-10-07 10:46:03.909 +03:00 [DBG] Link generation succeeded for endpoints ["RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)"] with result /api/customers/11
2024-10-07 10:46:03.913 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI) in 297.3481ms
2024-10-07 10:46:03.914 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:03.915 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:46:03.915 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:46:03.916 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:03.917 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:46:03.918 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/customers - 201 72 application/json; charset=utf-8 328.9276ms
2024-10-07 10:46:22.945 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/customers - application/json-patch+json 29
2024-10-07 10:46:22.948 +03:00 [DBG] POST requests are not supported
2024-10-07 10:46:22.950 +03:00 [DBG] POST requests are not supported
2024-10-07 10:46:22.952 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:46:22.956 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:46:22.961 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:22.962 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:46:22.963 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:46:22.964 +03:00 [DBG] Authorization was successful.
2024-10-07 10:46:22.965 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:22.966 +03:00 [INF] Route matched with {action = "PostCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Customer]] PostCustomer(RestaurantReservationAPI.DTOs.CreateCustomerDto) on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:46:22.968 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:46:22.970 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:46:22.971 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:46:22.972 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:46:22.973 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:46:22.974 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:46:22.975 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:46:22.976 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:46:22.977 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' using the name '' in request data ...
2024-10-07 10:46:22.978 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:46:22.979 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:46:22.980 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000008": started reading request body.
2024-10-07 10:46:22.981 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000008": done reading request body.
2024-10-07 10:46:22.982 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:46:22.983 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:46:22.984 +03:00 [DBG] Attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:46:22.985 +03:00 [DBG] Done attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:46:22.986 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 10:46:22.987 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 10:46:22.988 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:46:22.989 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:46:22.991 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:46:22.992 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:46:22.993 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:46:22.994 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 10:46:22.995 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI) in 21.1333ms
2024-10-07 10:46:22.996 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PostCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:22.997 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:46:22.997 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/customers - 400 247 application/problem+json; charset=utf-8 52.0984ms
2024-10-07 10:46:33.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers/8 - null null
2024-10-07 10:46:33.850 +03:00 [DBG] The request path /api/customers/8 does not match a supported file type
2024-10-07 10:46:33.850 +03:00 [DBG] The request path /api/customers/8 does not match a supported file type
2024-10-07 10:46:33.851 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers/8'
2024-10-07 10:46:33.852 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)' with route pattern 'api/customers/{id}' is valid for the request path '/api/customers/8'
2024-10-07 10:46:33.853 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:33.854 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:46:33.855 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:46:33.856 +03:00 [DBG] Authorization was successful.
2024-10-07 10:46:33.857 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:33.862 +03:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.CustomerDto]] GetCustomer(Int32) on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:46:33.866 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:46:33.867 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:46:33.868 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:46:33.870 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:46:33.871 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:46:33.872 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:46:33.874 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:46:33.875 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:46:33.877 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:46:33.881 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:46:33.882 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:46:33.883 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:46:33.885 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:46:33.887 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:46:33.893 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)
    .Where(c => c.CustomerId == __id_0)
    .FirstOrDefault()'
2024-10-07 10:46:33.897 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 10:46:33.900 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:46:33.912 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:46:33.919 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
                3 -> 3
                4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Order.MenuItemId (int) Required FK Index, 8], [Property: Order.Quantity (int) Required, 9], [Property: Order.ReservationId (int) Required FK Index, 10] }
                5 -> 7
            SELECT t.CustomerId, t.Name, t.Phone, t0.ReservationId, t0.CustomerId, t0.EmployeeId, t0.ReservationDate, t0.OrderId, t0.MenuItemId, t0.Quantity, t0.ReservationId0
            FROM 
            (
                SELECT TOP(1) c.CustomerId, c.Name, c.Phone
                FROM Customers AS c
                WHERE c.CustomerId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
                FROM Reservations AS r
                LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
            ) AS t0 ON t.CustomerId == t0.CustomerId
            ORDER BY t.CustomerId ASC, t0.ReservationId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        RestaurantReservationAPI.RestaurantDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-07 10:46:33.925 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:46:33.926 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:46:33.929 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:33.932 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:33.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:46:33.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:46:33.935 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:46:33.936 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:46:33.943 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:46:33.946 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:33.947 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:33.948 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:33.948 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:33.949 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:33.950 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:33.951 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:46:33.952 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:33.953 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-10-07 10:46:33.954 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:33.955 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:46:33.958 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:46:33.960 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:46:33.961 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:46:33.962 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:46:33.963 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:46:33.963 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:46:33.964 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.CustomerDto'.
2024-10-07 10:46:33.965 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI) in 93.1668ms
2024-10-07 10:46:33.966 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)'
2024-10-07 10:46:33.967 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:46:33.968 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:46:33.968 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:46:33.969 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:46:33.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers/8 - 200 602 application/json; charset=utf-8 123.0926ms
2024-10-07 10:47:05.005 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/customers/8 - application/json-patch+json 46
2024-10-07 10:47:05.008 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:47:05.009 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:47:05.010 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers/8'
2024-10-07 10:47:05.013 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PutCustomer (RestaurantReservationAPI)' with route pattern 'api/customers/{id}' is valid for the request path '/api/customers/8'
2024-10-07 10:47:05.017 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PutCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:05.018 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:47:05.019 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:47:05.020 +03:00 [DBG] Authorization was successful.
2024-10-07 10:47:05.021 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PutCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:05.025 +03:00 [INF] Route matched with {action = "PutCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutCustomer(Int32, RestaurantReservationAPI.DTOs.CreateCustomerDto) on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:47:05.027 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:47:05.029 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:47:05.033 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:47:05.037 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:47:05.039 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:47:05.041 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:05.043 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:05.044 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:47:05.046 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:47:05.047 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:05.048 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:05.049 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:47:05.050 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:05.051 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:47:05.051 +03:00 [DBG] Attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' using the name '' in request data ...
2024-10-07 10:47:05.052 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:47:05.053 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:47:05.054 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000000A": started reading request body.
2024-10-07 10:47:05.054 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000000A": done reading request body.
2024-10-07 10:47:05.055 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:47:05.056 +03:00 [DBG] Done attempting to bind parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:47:05.057 +03:00 [DBG] Attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto' ...
2024-10-07 10:47:05.058 +03:00 [DBG] Done attempting to validate the bound parameter 'customerDto' of type 'RestaurantReservationAPI.DTOs.CreateCustomerDto'.
2024-10-07 10:47:05.061 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:47:05.068 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:47:05.069 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:47:05.070 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.071 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:47:05.072 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:47:05.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:05.074 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:47:05.077 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:47:05.082 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.083 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.085 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.086 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.087 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.088 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.088 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.090 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.091 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 10:47:05.092 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.093 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:47:05.095 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.097 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:47:05.097 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:47:05.104 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:47:05.109 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.110 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.111 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:47:05.111 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:47:05.112 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:05.113 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Customers] SET [Name] = @p0, [Phone] = @p1
OUTPUT 1
WHERE [CustomerId] = @p2;
2024-10-07 10:47:05.118 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Customers] SET [Name] = @p0, [Phone] = @p1
OUTPUT 1
WHERE [CustomerId] = @p2;
2024-10-07 10:47:05.120 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.121 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:47:05.123 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.124 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:47:05.125 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:05.127 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:47:05.129 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 10:47:05.129 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.PutCustomer (RestaurantReservationAPI) in 88.8436ms
2024-10-07 10:47:05.130 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.PutCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:05.131 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:47:05.132 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:47:05.133 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:05.133 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:47:05.134 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/customers/8 - 204 null null 130.2ms
2024-10-07 10:47:13.109 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers/8 - null null
2024-10-07 10:47:13.123 +03:00 [DBG] The request path /api/customers/8 does not match a supported file type
2024-10-07 10:47:13.129 +03:00 [DBG] The request path /api/customers/8 does not match a supported file type
2024-10-07 10:47:13.130 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers/8'
2024-10-07 10:47:13.131 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)' with route pattern 'api/customers/{id}' is valid for the request path '/api/customers/8'
2024-10-07 10:47:13.132 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:13.133 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:47:13.133 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:47:13.134 +03:00 [DBG] Authorization was successful.
2024-10-07 10:47:13.135 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:13.137 +03:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.CustomerDto]] GetCustomer(Int32) on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:47:13.139 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:47:13.140 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:47:13.141 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:47:13.146 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:47:13.148 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:47:13.149 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:13.151 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:13.152 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:47:13.155 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:47:13.156 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:13.157 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:13.158 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:47:13.158 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:13.160 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:47:13.161 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:47:13.162 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:47:13.163 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:13.164 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:13.166 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:47:13.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:47:13.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:13.169 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:47:13.172 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:47:13.174 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:13.174 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:13.175 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:13.176 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:13.177 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:13.178 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:13.178 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:13.179 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:13.180 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-10-07 10:47:13.181 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:13.182 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:47:13.183 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:47:13.185 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:47:13.186 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:47:13.187 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:47:13.188 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:47:13.188 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:47:13.189 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.CustomerDto'.
2024-10-07 10:47:13.190 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI) in 41.0964ms
2024-10-07 10:47:13.191 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:13.192 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:47:13.192 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:47:13.193 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:13.194 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:47:13.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers/8 - 200 593 application/json; charset=utf-8 85.2988ms
2024-10-07 10:47:36.065 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - null null
2024-10-07 10:47:36.074 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:47:36.075 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:47:36.076 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:47:36.078 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:47:36.080 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:47:36.081 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:47:36.082 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:47:36.084 +03:00 [DBG] Authorization was successful.
2024-10-07 10:47:36.085 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:47:36.087 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:47:36.088 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:47:36.093 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:47:36.094 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:47:36.095 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:47:36.096 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:47:36.097 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:36.098 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:36.100 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:47:36.103 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:47:36.103 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:47:36.104 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:36.106 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:36.108 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:47:36.109 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:36.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:36.111 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:47:36.116 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:47:36.118 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.120 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.122 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.123 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.123 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.124 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.125 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.127 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.128 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.129 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.130 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.131 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.132 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.133 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.135 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:36.136 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:36.138 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-10-07 10:47:36.140 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:36.142 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:47:36.143 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:47:36.144 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:47:36.145 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:47:36.146 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:47:36.146 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:47:36.147 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:47:36.147 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:47:36.148 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 51.558ms
2024-10-07 10:47:36.149 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:47:36.150 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:47:36.151 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:47:36.151 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:36.152 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:47:36.153 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 1343 application/json; charset=utf-8 87.9433ms
2024-10-07 10:47:44.083 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5099/api/customers/11 - null null
2024-10-07 10:47:44.095 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:47:44.096 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:47:44.100 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers/11'
2024-10-07 10:47:44.102 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.DeleteCustomer (RestaurantReservationAPI)' with route pattern 'api/customers/{id}' is valid for the request path '/api/customers/11'
2024-10-07 10:47:44.105 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.DeleteCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:44.109 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:47:44.110 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:47:44.112 +03:00 [DBG] Authorization was successful.
2024-10-07 10:47:44.113 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.DeleteCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:44.118 +03:00 [INF] Route matched with {action = "DeleteCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCustomer(Int32) on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:47:44.124 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:47:44.125 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:47:44.127 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:47:44.129 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:47:44.130 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:47:44.131 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:44.134 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:44.134 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:47:44.135 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:47:44.136 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:44.137 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:44.138 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:47:44.138 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:47:44.140 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:47:44.142 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:47:44.142 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:47:44.143 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.144 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.145 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:47:44.146 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:47:44.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:44.147 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:47:44.152 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [t].[Name], [t].[Phone], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [c].[CustomerId], [c].[Name], [c].[Phone]
    FROM [Customers] AS [c]
    WHERE [c].[CustomerId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
ORDER BY [t].[CustomerId], [t0].[ReservationId]
2024-10-07 10:47:44.154 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:44.155 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.157 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 10:47:44.159 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.160 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:47:44.162 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:44.166 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:47:44.167 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:47:44.168 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:47:44.171 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.172 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.173 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:47:44.174 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:47:44.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:44.175 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Customers]
OUTPUT 1
WHERE [CustomerId] = @p0;
2024-10-07 10:47:44.181 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Customers]
OUTPUT 1
WHERE [CustomerId] = @p0;
2024-10-07 10:47:44.183 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.184 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:47:44.185 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.186 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:47:44.188 +03:00 [DBG] An entity of type 'Customer' tracked by 'RestaurantDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:44.190 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:47:44.191 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 10:47:44.191 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.DeleteCustomer (RestaurantReservationAPI) in 59.8571ms
2024-10-07 10:47:44.192 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.DeleteCustomer (RestaurantReservationAPI)'
2024-10-07 10:47:44.193 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:47:44.193 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:47:44.194 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:44.195 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:47:44.196 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5099/api/customers/11 - 204 null null 113.2291ms
2024-10-07 10:47:49.336 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - null null
2024-10-07 10:47:49.340 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:47:49.343 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 10:47:49.345 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 10:47:49.347 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 10:47:49.350 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:47:49.352 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:47:49.353 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:47:49.353 +03:00 [DBG] Authorization was successful.
2024-10-07 10:47:49.354 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:47:49.355 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 10:47:49.356 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:47:49.357 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:47:49.358 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:47:49.359 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:47:49.359 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:47:49.360 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:49.362 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 10:47:49.363 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:47:49.365 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:47:49.365 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:47:49.366 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:49.367 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:49.368 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:47:49.369 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:47:49.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:47:49.370 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:47:49.373 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 10:47:49.379 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.380 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.381 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.381 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.382 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.383 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.384 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.385 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.386 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.387 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.388 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.389 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.390 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.391 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:47:49.391 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:49.392 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-10-07 10:47:49.393 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:49.394 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:47:49.395 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:47:49.397 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:47:49.397 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:47:49.398 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:47:49.399 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:47:49.399 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:47:49.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:47:49.401 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 40.827ms
2024-10-07 10:47:49.402 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 10:47:49.403 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:47:49.404 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:47:49.404 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:47:49.405 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:47:49.406 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 1245 application/json; charset=utf-8 70.376ms
2024-10-07 10:48:08.553 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:48:08.556 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:48:08.557 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:48:08.558 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:48:08.560 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:48:08.562 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:48:08.564 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:48:08.567 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:48:08.569 +03:00 [DBG] Authorization was successful.
2024-10-07 10:48:08.569 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:48:08.573 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:48:08.577 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:48:08.578 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:48:08.578 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:48:08.579 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:48:08.581 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:48:08.582 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:08.584 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:08.586 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:48:08.588 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 10:48:08.589 +03:00 [DBG] Including navigation: 'Employee.Reservations'.
2024-10-07 10:48:08.590 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:48:08.597 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:48:08.601 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.EmployeeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Name (string) Required MaxLength(100), 1], [Property: Employee.Role (string) Required MaxLength(50), 2], [Property: Employee.Salary (decimal) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            3 -> 4
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Order.MenuItemId (int) Required FK Index, 9], [Property: Order.Quantity (int) Required, 10], [Property: Order.ReservationId (int) Required FK Index, 11] }
            5 -> 8
        SELECT e.EmployeeId, e.Name, e.Role, e.Salary, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Employees AS e
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON e.EmployeeId == t.EmployeeId
        ORDER BY e.EmployeeId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:48:08.603 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:48:08.604 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:48:08.604 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:08.605 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:08.606 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:48:08.606 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:48:08.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:48:08.608 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:48:08.614 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:48:08.621 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.627 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.628 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.629 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.630 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.631 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.631 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.633 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.634 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.635 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.636 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.637 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.637 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.638 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:08.639 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:08.640 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-10-07 10:48:08.641 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:08.642 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:48:08.647 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:48:08.649 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:48:08.651 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:48:08.652 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:48:08.652 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:48:08.653 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:48:08.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:48:08.657 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 75.0412ms
2024-10-07 10:48:08.658 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:48:08.659 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:48:08.660 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:48:08.660 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:08.661 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:48:08.663 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1282 application/json; charset=utf-8 109.3207ms
2024-10-07 10:48:27.482 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/employees - application/json-patch+json 38
2024-10-07 10:48:27.496 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:27.498 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:27.499 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:48:27.502 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:48:27.505 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:27.506 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:48:27.507 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:48:27.508 +03:00 [DBG] Authorization was successful.
2024-10-07 10:48:27.508 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:27.511 +03:00 [INF] Route matched with {action = "PostEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Employee]] PostEmployee(RestaurantReservationAPI.DTOs.CreateEmployeeDto) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:48:27.512 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:48:27.513 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:48:27.514 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:48:27.516 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:48:27.517 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:48:27.518 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:27.519 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:27.520 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:27.521 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-10-07 10:48:27.523 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:27.525 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:27.526 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000010": started reading request body.
2024-10-07 10:48:27.526 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000010": done reading request body.
2024-10-07 10:48:27.531 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:27.532 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:27.533 +03:00 [DBG] Attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:27.535 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:27.536 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 10:48:27.536 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 10:48:27.537 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:48:27.539 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:48:27.541 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:48:27.542 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:48:27.543 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:48:27.544 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 10:48:27.545 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI) in 27.1966ms
2024-10-07 10:48:27.546 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:27.546 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:48:27.547 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/employees - 400 232 application/problem+json; charset=utf-8 64.6027ms
2024-10-07 10:48:36.426 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/employees - application/json-patch+json 57
2024-10-07 10:48:36.438 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:36.439 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:36.440 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:48:36.444 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:48:36.447 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:36.448 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:48:36.449 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:48:36.451 +03:00 [DBG] Authorization was successful.
2024-10-07 10:48:36.454 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:36.458 +03:00 [INF] Route matched with {action = "PostEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Employee]] PostEmployee(RestaurantReservationAPI.DTOs.CreateEmployeeDto) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:48:36.461 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:48:36.461 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:48:36.462 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:48:36.463 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:48:36.464 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:48:36.465 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:36.468 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:36.471 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:36.472 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-10-07 10:48:36.473 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:36.474 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:36.474 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000011": started reading request body.
2024-10-07 10:48:36.475 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000011": done reading request body.
2024-10-07 10:48:36.476 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:36.477 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:36.478 +03:00 [DBG] Attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:36.479 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:36.483 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:48:36.485 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:36.487 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:36.488 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:48:36.488 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:48:36.492 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:48:36.494 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:48:36.494 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:48:36.495 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:36.496 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:36.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:48:36.497 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:48:36.499 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:48:36.501 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([Name], [Role], [Salary])
OUTPUT INSERTED.[EmployeeId]
VALUES (@p0, @p1, @p2);
2024-10-07 10:48:36.506 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([Name], [Role], [Salary])
OUTPUT INSERTED.[EmployeeId]
VALUES (@p0, @p1, @p2);
2024-10-07 10:48:36.512 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:48:36.513 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:36.514 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 10:48:36.515 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:36.516 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:48:36.517 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:36.518 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:48:36.519 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:48:36.521 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:48:36.522 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:48:36.523 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:48:36.523 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:48:36.523 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:48:36.524 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'RestaurantReservationAPI.Models.Employee'.
2024-10-07 10:48:36.525 +03:00 [DBG] Found the endpoints ["RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)"] for address (id=[13],action=[GetEmployee],controller=[Employee])
2024-10-07 10:48:36.526 +03:00 [DBG] Successfully processed template api/employees/{id} for RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI) resulting in /api/employees/13 and 
2024-10-07 10:48:36.527 +03:00 [DBG] Link generation succeeded for endpoints ["RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)"] with result /api/employees/13
2024-10-07 10:48:36.530 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI) in 64.4225ms
2024-10-07 10:48:36.531 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:36.532 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:48:36.532 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:48:36.533 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:36.534 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:48:36.535 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/employees - 201 78 application/json; charset=utf-8 108.4191ms
2024-10-07 10:48:46.767 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/employees - application/json-patch+json 58
2024-10-07 10:48:46.772 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:46.775 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:46.778 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:48:46.779 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:48:46.780 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:46.781 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:48:46.782 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:48:46.783 +03:00 [DBG] Authorization was successful.
2024-10-07 10:48:46.783 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:46.784 +03:00 [INF] Route matched with {action = "PostEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Employee]] PostEmployee(RestaurantReservationAPI.DTOs.CreateEmployeeDto) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:48:46.785 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:48:46.786 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:48:46.787 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:48:46.789 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:48:46.790 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:48:46.791 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:46.793 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:46.794 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:46.795 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-10-07 10:48:46.796 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:46.797 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:46.797 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000012": started reading request body.
2024-10-07 10:48:46.798 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000012": done reading request body.
2024-10-07 10:48:46.799 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:46.800 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:46.801 +03:00 [DBG] Attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:46.802 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:46.803 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:48:46.805 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Employee.EmployeeId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:46.806 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:46.807 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:48:46.808 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:48:46.808 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:48:46.809 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:48:46.810 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:48:46.811 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:46.812 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:46.813 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:48:46.814 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:48:46.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:48:46.815 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([Name], [Role], [Salary])
OUTPUT INSERTED.[EmployeeId]
VALUES (@p0, @p1, @p2);
2024-10-07 10:48:46.818 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([Name], [Role], [Salary])
OUTPUT INSERTED.[EmployeeId]
VALUES (@p0, @p1, @p2);
2024-10-07 10:48:46.820 +03:00 [DBG] The foreign key property 'Employee.EmployeeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:48:46.821 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:46.822 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:48:46.823 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:46.824 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:48:46.825 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:48:46.826 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:48:46.827 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:48:46.828 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:48:46.829 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:48:46.830 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:48:46.830 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:48:46.831 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:48:46.832 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'RestaurantReservationAPI.Models.Employee'.
2024-10-07 10:48:46.832 +03:00 [DBG] Found the endpoints ["RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)"] for address (id=[14],action=[GetEmployee],controller=[Employee])
2024-10-07 10:48:46.833 +03:00 [DBG] Successfully processed template api/employees/{id} for RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI) resulting in /api/employees/14 and 
2024-10-07 10:48:46.834 +03:00 [DBG] Link generation succeeded for endpoints ["RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)"] with result /api/employees/14
2024-10-07 10:48:46.836 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI) in 44.4098ms
2024-10-07 10:48:46.837 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:46.838 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:48:46.838 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:48:46.839 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:48:46.840 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 10:48:46.842 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/employees - 201 78 application/json; charset=utf-8 74.7961ms
2024-10-07 10:48:52.017 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/employees - application/json-patch+json 59
2024-10-07 10:48:52.023 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:52.031 +03:00 [DBG] POST requests are not supported
2024-10-07 10:48:52.035 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:48:52.039 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:48:52.041 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:52.044 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:48:52.046 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:48:52.046 +03:00 [DBG] Authorization was successful.
2024-10-07 10:48:52.047 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:52.048 +03:00 [INF] Route matched with {action = "PostEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Employee]] PostEmployee(RestaurantReservationAPI.DTOs.CreateEmployeeDto) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:48:52.049 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:48:52.050 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:48:52.051 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:48:52.053 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:48:52.054 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:48:52.056 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:52.058 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:48:52.060 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:52.061 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-10-07 10:48:52.062 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:52.062 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:48:52.063 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000013": started reading request body.
2024-10-07 10:48:52.064 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000013": done reading request body.
2024-10-07 10:48:52.068 +03:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Unexpected character encountered while parsing number: g. Path 'salary', line 4, position 16.
   at Newtonsoft.Json.JsonTextReader.ReadNumberCharIntoBuffer(Char currentChar, Int32 charPos)
   at Newtonsoft.Json.JsonTextReader.ReadNumberIntoBuffer()
   at Newtonsoft.Json.JsonTextReader.ParseNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsDecimal()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-10-07 10:48:52.086 +03:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Unexpected character encountered while parsing value: g. Path 'salary', line 4, position 16.
   at Newtonsoft.Json.JsonTextReader.ParseValue()
   at Newtonsoft.Json.JsonTextReader.Read()
   at Newtonsoft.Json.JsonReader.Skip()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.HandleError(JsonReader reader, Boolean readPastError, Int32 initialDepth)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
2024-10-07 10:48:52.089 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:52.092 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:52.093 +03:00 [DBG] Attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:48:52.094 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:48:52.095 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 10:48:52.095 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 10:48:52.096 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:48:52.097 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:48:52.098 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:48:52.099 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:48:52.101 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:48:52.102 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 10:48:52.103 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI) in 47.0707ms
2024-10-07 10:48:52.103 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PostEmployee (RestaurantReservationAPI)'
2024-10-07 10:48:52.104 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:48:52.105 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/employees - 400 458 application/problem+json; charset=utf-8 88.3288ms
2024-10-07 10:49:14.417 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees/8 - null null
2024-10-07 10:49:14.429 +03:00 [DBG] The request path /api/employees/8 does not match a supported file type
2024-10-07 10:49:14.433 +03:00 [DBG] The request path /api/employees/8 does not match a supported file type
2024-10-07 10:49:14.434 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/8'
2024-10-07 10:49:14.435 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/8'
2024-10-07 10:49:14.439 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:14.440 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:49:14.441 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:49:14.442 +03:00 [DBG] Authorization was successful.
2024-10-07 10:49:14.442 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:14.445 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.EmployeeDto]] GetEmployee(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:49:14.446 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:49:14.447 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:49:14.448 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:49:14.449 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:49:14.450 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:49:14.451 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:49:14.453 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:49:14.454 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:49:14.455 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:49:14.457 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:14.458 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:14.459 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:49:14.461 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:14.465 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:49:14.467 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)
    .Where(c => c.EmployeeId == __id_0)
    .FirstOrDefault()'
2024-10-07 10:49:14.469 +03:00 [DBG] Including navigation: 'Employee.Reservations'.
2024-10-07 10:49:14.471 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:49:14.479 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:49:14.482 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Employee.EmployeeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Name (string) Required MaxLength(100), 1], [Property: Employee.Role (string) Required MaxLength(50), 2], [Property: Employee.Salary (decimal) Required, 3] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
                3 -> 4
                4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Order.MenuItemId (int) Required FK Index, 9], [Property: Order.Quantity (int) Required, 10], [Property: Order.ReservationId (int) Required FK Index, 11] }
                5 -> 8
            SELECT t.EmployeeId, t.Name, t.Role, t.Salary, t0.ReservationId, t0.CustomerId, t0.EmployeeId, t0.ReservationDate, t0.OrderId, t0.MenuItemId, t0.Quantity, t0.ReservationId0
            FROM 
            (
                SELECT TOP(1) e.EmployeeId, e.Name, e.Role, e.Salary
                FROM Employees AS e
                WHERE e.EmployeeId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
                FROM Reservations AS r
                LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
            ) AS t0 ON t.EmployeeId == t0.EmployeeId
            ORDER BY t.EmployeeId ASC, t0.ReservationId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        RestaurantReservationAPI.RestaurantDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-07 10:49:14.485 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:49:14.485 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:49:14.486 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:14.486 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:14.487 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:49:14.488 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:49:14.488 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:49:14.489 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:49:14.494 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:49:14.496 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:14.497 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:49:14.497 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:14.498 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:49:14.500 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:49:14.501 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:49:14.503 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:49:14.504 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:49:14.505 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:49:14.506 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 10:49:14.510 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI) in 58.3336ms
2024-10-07 10:49:14.511 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:14.512 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:49:14.512 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:49:14.513 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:14.513 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:49:14.514 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees/8 - 404 162 application/problem+json; charset=utf-8 97.3296ms
2024-10-07 10:49:23.484 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees/10 - null null
2024-10-07 10:49:23.497 +03:00 [DBG] The request path /api/employees/10 does not match a supported file type
2024-10-07 10:49:23.500 +03:00 [DBG] The request path /api/employees/10 does not match a supported file type
2024-10-07 10:49:23.502 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/10'
2024-10-07 10:49:23.503 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/10'
2024-10-07 10:49:23.506 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:23.508 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:49:23.508 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:49:23.509 +03:00 [DBG] Authorization was successful.
2024-10-07 10:49:23.512 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:23.513 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.EmployeeDto]] GetEmployee(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:49:23.515 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:49:23.516 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:49:23.517 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:49:23.520 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:49:23.521 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:49:23.522 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:49:23.523 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:49:23.524 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:49:23.525 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:49:23.527 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:23.527 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:23.529 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:49:23.531 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:23.533 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:49:23.535 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:49:23.536 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:49:23.538 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:23.540 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:23.543 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:49:23.544 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:49:23.546 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-07 10:49:23.548 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:49:23.555 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:49:23.563 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:49:23.565 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:49:23.567 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:49:23.568 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:49:23.570 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:49:23.571 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:49:23.572 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:49:23.573 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:23.575 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 11ms reading results.
2024-10-07 10:49:23.576 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:23.577 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:49:23.581 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:49:23.583 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:49:23.584 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:49:23.584 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:49:23.585 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:49:23.586 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:49:23.586 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.EmployeeDto'.
2024-10-07 10:49:23.587 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI) in 65.3261ms
2024-10-07 10:49:23.588 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:23.589 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:49:23.590 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:49:23.591 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:49:23.591 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:49:23.592 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees/10 - 200 614 application/json; charset=utf-8 108.3861ms
2024-10-07 10:49:50.402 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/employees/10 - application/json-patch+json 19
2024-10-07 10:49:50.416 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:49:50.416 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:49:50.417 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/10'
2024-10-07 10:49:50.418 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/10'
2024-10-07 10:49:50.420 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:50.423 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:49:50.424 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:49:50.425 +03:00 [DBG] Authorization was successful.
2024-10-07 10:49:50.425 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:50.430 +03:00 [INF] Route matched with {action = "PutEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutEmployee(Int32, RestaurantReservationAPI.DTOs.CreateEmployeeDto) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:49:50.433 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:49:50.436 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:49:50.438 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:49:50.439 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:49:50.440 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:49:50.441 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:49:50.442 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:49:50.443 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:49:50.444 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:49:50.445 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:50.445 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:50.446 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:49:50.447 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:49:50.448 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:49:50.449 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-10-07 10:49:50.451 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:49:50.453 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:49:50.453 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000016": started reading request body.
2024-10-07 10:49:50.454 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000016": done reading request body.
2024-10-07 10:49:50.455 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:49:50.455 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:49:50.456 +03:00 [DBG] Attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:49:50.457 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:49:50.458 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 10:49:50.458 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 10:49:50.459 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:49:50.461 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:49:50.461 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:49:50.463 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:49:50.463 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 10:49:50.464 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI) in 23.0861ms
2024-10-07 10:49:50.465 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)'
2024-10-07 10:49:50.466 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:49:50.467 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/employees/10 - 400 261 application/problem+json; charset=utf-8 64.615ms
2024-10-07 10:50:05.239 +03:00 [DBG] Connection id "0HN76KFQK24DV" received FIN.
2024-10-07 10:50:05.242 +03:00 [DBG] Connection id "0HN76KFQK24DV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 10:50:05.243 +03:00 [DBG] Connection id "0HN76KFQK24DV" disconnecting.
2024-10-07 10:50:05.250 +03:00 [DBG] Connection id "0HN76KFQK24DV" stopped.
2024-10-07 10:50:18.583 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/employees/10 - application/json-patch+json 64
2024-10-07 10:50:18.585 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:50:18.586 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:50:18.587 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/10'
2024-10-07 10:50:18.596 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/10'
2024-10-07 10:50:18.600 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:18.602 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:50:18.605 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:50:18.606 +03:00 [DBG] Authorization was successful.
2024-10-07 10:50:18.607 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:18.608 +03:00 [INF] Route matched with {action = "PutEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutEmployee(Int32, RestaurantReservationAPI.DTOs.CreateEmployeeDto) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:50:18.609 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:50:18.610 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:50:18.613 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:50:18.614 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:50:18.615 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:50:18.616 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:18.618 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:18.619 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:18.620 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:50:18.621 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:18.622 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:18.623 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:18.623 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:18.624 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:50:18.625 +03:00 [DBG] Attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-10-07 10:50:18.626 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:50:18.626 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:50:18.627 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000017": started reading request body.
2024-10-07 10:50:18.628 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000017": done reading request body.
2024-10-07 10:50:18.629 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:50:18.630 +03:00 [DBG] Done attempting to bind parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:50:18.631 +03:00 [DBG] Attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto' ...
2024-10-07 10:50:18.631 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeDto' of type 'RestaurantReservationAPI.DTOs.CreateEmployeeDto'.
2024-10-07 10:50:18.633 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:50:18.635 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:50:18.636 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:50:18.636 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.637 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:18.639 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:18.639 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:18.640 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:18.644 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:18.646 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.647 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.648 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.649 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.650 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.651 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.652 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.653 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.654 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-10-07 10:50:18.655 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.655 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:18.658 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.659 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:50:18.660 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:50:18.661 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:50:18.662 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.663 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.664 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:18.665 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:18.665 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:18.666 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Name] = @p0, [Role] = @p1, [Salary] = @p2
OUTPUT 1
WHERE [EmployeeId] = @p3;
2024-10-07 10:50:18.671 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Name] = @p0, [Role] = @p1, [Salary] = @p2
OUTPUT 1
WHERE [EmployeeId] = @p3;
2024-10-07 10:50:18.673 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.673 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:50:18.674 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.676 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:50:18.677 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:18.678 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:50:18.679 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 10:50:18.680 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI) in 63.539ms
2024-10-07 10:50:18.680 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.PutEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:18.681 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:50:18.682 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:50:18.683 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:18.683 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:50:18.684 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/employees/10 - 204 null null 101.1256ms
2024-10-07 10:50:26.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees/10 - null null
2024-10-07 10:50:26.743 +03:00 [DBG] The request path /api/employees/10 does not match a supported file type
2024-10-07 10:50:26.744 +03:00 [DBG] The request path /api/employees/10 does not match a supported file type
2024-10-07 10:50:26.746 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/10'
2024-10-07 10:50:26.748 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/10'
2024-10-07 10:50:26.750 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:26.752 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:50:26.753 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:50:26.754 +03:00 [DBG] Authorization was successful.
2024-10-07 10:50:26.755 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:26.756 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.EmployeeDto]] GetEmployee(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:50:26.757 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:50:26.759 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:50:26.762 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:50:26.764 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:50:26.767 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:50:26.768 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:26.769 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:26.770 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:26.771 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:50:26.772 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:26.772 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:26.773 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:26.774 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:26.775 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:50:26.776 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:50:26.777 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:50:26.778 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:26.779 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:26.780 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:26.781 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:26.781 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:26.782 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:26.784 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:26.787 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:26.788 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:26.789 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:26.790 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:26.791 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:26.792 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:26.793 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:26.794 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:26.795 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-10-07 10:50:26.797 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:26.797 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:26.798 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:50:26.800 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:50:26.801 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:50:26.801 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:50:26.802 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:50:26.802 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:50:26.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.EmployeeDto'.
2024-10-07 10:50:26.804 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI) in 35.2065ms
2024-10-07 10:50:26.804 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:26.805 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:50:26.806 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:50:26.806 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:26.807 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:50:26.808 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees/10 - 200 612 application/json; charset=utf-8 72.3051ms
2024-10-07 10:50:36.256 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:50:36.271 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:50:36.276 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:50:36.279 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:50:36.280 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:50:36.282 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:50:36.282 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:50:36.283 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:50:36.283 +03:00 [DBG] Authorization was successful.
2024-10-07 10:50:36.284 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:50:36.285 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:50:36.286 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:50:36.286 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:50:36.287 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:50:36.289 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:50:36.290 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:50:36.291 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:36.292 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:36.293 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:50:36.295 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:50:36.295 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:50:36.296 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:36.297 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:36.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:36.298 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:36.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:36.300 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:50:36.305 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:50:36.307 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.308 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.308 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.309 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.310 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.311 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.312 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.312 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.313 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.314 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.315 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.316 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.317 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.318 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.319 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.319 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:36.320 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:36.321 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 14ms reading results.
2024-10-07 10:50:36.322 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:36.323 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:36.325 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:50:36.326 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:50:36.327 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:50:36.328 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:50:36.328 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:50:36.329 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:50:36.330 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:50:36.331 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 40.0459ms
2024-10-07 10:50:36.332 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:50:36.332 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:50:36.333 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:50:36.334 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:36.334 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:50:36.335 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1488 application/json; charset=utf-8 79.0202ms
2024-10-07 10:50:45.199 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5099/api/employees/14 - null null
2024-10-07 10:50:45.203 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:50:45.216 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:50:45.218 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/14'
2024-10-07 10:50:45.222 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/14'
2024-10-07 10:50:45.224 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:45.225 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:50:45.226 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:50:45.227 +03:00 [DBG] Authorization was successful.
2024-10-07 10:50:45.227 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:45.231 +03:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:50:45.233 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:50:45.234 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:50:45.236 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:50:45.238 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:50:45.239 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:50:45.239 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:45.240 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:45.241 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:45.242 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:50:45.243 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:45.244 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:45.245 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:45.246 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:45.248 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:50:45.249 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:50:45.250 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:50:45.251 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.252 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.253 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:45.253 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:45.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:45.255 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:45.260 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:45.261 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:45.262 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.263 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:50:45.264 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.265 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:45.267 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:45.268 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:50:45.269 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:50:45.270 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:50:45.271 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.272 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.272 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:45.273 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:45.274 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:45.275 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Employees]
OUTPUT 1
WHERE [EmployeeId] = @p0;
2024-10-07 10:50:45.279 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Employees]
OUTPUT 1
WHERE [EmployeeId] = @p0;
2024-10-07 10:50:45.280 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.281 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:50:45.282 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.283 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:50:45.284 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:45.285 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:50:45.286 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 10:50:45.286 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI) in 47.1012ms
2024-10-07 10:50:45.287 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:45.288 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:50:45.288 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:50:45.289 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:45.290 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:50:45.291 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5099/api/employees/14 - 204 null null 92.1063ms
2024-10-07 10:50:46.560 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5099/api/employees/14 - null null
2024-10-07 10:50:46.568 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:50:46.572 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:50:46.574 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/14'
2024-10-07 10:50:46.575 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/14'
2024-10-07 10:50:46.576 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:46.576 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:50:46.577 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:50:46.578 +03:00 [DBG] Authorization was successful.
2024-10-07 10:50:46.578 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:46.578 +03:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:50:46.580 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:50:46.581 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:50:46.581 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:50:46.583 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:50:46.584 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:50:46.586 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:46.587 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:46.587 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:46.588 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:50:46.589 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:46.590 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:46.590 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:46.591 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:46.592 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:50:46.594 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:50:46.594 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:50:46.595 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:46.596 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:46.597 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:46.597 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:46.598 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:46.599 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:46.601 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:46.604 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:46.605 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:50:46.606 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:46.607 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:46.608 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:50:46.610 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:50:46.611 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:50:46.612 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:50:46.613 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 10:50:46.614 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI) in 28.6186ms
2024-10-07 10:50:46.615 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:46.616 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:50:46.617 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:50:46.618 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:46.619 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:50:46.620 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5099/api/employees/14 - 404 162 application/problem+json; charset=utf-8 59.337ms
2024-10-07 10:50:52.699 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:50:52.705 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:50:52.707 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:50:52.709 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:50:52.712 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:50:52.714 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:50:52.717 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:50:52.719 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:50:52.721 +03:00 [DBG] Authorization was successful.
2024-10-07 10:50:52.722 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:50:52.723 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:50:52.725 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:50:52.726 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:50:52.727 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:50:52.728 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:50:52.730 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:50:52.732 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:52.733 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:52.736 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:50:52.737 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:50:52.737 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:50:52.738 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:52.739 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:52.740 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:52.740 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:52.741 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:52.742 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:50:52.751 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:50:52.753 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.754 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.755 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.756 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.757 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.757 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.758 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.759 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.760 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.761 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.762 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.763 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.764 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.765 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.766 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:52.766 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:52.767 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 14ms reading results.
2024-10-07 10:50:52.768 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:52.769 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:52.770 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:50:52.772 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:50:52.772 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:50:52.773 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:50:52.774 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:50:52.774 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:50:52.775 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:50:52.776 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 43.5961ms
2024-10-07 10:50:52.777 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:50:52.778 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:50:52.779 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:50:52.780 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:52.780 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:50:52.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1384 application/json; charset=utf-8 82.8522ms
2024-10-07 10:50:59.634 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5099/api/employees/13 - null null
2024-10-07 10:50:59.637 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:50:59.638 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:50:59.639 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/13'
2024-10-07 10:50:59.641 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/13'
2024-10-07 10:50:59.645 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:59.648 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:50:59.649 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:50:59.650 +03:00 [DBG] Authorization was successful.
2024-10-07 10:50:59.651 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:59.652 +03:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:50:59.653 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:50:59.654 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:50:59.655 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:50:59.656 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:50:59.658 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:50:59.659 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:59.660 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:50:59.661 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:59.663 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:50:59.666 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:59.668 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:59.669 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:50:59.670 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:50:59.672 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:50:59.673 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:50:59.674 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:50:59.675 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.676 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:59.677 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:59.678 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:59.679 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:59.682 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[Name], [t].[Role], [t].[Salary], [t0].[ReservationId], [t0].[CustomerId], [t0].[EmployeeId], [t0].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId0]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId]
ORDER BY [t].[EmployeeId], [t0].[ReservationId]
2024-10-07 10:50:59.685 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:59.686 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.687 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 10:50:59.688 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.689 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:59.690 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:59.692 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:50:59.693 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:50:59.693 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:50:59.694 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.695 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.696 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:50:59.696 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:50:59.697 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:50:59.698 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Employees]
OUTPUT 1
WHERE [EmployeeId] = @p0;
2024-10-07 10:50:59.700 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Employees]
OUTPUT 1
WHERE [EmployeeId] = @p0;
2024-10-07 10:50:59.702 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.703 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 10:50:59.704 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.705 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:50:59.706 +03:00 [DBG] An entity of type 'Employee' tracked by 'RestaurantDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:50:59.709 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:50:59.709 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 10:50:59.710 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI) in 50.8525ms
2024-10-07 10:50:59.711 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.DeleteEmployee (RestaurantReservationAPI)'
2024-10-07 10:50:59.711 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:50:59.712 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:50:59.713 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:50:59.713 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:50:59.714 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5099/api/employees/13 - 204 null null 80.0386ms
2024-10-07 10:51:03.540 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:51:03.545 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:51:03.548 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:51:03.549 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:51:03.550 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:51:03.552 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:51:03.553 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:51:03.553 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:51:03.554 +03:00 [DBG] Authorization was successful.
2024-10-07 10:51:03.555 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:51:03.555 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:51:03.557 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:51:03.558 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:51:03.558 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:51:03.559 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:51:03.560 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:51:03.561 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:51:03.562 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:51:03.563 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:51:03.564 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:51:03.565 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:51:03.565 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:03.566 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:03.567 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:51:03.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:51:03.568 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:51:03.569 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:51:03.573 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:51:03.574 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.575 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.576 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.577 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.578 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.579 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.579 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.580 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.581 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.582 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.583 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.583 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.584 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.585 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:03.586 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:03.586 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 11ms reading results.
2024-10-07 10:51:03.588 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:03.589 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:51:03.590 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:51:03.592 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:51:03.593 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:51:03.593 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:51:03.594 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:51:03.594 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:51:03.595 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:51:03.596 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 34.918ms
2024-10-07 10:51:03.597 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:51:03.598 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:51:03.599 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:51:03.599 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:03.600 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:51:03.601 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1280 application/json; charset=utf-8 60.9901ms
2024-10-07 10:51:11.714 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees/managers - null null
2024-10-07 10:51:11.718 +03:00 [DBG] The request path /api/employees/managers does not match a supported file type
2024-10-07 10:51:11.722 +03:00 [DBG] The request path /api/employees/managers does not match a supported file type
2024-10-07 10:51:11.726 +03:00 [DBG] 2 candidate(s) found for the request path '/api/employees/managers'
2024-10-07 10:51:11.728 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetManagers (RestaurantReservationAPI)' with route pattern 'api/employees/managers' is valid for the request path '/api/employees/managers'
2024-10-07 10:51:11.729 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployee (RestaurantReservationAPI)' with route pattern 'api/employees/{id}' is valid for the request path '/api/employees/managers'
2024-10-07 10:51:11.730 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetManagers (RestaurantReservationAPI)'
2024-10-07 10:51:11.731 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:51:11.731 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:51:11.732 +03:00 [DBG] Authorization was successful.
2024-10-07 10:51:11.733 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetManagers (RestaurantReservationAPI)'
2024-10-07 10:51:11.737 +03:00 [INF] Route matched with {action = "GetManagers", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetManagers() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:51:11.738 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:51:11.739 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:51:11.741 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:51:11.742 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:51:11.743 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:51:11.743 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:51:11.744 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:51:11.746 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:51:11.748 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)
    .Where(e => e.Role == "Manager")'
2024-10-07 10:51:11.749 +03:00 [DBG] Including navigation: 'Employee.Reservations'.
2024-10-07 10:51:11.750 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 10:51:11.757 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 10:51:11.760 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.EmployeeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Name (string) Required MaxLength(100), 1], [Property: Employee.Role (string) Required MaxLength(50), 2], [Property: Employee.Salary (decimal) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            3 -> 4
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Order.MenuItemId (int) Required FK Index, 9], [Property: Order.Quantity (int) Required, 10], [Property: Order.ReservationId (int) Required FK Index, 11] }
            5 -> 8
        SELECT e.EmployeeId, e.Name, e.Role, e.Salary, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Employees AS e
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON e.EmployeeId == t.EmployeeId
        WHERE e.Role == N'Manager'
        ORDER BY e.EmployeeId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:51:11.762 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:51:11.762 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:51:11.763 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:11.763 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:11.764 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:51:11.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:51:11.766 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:51:11.767 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
WHERE [e].[Role] = N'Manager'
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:51:11.771 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
WHERE [e].[Role] = N'Manager'
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:51:11.773 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:11.773 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:11.774 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:11.775 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:11.776 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:11.776 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:11.777 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:51:11.778 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:11.779 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-10-07 10:51:11.780 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:11.780 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:51:11.782 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:51:11.784 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:51:11.785 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:51:11.785 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:51:11.786 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:51:11.786 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:51:11.787 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:51:11.788 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetManagers (RestaurantReservationAPI) in 44.5146ms
2024-10-07 10:51:11.789 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetManagers (RestaurantReservationAPI)'
2024-10-07 10:51:11.789 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:51:11.790 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:51:11.791 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:11.791 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:51:11.792 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees/managers - 200 614 application/json; charset=utf-8 77.9496ms
2024-10-07 10:51:22.118 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees/10/average-order-amount - null null
2024-10-07 10:51:22.121 +03:00 [DBG] The request path /api/employees/10/average-order-amount does not match a supported file type
2024-10-07 10:51:22.122 +03:00 [DBG] The request path /api/employees/10/average-order-amount does not match a supported file type
2024-10-07 10:51:22.124 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/10/average-order-amount'
2024-10-07 10:51:22.126 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)' with route pattern 'api/employees/{employeeId}/average-order-amount' is valid for the request path '/api/employees/10/average-order-amount'
2024-10-07 10:51:22.128 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)'
2024-10-07 10:51:22.130 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:51:22.134 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:51:22.135 +03:00 [DBG] Authorization was successful.
2024-10-07 10:51:22.137 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)'
2024-10-07 10:51:22.141 +03:00 [INF] Route matched with {action = "GetAverageOrderAmount", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Decimal]] GetAverageOrderAmount(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:51:22.144 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:51:22.145 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:51:22.146 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:51:22.147 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:51:22.148 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:51:22.149 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:51:22.150 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:51:22.151 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-10-07 10:51:22.152 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-10-07 10:51:22.153 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-10-07 10:51:22.154 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-10-07 10:51:22.155 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-10-07 10:51:22.155 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-10-07 10:51:22.159 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:51:22.164 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(r => r.Orders)
    .ThenInclude(o => o.MenuItem)
    .Where(r => r.EmployeeId == __employeeId_0)
    .SelectMany(r => r.Orders)
    .Average(o => o.MenuItem.Price * (decimal)o.Quantity)'
2024-10-07 10:51:22.202 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<decimal>(
    asyncEnumerable: new SingleQueryingEnumerable<decimal>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT AVG(m.Price * CAST(o.Quantity AS decimal(10,2)))
            FROM Reservations AS r
            INNER JOIN Orders AS o ON r.ReservationId == o.ReservationId
            INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
            WHERE r.EmployeeId == @__employeeId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, decimal>, 
        RestaurantReservationAPI.RestaurantDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-07 10:51:22.215 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:51:22.219 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-07 10:51:22.222 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:22.226 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:22.227 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:51:22.228 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:51:22.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:51:22.229 +03:00 [DBG] Executing DbCommand [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([m].[Price] * CAST([o].[Quantity] AS decimal(10,2)))
FROM [Reservations] AS [r]
INNER JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [r].[EmployeeId] = @__employeeId_0
2024-10-07 10:51:22.234 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([m].[Price] * CAST([o].[Quantity] AS decimal(10,2)))
FROM [Reservations] AS [r]
INNER JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [r].[EmployeeId] = @__employeeId_0
2024-10-07 10:51:22.236 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:22.238 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 10:51:22.240 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:22.241 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:51:22.245 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:51:22.247 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:51:22.248 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:51:22.249 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:51:22.250 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:51:22.251 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:51:22.252 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Decimal'.
2024-10-07 10:51:22.253 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI) in 103.908ms
2024-10-07 10:51:22.254 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)'
2024-10-07 10:51:22.255 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:51:22.256 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:51:22.256 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:51:22.257 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:51:22.258 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees/10/average-order-amount - 200 9 application/json; charset=utf-8 140.3528ms
2024-10-07 10:52:09.562 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees/10/average-order-amount - null null
2024-10-07 10:52:09.565 +03:00 [DBG] The request path /api/employees/10/average-order-amount does not match a supported file type
2024-10-07 10:52:09.567 +03:00 [DBG] The request path /api/employees/10/average-order-amount does not match a supported file type
2024-10-07 10:52:09.571 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees/10/average-order-amount'
2024-10-07 10:52:09.572 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)' with route pattern 'api/employees/{employeeId}/average-order-amount' is valid for the request path '/api/employees/10/average-order-amount'
2024-10-07 10:52:09.573 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)'
2024-10-07 10:52:09.574 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:52:09.575 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:52:09.576 +03:00 [DBG] Authorization was successful.
2024-10-07 10:52:09.577 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)'
2024-10-07 10:52:09.578 +03:00 [INF] Route matched with {action = "GetAverageOrderAmount", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Decimal]] GetAverageOrderAmount(Int32) on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:52:09.578 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:52:09.579 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:52:09.580 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:52:09.582 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:52:09.583 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:52:09.584 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:52:09.585 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:52:09.586 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-10-07 10:52:09.588 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-10-07 10:52:09.589 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-10-07 10:52:09.589 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-10-07 10:52:09.590 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-10-07 10:52:09.591 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-10-07 10:52:09.592 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:52:09.593 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:52:09.594 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:52:09.595 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:09.596 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:09.597 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:52:09.597 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:52:09.598 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:52:09.599 +03:00 [DBG] Executing DbCommand [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([m].[Price] * CAST([o].[Quantity] AS decimal(10,2)))
FROM [Reservations] AS [r]
INNER JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [r].[EmployeeId] = @__employeeId_0
2024-10-07 10:52:09.604 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([m].[Price] * CAST([o].[Quantity] AS decimal(10,2)))
FROM [Reservations] AS [r]
INNER JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [r].[EmployeeId] = @__employeeId_0
2024-10-07 10:52:09.606 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:09.607 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:52:09.609 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:09.610 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:52:09.612 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:52:09.615 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:52:09.616 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:52:09.617 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:52:09.618 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:52:09.618 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:52:09.619 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Decimal'.
2024-10-07 10:52:09.620 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI) in 36.1578ms
2024-10-07 10:52:09.621 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetAverageOrderAmount (RestaurantReservationAPI)'
2024-10-07 10:52:09.622 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:52:09.622 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:52:09.623 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:09.624 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:52:09.625 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees/10/average-order-amount - 200 9 application/json; charset=utf-8 76.1391ms
2024-10-07 10:52:42.132 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/menu-items - null null
2024-10-07 10:52:42.147 +03:00 [DBG] The request path /api/menu-items does not match a supported file type
2024-10-07 10:52:42.149 +03:00 [DBG] The request path /api/menu-items does not match a supported file type
2024-10-07 10:52:42.149 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items'
2024-10-07 10:52:42.150 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)' with route pattern 'api/menu-items' is valid for the request path '/api/menu-items'
2024-10-07 10:52:42.152 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:52:42.154 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:52:42.156 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:52:42.157 +03:00 [DBG] Authorization was successful.
2024-10-07 10:52:42.157 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:52:42.161 +03:00 [INF] Route matched with {action = "GetMenuItems", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItems() on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:52:42.163 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:52:42.164 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:52:42.165 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:52:42.166 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:52:42.166 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:52:42.167 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:52:42.168 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:52:42.171 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:52:42.172 +03:00 [DBG] Compiling query expression: 
'DbSet<MenuItem>()'
2024-10-07 10:52:42.175 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<MenuItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: MenuItem.Name (string) Required MaxLength(100), 1], [Property: MenuItem.Price (decimal) Required, 2] }
        SELECT m.MenuItemId, m.Name, m.Price
        FROM MenuItems AS m), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MenuItem>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:52:42.176 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:52:42.177 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:52:42.177 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:42.178 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:42.179 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:52:42.180 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:52:42.180 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:52:42.181 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2024-10-07 10:52:42.184 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2024-10-07 10:52:42.190 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:52:42.195 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:52:42.196 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:52:42.196 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:42.197 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-10-07 10:52:42.198 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:42.199 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:52:42.202 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:52:42.204 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:52:42.205 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:52:42.206 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:52:42.206 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:52:42.206 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:52:42.207 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.MenuItemDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:52:42.210 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI) in 42.6163ms
2024-10-07 10:52:42.211 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:52:42.212 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:52:42.212 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:52:42.213 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:52:42.214 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:52:42.215 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/menu-items - 200 139 application/json; charset=utf-8 83.1316ms
2024-10-07 10:56:46.824 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/menu-items - application/json-patch+json 38
2024-10-07 10:56:46.836 +03:00 [DBG] POST requests are not supported
2024-10-07 10:56:46.837 +03:00 [DBG] POST requests are not supported
2024-10-07 10:56:46.838 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items'
2024-10-07 10:56:46.843 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)' with route pattern 'api/menu-items' is valid for the request path '/api/menu-items'
2024-10-07 10:56:46.845 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)'
2024-10-07 10:56:46.846 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:56:46.847 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:56:46.848 +03:00 [DBG] Authorization was successful.
2024-10-07 10:56:46.848 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)'
2024-10-07 10:56:46.852 +03:00 [INF] Route matched with {action = "PostMenuItem", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.MenuItem]] PostMenuItem(RestaurantReservationAPI.DTOs.CreateMenuItemDto) on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:56:46.853 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:56:46.855 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:56:46.857 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:56:46.858 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:56:46.859 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:56:46.860 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:56:46.862 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:56:46.863 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:56:46.864 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' using the name '' in request data ...
2024-10-07 10:56:46.864 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:56:46.865 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:56:46.866 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000023": started reading request body.
2024-10-07 10:56:46.866 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000023": done reading request body.
2024-10-07 10:56:46.868 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:56:46.869 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:56:46.871 +03:00 [DBG] Attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:56:46.872 +03:00 [DBG] Done attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:56:46.873 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 10:56:46.873 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 10:56:46.874 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:56:46.876 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:56:46.878 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:56:46.879 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:56:46.881 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:56:46.882 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 10:56:46.883 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI) in 23.0292ms
2024-10-07 10:56:46.884 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)'
2024-10-07 10:56:46.884 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:56:46.885 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/menu-items - 400 255 application/problem+json; charset=utf-8 60.9043ms
2024-10-07 10:56:57.616 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/menu-items - application/json-patch+json 36
2024-10-07 10:56:57.625 +03:00 [DBG] POST requests are not supported
2024-10-07 10:56:57.627 +03:00 [DBG] POST requests are not supported
2024-10-07 10:56:57.630 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items'
2024-10-07 10:56:57.634 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)' with route pattern 'api/menu-items' is valid for the request path '/api/menu-items'
2024-10-07 10:56:57.637 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)'
2024-10-07 10:56:57.638 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:56:57.639 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:56:57.640 +03:00 [DBG] Authorization was successful.
2024-10-07 10:56:57.640 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)'
2024-10-07 10:56:57.641 +03:00 [INF] Route matched with {action = "PostMenuItem", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.MenuItem]] PostMenuItem(RestaurantReservationAPI.DTOs.CreateMenuItemDto) on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:56:57.642 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:56:57.643 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:56:57.644 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:56:57.645 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:56:57.647 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:56:57.648 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:56:57.650 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:56:57.651 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:56:57.652 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' using the name '' in request data ...
2024-10-07 10:56:57.653 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:56:57.654 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:56:57.655 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000024": started reading request body.
2024-10-07 10:56:57.655 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000024": done reading request body.
2024-10-07 10:56:57.656 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:56:57.657 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:56:57.658 +03:00 [DBG] Attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:56:57.659 +03:00 [DBG] Done attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:56:57.663 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:56:57.665 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'MenuItem.MenuItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:56:57.666 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:56:57.667 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:56:57.668 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:56:57.670 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:56:57.671 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:56:57.671 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:56:57.672 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:56:57.673 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:56:57.674 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:56:57.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:56:57.675 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:56:57.676 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Name], [Price])
OUTPUT INSERTED.[MenuItemId]
VALUES (@p0, @p1);
2024-10-07 10:56:57.680 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Name], [Price])
OUTPUT INSERTED.[MenuItemId]
VALUES (@p0, @p1);
2024-10-07 10:56:57.682 +03:00 [DBG] The foreign key property 'MenuItem.MenuItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 10:56:57.683 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:56:57.683 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 10:56:57.684 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:56:57.685 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:56:57.686 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:56:57.687 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:56:57.688 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:56:57.690 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:56:57.691 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:56:57.691 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:56:57.692 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:56:57.692 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:56:57.693 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'RestaurantReservationAPI.Models.MenuItem'.
2024-10-07 10:56:57.694 +03:00 [DBG] Found the endpoints ["RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)"] for address (id=[11],action=[GetMenuItem],controller=[MenuItem])
2024-10-07 10:56:57.695 +03:00 [DBG] Successfully processed template api/menu-items/{id} for RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI) resulting in /api/menu-items/11 and 
2024-10-07 10:56:57.696 +03:00 [DBG] Link generation succeeded for endpoints ["RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)"] with result /api/menu-items/11
2024-10-07 10:56:57.698 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI) in 50.0695ms
2024-10-07 10:56:57.699 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PostMenuItem (RestaurantReservationAPI)'
2024-10-07 10:56:57.699 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:56:57.700 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:56:57.701 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:56:57.701 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:56:57.702 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/menu-items - 201 45 application/json; charset=utf-8 85.6531ms
2024-10-07 10:57:11.723 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/menu-items/11 - null null
2024-10-07 10:57:11.724 +03:00 [DBG] The request path /api/menu-items/11 does not match a supported file type
2024-10-07 10:57:11.725 +03:00 [DBG] The request path /api/menu-items/11 does not match a supported file type
2024-10-07 10:57:11.726 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items/11'
2024-10-07 10:57:11.727 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)' with route pattern 'api/menu-items/{id}' is valid for the request path '/api/menu-items/11'
2024-10-07 10:57:11.728 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:11.729 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:57:11.730 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:57:11.731 +03:00 [DBG] Authorization was successful.
2024-10-07 10:57:11.733 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:11.736 +03:00 [INF] Route matched with {action = "GetMenuItem", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.MenuItemDto]] GetMenuItem(Int32) on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:57:11.739 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:57:11.741 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:57:11.742 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:57:11.743 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:57:11.744 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:57:11.745 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:11.746 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:11.746 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:11.747 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:57:11.748 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:11.749 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:11.750 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:11.751 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:11.753 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:57:11.764 +03:00 [DBG] Compiling query expression: 
'DbSet<MenuItem>()
    .FirstOrDefault(e => EF.Property<int>(e, "MenuItemId") == __p_0)'
2024-10-07 10:57:11.768 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<MenuItem>(
    asyncEnumerable: new SingleQueryingEnumerable<MenuItem>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: MenuItem.Name (string) Required MaxLength(100), 1], [Property: MenuItem.Price (decimal) Required, 2] }
            SELECT TOP(1) m.MenuItemId, m.Name, m.Price
            FROM MenuItems AS m
            WHERE m.MenuItemId == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MenuItem>, 
        RestaurantReservationAPI.RestaurantDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-07 10:57:11.770 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:57:11.770 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:57:11.771 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:11.772 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:11.773 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:57:11.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:57:11.775 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:57:11.776 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:57:11.779 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:57:11.786 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:57:11.787 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:11.787 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:57:11.788 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:11.789 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:57:11.791 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:57:11.794 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:57:11.794 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:57:11.795 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:57:11.795 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:57:11.796 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:57:11.797 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.MenuItemDto'.
2024-10-07 10:57:11.797 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI) in 52.6053ms
2024-10-07 10:57:11.798 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:11.799 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:57:11.799 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:57:11.800 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:11.801 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:57:11.801 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/menu-items/11 - 200 46 application/json; charset=utf-8 78.6107ms
2024-10-07 10:57:30.064 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/menu-items/11 - application/json-patch+json 17
2024-10-07 10:57:30.071 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:57:30.073 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:57:30.074 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items/11'
2024-10-07 10:57:30.076 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)' with route pattern 'api/menu-items/{id}' is valid for the request path '/api/menu-items/11'
2024-10-07 10:57:30.081 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:30.082 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:57:30.082 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:57:30.083 +03:00 [DBG] Authorization was successful.
2024-10-07 10:57:30.084 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:30.087 +03:00 [INF] Route matched with {action = "PutMenuItem", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutMenuItem(Int32, RestaurantReservationAPI.DTOs.CreateMenuItemDto) on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:57:30.088 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:57:30.089 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:57:30.090 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:57:30.091 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:57:30.091 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:57:30.093 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:30.094 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:30.095 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:30.096 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:57:30.096 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:30.097 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:30.098 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:30.099 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:30.099 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:57:30.100 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' using the name '' in request data ...
2024-10-07 10:57:30.101 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:57:30.102 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:57:30.103 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000026": started reading request body.
2024-10-07 10:57:30.103 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000026": done reading request body.
2024-10-07 10:57:30.104 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:57:30.105 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:57:30.105 +03:00 [DBG] Attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:57:30.106 +03:00 [DBG] Done attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:57:30.107 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 10:57:30.107 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 10:57:30.108 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:57:30.110 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 10:57:30.110 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 10:57:30.112 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:57:30.112 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 10:57:30.113 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI) in 20.8189ms
2024-10-07 10:57:30.114 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:30.115 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:57:30.115 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/menu-items/11 - 400 232 application/problem+json; charset=utf-8 51.7149ms
2024-10-07 10:57:41.952 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/menu-items/11 - application/json-patch+json 35
2024-10-07 10:57:41.953 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:57:41.954 +03:00 [DBG] PUT requests are not supported
2024-10-07 10:57:41.955 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items/11'
2024-10-07 10:57:41.956 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)' with route pattern 'api/menu-items/{id}' is valid for the request path '/api/menu-items/11'
2024-10-07 10:57:41.958 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:41.959 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:57:41.960 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:57:41.961 +03:00 [DBG] Authorization was successful.
2024-10-07 10:57:41.962 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:41.962 +03:00 [INF] Route matched with {action = "PutMenuItem", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutMenuItem(Int32, RestaurantReservationAPI.DTOs.CreateMenuItemDto) on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:57:41.965 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:57:41.967 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:57:41.969 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:57:41.971 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:57:41.973 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:57:41.974 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:41.975 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:41.976 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:41.977 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:57:41.977 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:41.978 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:41.978 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:41.979 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:41.980 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:57:41.981 +03:00 [DBG] Attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' using the name '' in request data ...
2024-10-07 10:57:41.981 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:57:41.982 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:57:41.983 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000027": started reading request body.
2024-10-07 10:57:41.984 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000027": done reading request body.
2024-10-07 10:57:41.985 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:57:41.986 +03:00 [DBG] Done attempting to bind parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:57:41.987 +03:00 [DBG] Attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto' ...
2024-10-07 10:57:41.988 +03:00 [DBG] Done attempting to validate the bound parameter 'menuItemDto' of type 'RestaurantReservationAPI.DTOs.CreateMenuItemDto'.
2024-10-07 10:57:41.990 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:57:41.992 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:57:41.993 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:57:41.994 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:41.996 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:41.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:57:41.999 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:57:42.002 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-07 10:57:42.003 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:57:42.007 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:57:42.013 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:57:42.014 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:42.016 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-10-07 10:57:42.017 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:42.018 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:57:42.020 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:57:42.021 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:57:42.022 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:57:42.023 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:57:42.023 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:42.024 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:42.025 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:57:42.025 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:57:42.026 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:57:42.027 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MenuItems] SET [Name] = @p0, [Price] = @p1
OUTPUT 1
WHERE [MenuItemId] = @p2;
2024-10-07 10:57:42.029 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MenuItems] SET [Name] = @p0, [Price] = @p1
OUTPUT 1
WHERE [MenuItemId] = @p2;
2024-10-07 10:57:42.031 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:42.032 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:57:42.033 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:42.034 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:57:42.035 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:57:42.036 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:57:42.037 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 10:57:42.038 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI) in 63.5208ms
2024-10-07 10:57:42.038 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.PutMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:42.039 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:57:42.039 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:57:42.040 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:42.041 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:57:42.042 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/menu-items/11 - 204 null null 89.973ms
2024-10-07 10:57:49.447 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/menu-items/11 - null null
2024-10-07 10:57:49.450 +03:00 [DBG] The request path /api/menu-items/11 does not match a supported file type
2024-10-07 10:57:49.451 +03:00 [DBG] The request path /api/menu-items/11 does not match a supported file type
2024-10-07 10:57:49.452 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items/11'
2024-10-07 10:57:49.453 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)' with route pattern 'api/menu-items/{id}' is valid for the request path '/api/menu-items/11'
2024-10-07 10:57:49.456 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:49.457 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:57:49.459 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:57:49.461 +03:00 [DBG] Authorization was successful.
2024-10-07 10:57:49.462 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:49.462 +03:00 [INF] Route matched with {action = "GetMenuItem", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.MenuItemDto]] GetMenuItem(Int32) on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:57:49.464 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:57:49.465 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:57:49.467 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:57:49.468 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:57:49.468 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:57:49.470 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:49.470 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:57:49.471 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:49.472 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:57:49.473 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:49.474 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:49.475 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:57:49.475 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:57:49.477 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:57:49.479 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:57:49.479 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:57:49.480 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:49.481 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:49.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:57:49.482 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:57:49.483 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:57:49.484 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:57:49.486 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:57:49.487 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:57:49.488 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:49.489 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:57:49.490 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:49.491 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:57:49.492 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:57:49.494 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:57:49.495 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:57:49.495 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:57:49.496 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:57:49.497 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:57:49.498 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.MenuItemDto'.
2024-10-07 10:57:49.498 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI) in 28.801ms
2024-10-07 10:57:49.499 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItem (RestaurantReservationAPI)'
2024-10-07 10:57:49.500 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:57:49.501 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:57:49.501 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:57:49.502 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:57:49.503 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/menu-items/11 - 200 45 application/json; charset=utf-8 55.3758ms
2024-10-07 10:58:03.317 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5099/api/menu-items/10 - null null
2024-10-07 10:58:03.324 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:58:03.325 +03:00 [DBG] DELETE requests are not supported
2024-10-07 10:58:03.326 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items/10'
2024-10-07 10:58:03.327 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.DeleteMenuItem (RestaurantReservationAPI)' with route pattern 'api/menu-items/{id}' is valid for the request path '/api/menu-items/10'
2024-10-07 10:58:03.328 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.DeleteMenuItem (RestaurantReservationAPI)'
2024-10-07 10:58:03.329 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:58:03.331 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:58:03.331 +03:00 [DBG] Authorization was successful.
2024-10-07 10:58:03.334 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.DeleteMenuItem (RestaurantReservationAPI)'
2024-10-07 10:58:03.337 +03:00 [INF] Route matched with {action = "DeleteMenuItem", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMenuItem(Int32) on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:58:03.340 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:58:03.343 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:58:03.344 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:58:03.345 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:58:03.345 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:58:03.346 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:58:03.347 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:58:03.348 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 10:58:03.348 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 10:58:03.349 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:58:03.350 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 10:58:03.351 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 10:58:03.352 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 10:58:03.354 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:58:03.356 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:58:03.356 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:58:03.357 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.358 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.358 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:58:03.359 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:58:03.361 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:58:03.362 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:58:03.365 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuItemId] = @__p_0
2024-10-07 10:58:03.367 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:03.368 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.369 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:58:03.370 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.371 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:58:03.373 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:03.374 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:58:03.375 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:58:03.375 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:58:03.376 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.377 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.378 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:58:03.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:58:03.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:58:03.381 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MenuItems]
OUTPUT 1
WHERE [MenuItemId] = @p0;
2024-10-07 10:58:03.387 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MenuItems]
OUTPUT 1
WHERE [MenuItemId] = @p0;
2024-10-07 10:58:03.388 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.390 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 10:58:03.391 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.391 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:58:03.393 +03:00 [DBG] An entity of type 'MenuItem' tracked by 'RestaurantDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:03.394 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 10:58:03.395 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 10:58:03.395 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.DeleteMenuItem (RestaurantReservationAPI) in 48.869ms
2024-10-07 10:58:03.396 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.DeleteMenuItem (RestaurantReservationAPI)'
2024-10-07 10:58:03.397 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:58:03.398 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:58:03.399 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:03.400 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:58:03.401 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5099/api/menu-items/10 - 204 null null 83.8153ms
2024-10-07 10:58:15.521 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/menu-items - null null
2024-10-07 10:58:15.529 +03:00 [DBG] The request path /api/menu-items does not match a supported file type
2024-10-07 10:58:15.531 +03:00 [DBG] The request path /api/menu-items does not match a supported file type
2024-10-07 10:58:15.532 +03:00 [DBG] 1 candidate(s) found for the request path '/api/menu-items'
2024-10-07 10:58:15.534 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)' with route pattern 'api/menu-items' is valid for the request path '/api/menu-items'
2024-10-07 10:58:15.536 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:58:15.539 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:58:15.540 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:58:15.541 +03:00 [DBG] Authorization was successful.
2024-10-07 10:58:15.541 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:58:15.542 +03:00 [INF] Route matched with {action = "GetMenuItems", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItems() on controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI).
2024-10-07 10:58:15.543 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:58:15.544 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:58:15.545 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:58:15.547 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:58:15.548 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:58:15.550 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:58:15.551 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.MenuItemController (RestaurantReservationAPI)
2024-10-07 10:58:15.552 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:58:15.553 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:58:15.554 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:58:15.554 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:15.555 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:15.556 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:58:15.557 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:58:15.558 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:58:15.558 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2024-10-07 10:58:15.561 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2024-10-07 10:58:15.562 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:15.564 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:15.565 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:15.565 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:15.566 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-10-07 10:58:15.567 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:15.568 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:58:15.569 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:58:15.571 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:58:15.572 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:58:15.573 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:58:15.574 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:58:15.575 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:58:15.576 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.MenuItemDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:58:15.577 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI) in 27.4526ms
2024-10-07 10:58:15.578 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.MenuItemController.GetMenuItems (RestaurantReservationAPI)'
2024-10-07 10:58:15.578 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:58:15.579 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:58:15.580 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:15.581 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:58:15.582 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/menu-items - 200 139 application/json; charset=utf-8 61.1958ms
2024-10-07 10:58:44.702 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - null null
2024-10-07 10:58:44.719 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:58:44.719 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:58:44.720 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:58:44.721 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:58:44.724 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:58:44.727 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:58:44.728 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:58:44.730 +03:00 [DBG] Authorization was successful.
2024-10-07 10:58:44.731 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:58:44.736 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:58:44.740 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:58:44.743 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:58:44.744 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:58:44.745 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:58:44.747 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:58:44.748 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:58:44.750 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:58:44.752 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:58:44.753 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.Reservation)
    .Include(o => o.MenuItem)'
2024-10-07 10:58:44.755 +03:00 [DBG] Including navigation: 'Order.Reservation'.
2024-10-07 10:58:44.756 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 10:58:44.761 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.MenuItemId (int) Required FK Index, 1], [Property: Order.Quantity (int) Required, 2], [Property: Order.ReservationId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
            2 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
        SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, m.MenuItemId, m.Name, m.Price
        FROM Orders AS o
        INNER JOIN Reservations AS r ON o.ReservationId == r.ReservationId
        INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 10:58:44.763 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:58:44.764 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:58:44.764 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:44.765 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:44.766 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:58:44.767 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:58:44.768 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:58:44.769 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:58:44.772 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:58:44.773 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.775 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.777 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.779 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.780 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.781 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.782 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.782 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.783 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.785 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.786 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.787 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.788 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.788 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.789 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.790 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.791 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:58:44.792 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:44.792 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 18ms reading results.
2024-10-07 10:58:44.793 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:44.794 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:58:44.798 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:58:44.799 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:58:44.801 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:58:44.801 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:58:44.802 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:58:44.802 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:58:44.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:58:44.804 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 55.404ms
2024-10-07 10:58:44.805 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:58:44.805 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:58:44.806 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:58:44.806 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:58:44.807 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:58:44.808 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 301 application/json; charset=utf-8 105.9584ms
2024-10-07 10:59:08.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/employees - null null
2024-10-07 10:59:08.995 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:59:08.996 +03:00 [DBG] The request path /api/employees does not match a supported file type
2024-10-07 10:59:08.997 +03:00 [DBG] 1 candidate(s) found for the request path '/api/employees'
2024-10-07 10:59:08.998 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)' with route pattern 'api/employees' is valid for the request path '/api/employees'
2024-10-07 10:59:09.000 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:59:09.002 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:59:09.003 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:59:09.004 +03:00 [DBG] Authorization was successful.
2024-10-07 10:59:09.005 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:59:09.007 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.EmployeeDto]]] GetEmployees() on controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI).
2024-10-07 10:59:09.009 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:59:09.010 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:59:09.010 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:59:09.011 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:59:09.012 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:59:09.013 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:59:09.013 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.EmployeeController (RestaurantReservationAPI)
2024-10-07 10:59:09.015 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:59:09.017 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:59:09.017 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 10:59:09.018 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:09.019 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:09.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:59:09.020 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:59:09.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 10:59:09.022 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:59:09.028 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[Name], [e].[Role], [e].[Salary], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Employees] AS [e]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [e].[EmployeeId] = [t].[EmployeeId]
ORDER BY [e].[EmployeeId], [t].[ReservationId]
2024-10-07 10:59:09.030 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.031 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.032 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.033 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.033 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.034 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.035 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.036 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.036 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.037 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.038 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.038 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:09.039 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:09.040 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-10-07 10:59:09.041 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:09.042 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:59:09.043 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:59:09.044 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:59:09.045 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:59:09.046 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:59:09.047 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:59:09.047 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:59:09.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.EmployeeDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:59:09.049 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI) in 36.4247ms
2024-10-07 10:59:09.050 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.EmployeeController.GetEmployees (RestaurantReservationAPI)'
2024-10-07 10:59:09.050 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:59:09.051 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:59:09.052 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:09.052 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:59:09.053 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/employees - 200 1158 application/json; charset=utf-8 64.0842ms
2024-10-07 10:59:34.533 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - null null
2024-10-07 10:59:34.540 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:59:34.541 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 10:59:34.542 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:59:34.543 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:59:34.545 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:59:34.546 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:59:34.546 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:59:34.547 +03:00 [DBG] Authorization was successful.
2024-10-07 10:59:34.548 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:59:34.549 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:59:34.550 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:59:34.551 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:59:34.552 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:59:34.553 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:59:34.553 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:59:34.554 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:59:34.556 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:59:34.581 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:59:34.586 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:59:34.588 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:59:34.588 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:34.590 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:34.590 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:59:34.591 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:59:34.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:59:34.593 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:59:34.598 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 10:59:34.600 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.601 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.602 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.604 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.604 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.605 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.606 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.607 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.608 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.609 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.610 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.611 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.612 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.613 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.614 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.615 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.616 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:34.617 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:34.618 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 18ms reading results.
2024-10-07 10:59:34.619 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:34.620 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 10:59:34.621 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:59:34.623 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 10:59:34.624 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:59:34.626 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 10:59:34.626 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 10:59:34.627 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 10:59:34.628 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 10:59:34.629 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 74.3087ms
2024-10-07 10:59:34.630 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 10:59:34.631 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:59:34.632 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:59:34.632 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:34.633 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:59:34.634 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 301 application/json; charset=utf-8 101.0413ms
2024-10-07 10:59:54.548 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/orders - application/json-patch+json 50
2024-10-07 10:59:54.551 +03:00 [DBG] POST requests are not supported
2024-10-07 10:59:54.565 +03:00 [DBG] POST requests are not supported
2024-10-07 10:59:54.571 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 10:59:54.574 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 10:59:54.574 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)'
2024-10-07 10:59:54.575 +03:00 [DBG] Successfully validated the token.
2024-10-07 10:59:54.575 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 10:59:54.576 +03:00 [DBG] Authorization was successful.
2024-10-07 10:59:54.576 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)'
2024-10-07 10:59:54.579 +03:00 [INF] Route matched with {action = "PostOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Order]] PostOrder(RestaurantReservationAPI.DTOs.CreateOrderDto) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 10:59:54.581 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 10:59:54.581 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 10:59:54.582 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 10:59:54.584 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 10:59:54.585 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 10:59:54.586 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:59:54.587 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 10:59:54.588 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 10:59:54.589 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' using the name '' in request data ...
2024-10-07 10:59:54.590 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:59:54.591 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 10:59:54.591 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000002E": started reading request body.
2024-10-07 10:59:54.593 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000002E": done reading request body.
2024-10-07 10:59:54.596 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 10:59:54.597 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 10:59:54.598 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 10:59:54.601 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 10:59:54.606 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 10:59:54.610 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:54.612 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 10:59:54.614 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 10:59:54.615 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 10:59:54.616 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 10:59:54.618 +03:00 [DBG] Creating DbConnection.
2024-10-07 10:59:54.619 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 10:59:54.620 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:54.621 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:54.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 10:59:54.622 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 10:59:54.623 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 10:59:54.623 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Quantity], [ReservationId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2);
2024-10-07 10:59:54.627 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Quantity], [ReservationId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2);
2024-10-07 10:59:54.632 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:54.633 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-10-07 10:59:54.635 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:54.636 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 10:59:54.644 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantReservationAPI.RestaurantDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "restaurant", table "dbo.MenuItems", column 'MenuItemId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eb8b5b58-32db-4716-bf4b-6ff1db5590bb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "restaurant", table "dbo.MenuItems", column 'MenuItemId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eb8b5b58-32db-4716-bf4b-6ff1db5590bb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-07 10:59:54.742 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI) in 155.7862ms
2024-10-07 10:59:54.746 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)'
2024-10-07 10:59:54.751 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "restaurant", table "dbo.MenuItems", column 'MenuItemId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eb8b5b58-32db-4716-bf4b-6ff1db5590bb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantReservationAPI.Repositories.OrderRepository.AddAsync(Order entity) in C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI\Repositories\OrderRepository.cs:line 18
   at RestaurantReservationAPI.Controllers.OrderController.PostOrder(CreateOrderDto orderDto) in C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI\Controllers\OrderController.cs:line 52
   at lambda_method568(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-07 10:59:54.794 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 10:59:54.795 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 10:59:54.797 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 10:59:54.797 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-10-07 10:59:54.799 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 10:59:54.802 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 10:59:54.803 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 10:59:54.803 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 10:59:54.804 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 10:59:54.806 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/orders - 500 327 application/problem+json; charset=utf-8 257.718ms
2024-10-07 11:00:23.312 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/orders - application/json-patch+json 61
2024-10-07 11:00:23.352 +03:00 [DBG] POST requests are not supported
2024-10-07 11:00:23.355 +03:00 [DBG] POST requests are not supported
2024-10-07 11:00:23.357 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 11:00:23.357 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 11:00:23.359 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)'
2024-10-07 11:00:23.361 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:00:23.361 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:00:23.362 +03:00 [DBG] Authorization was successful.
2024-10-07 11:00:23.362 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)'
2024-10-07 11:00:23.363 +03:00 [INF] Route matched with {action = "PostOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Order]] PostOrder(RestaurantReservationAPI.DTOs.CreateOrderDto) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:00:23.365 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:00:23.366 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:00:23.367 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:00:23.368 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:00:23.369 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:00:23.369 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:00:23.370 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:00:23.371 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 11:00:23.372 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' using the name '' in request data ...
2024-10-07 11:00:23.373 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:00:23.373 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:00:23.374 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000002F": started reading request body.
2024-10-07 11:00:23.375 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000002F": done reading request body.
2024-10-07 11:00:23.376 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:00:23.377 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:00:23.378 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 11:00:23.378 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:00:23.380 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:00:23.381 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Order.OrderId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:00:23.382 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:00:23.383 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 11:00:23.384 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 11:00:23.385 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 11:00:23.385 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:00:23.386 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:00:23.386 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:00:23.387 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:00:23.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:00:23.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:00:23.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:00:23.390 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Quantity], [ReservationId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2);
2024-10-07 11:00:23.393 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Quantity], [ReservationId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2);
2024-10-07 11:00:23.399 +03:00 [DBG] The foreign key property 'Order.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 11:00:23.400 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:00:23.401 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-10-07 11:00:23.402 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:00:23.403 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:00:23.404 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:00:23.405 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 11:00:23.406 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:00:23.407 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:00:23.408 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:00:23.409 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:00:23.409 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:00:23.410 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:00:23.411 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'RestaurantReservationAPI.Models.Order'.
2024-10-07 11:00:23.412 +03:00 [DBG] Found the endpoints ["RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)"] for address (id=[9],action=[GetOrder],controller=[Order])
2024-10-07 11:00:23.414 +03:00 [DBG] Successfully processed template api/orders/{id} for RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI) resulting in /api/orders/9 and 
2024-10-07 11:00:23.416 +03:00 [DBG] Link generation succeeded for endpoints ["RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)"] with result /api/orders/9
2024-10-07 11:00:23.418 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI) in 48.8282ms
2024-10-07 11:00:23.419 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.PostOrder (RestaurantReservationAPI)'
2024-10-07 11:00:23.420 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:00:23.420 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:00:23.421 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:00:23.422 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:00:23.422 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/orders - 201 95 application/json; charset=utf-8 110.6075ms
2024-10-07 11:01:23.223 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders - null null
2024-10-07 11:01:23.234 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 11:01:23.235 +03:00 [DBG] The request path /api/orders does not match a supported file type
2024-10-07 11:01:23.236 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2024-10-07 11:01:23.237 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)' with route pattern 'api/orders' is valid for the request path '/api/orders'
2024-10-07 11:01:23.239 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 11:01:23.239 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:01:23.240 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:01:23.241 +03:00 [DBG] Authorization was successful.
2024-10-07 11:01:23.242 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 11:01:23.244 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrders() on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:01:23.245 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:01:23.247 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:01:23.248 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:01:23.249 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:01:23.250 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:01:23.251 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:01:23.252 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:01:23.255 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:01:23.256 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:01:23.257 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:01:23.257 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:23.258 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:23.259 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:01:23.259 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:01:23.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:01:23.261 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 11:01:23.265 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
2024-10-07 11:01:23.267 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.268 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.269 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.270 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.271 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.272 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.273 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.273 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.275 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.276 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.276 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.278 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.280 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.281 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.281 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.283 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.283 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.284 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.285 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:23.286 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:23.286 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-10-07 11:01:23.287 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:23.288 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:01:23.290 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:01:23.291 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:01:23.292 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:01:23.293 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:01:23.293 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:01:23.294 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:01:23.295 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:01:23.296 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI) in 45.6116ms
2024-10-07 11:01:23.297 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrders (RestaurantReservationAPI)'
2024-10-07 11:01:23.298 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:01:23.299 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:01:23.300 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:23.301 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:01:23.301 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders - 200 362 application/json; charset=utf-8 78.4528ms
2024-10-07 11:01:36.120 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders/9 - null null
2024-10-07 11:01:36.125 +03:00 [DBG] The request path /api/orders/9 does not match a supported file type
2024-10-07 11:01:36.137 +03:00 [DBG] The request path /api/orders/9 does not match a supported file type
2024-10-07 11:01:36.138 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders/9'
2024-10-07 11:01:36.139 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)' with route pattern 'api/orders/{id}' is valid for the request path '/api/orders/9'
2024-10-07 11:01:36.140 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:01:36.141 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:01:36.142 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:01:36.145 +03:00 [DBG] Authorization was successful.
2024-10-07 11:01:36.146 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:01:36.149 +03:00 [INF] Route matched with {action = "GetOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.OrderDto]] GetOrder(Int32) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:01:36.151 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:01:36.151 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:01:36.152 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:01:36.154 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:01:36.156 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:01:36.156 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:01:36.157 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:01:36.158 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:01:36.159 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:01:36.160 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:01:36.161 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:01:36.161 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:01:36.162 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:01:36.164 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:01:36.166 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.Reservation)
    .Include(o => o.MenuItem)
    .Where(o => o.OrderId == __id_0)
    .FirstOrDefault()'
2024-10-07 11:01:36.167 +03:00 [DBG] Including navigation: 'Order.Reservation'.
2024-10-07 11:01:36.168 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 11:01:36.173 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Order>(
    asyncEnumerable: new SingleQueryingEnumerable<Order>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.MenuItemId (int) Required FK Index, 1], [Property: Order.Quantity (int) Required, 2], [Property: Order.ReservationId (int) Required FK Index, 3] }
                1 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Reservation.CustomerId (int) Required FK Index, 5], [Property: Reservation.EmployeeId (int) Required FK Index, 6], [Property: Reservation.ReservationDate (DateTime) Required, 7] }
                2 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
            SELECT TOP(1) o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, m.MenuItemId, m.Name, m.Price
            FROM Orders AS o
            INNER JOIN Reservations AS r ON o.ReservationId == r.ReservationId
            INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
            WHERE o.OrderId == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
        RestaurantReservationAPI.RestaurantDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-07 11:01:36.175 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:01:36.175 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:01:36.176 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:36.176 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:36.177 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:01:36.178 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:01:36.178 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:01:36.179 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:01:36.183 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:01:36.185 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:36.186 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:36.187 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:36.188 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:36.189 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:01:36.190 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:36.191 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-10-07 11:01:36.192 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:36.193 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:01:36.195 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:01:36.197 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:01:36.198 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:01:36.199 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:01:36.199 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:01:36.200 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:01:36.201 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.OrderDto'.
2024-10-07 11:01:36.201 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI) in 44.8792ms
2024-10-07 11:01:36.202 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:01:36.203 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:01:36.204 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:01:36.205 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:01:36.205 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:01:36.206 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders/9 - 200 60 application/json; charset=utf-8 86.9254ms
2024-10-07 11:02:10.493 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/orders/9 - application/json-patch+json 42
2024-10-07 11:02:10.513 +03:00 [DBG] PUT requests are not supported
2024-10-07 11:02:10.515 +03:00 [DBG] PUT requests are not supported
2024-10-07 11:02:10.516 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders/9'
2024-10-07 11:02:10.518 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)' with route pattern 'api/orders/{id}' is valid for the request path '/api/orders/9'
2024-10-07 11:02:10.520 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)'
2024-10-07 11:02:10.520 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:02:10.521 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:02:10.523 +03:00 [DBG] Authorization was successful.
2024-10-07 11:02:10.524 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)'
2024-10-07 11:02:10.529 +03:00 [INF] Route matched with {action = "PutOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutOrder(Int32, RestaurantReservationAPI.DTOs.CreateOrderDto) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:02:10.532 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:02:10.534 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:02:10.536 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:02:10.538 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:02:10.540 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:02:10.541 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:10.542 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:10.543 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:10.544 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:02:10.546 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:10.547 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:10.548 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:10.549 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:10.550 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 11:02:10.550 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' using the name '' in request data ...
2024-10-07 11:02:10.551 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:02:10.552 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:02:10.552 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000032": started reading request body.
2024-10-07 11:02:10.553 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000032": done reading request body.
2024-10-07 11:02:10.554 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:02:10.555 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:02:10.556 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 11:02:10.557 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:02:10.558 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 11:02:10.559 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 11:02:10.560 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:02:10.561 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-07 11:02:10.561 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 11:02:10.562 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 11:02:10.563 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 11:02:10.564 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI) in 23.0936ms
2024-10-07 11:02:10.565 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)'
2024-10-07 11:02:10.566 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:02:10.566 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/orders/9 - 400 247 application/problem+json; charset=utf-8 74.0684ms
2024-10-07 11:02:20.119 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/orders/9 - application/json-patch+json 60
2024-10-07 11:02:20.121 +03:00 [DBG] PUT requests are not supported
2024-10-07 11:02:20.121 +03:00 [DBG] PUT requests are not supported
2024-10-07 11:02:20.122 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders/9'
2024-10-07 11:02:20.123 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)' with route pattern 'api/orders/{id}' is valid for the request path '/api/orders/9'
2024-10-07 11:02:20.124 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)'
2024-10-07 11:02:20.125 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:02:20.126 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:02:20.128 +03:00 [DBG] Authorization was successful.
2024-10-07 11:02:20.128 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)'
2024-10-07 11:02:20.130 +03:00 [INF] Route matched with {action = "PutOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutOrder(Int32, RestaurantReservationAPI.DTOs.CreateOrderDto) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:02:20.131 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:02:20.133 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:02:20.134 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:02:20.135 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:02:20.136 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:02:20.137 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:20.138 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:20.139 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:20.140 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:02:20.141 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:20.142 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:20.143 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:20.143 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:20.146 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 11:02:20.146 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' using the name '' in request data ...
2024-10-07 11:02:20.147 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:02:20.148 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:02:20.148 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000033": started reading request body.
2024-10-07 11:02:20.149 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000033": done reading request body.
2024-10-07 11:02:20.150 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:02:20.151 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:02:20.151 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto' ...
2024-10-07 11:02:20.152 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'RestaurantReservationAPI.DTOs.CreateOrderDto'.
2024-10-07 11:02:20.154 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:02:20.156 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:02:20.156 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:02:20.157 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.158 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:02:20.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:02:20.161 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:02:20.162 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:20.165 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:20.166 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:20.167 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:20.168 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:20.169 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:20.170 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:20.171 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.171 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-10-07 11:02:20.172 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.173 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:02:20.176 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:20.177 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 11:02:20.177 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 11:02:20.178 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 11:02:20.179 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.179 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.180 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:02:20.181 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:02:20.181 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:02:20.182 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [MenuItemId] = @p0, [Quantity] = @p1, [ReservationId] = @p2
OUTPUT 1
WHERE [OrderId] = @p3;
2024-10-07 11:02:20.186 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [MenuItemId] = @p0, [Quantity] = @p1, [ReservationId] = @p2
OUTPUT 1
WHERE [OrderId] = @p3;
2024-10-07 11:02:20.187 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.188 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 11:02:20.189 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.190 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:02:20.192 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:20.193 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 11:02:20.194 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 11:02:20.194 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI) in 57.0304ms
2024-10-07 11:02:20.195 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.PutOrder (RestaurantReservationAPI)'
2024-10-07 11:02:20.195 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:02:20.196 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:02:20.196 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:20.197 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:02:20.198 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/orders/9 - 204 null null 79.1705ms
2024-10-07 11:02:31.303 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders/9 - null null
2024-10-07 11:02:31.306 +03:00 [DBG] The request path /api/orders/9 does not match a supported file type
2024-10-07 11:02:31.320 +03:00 [DBG] The request path /api/orders/9 does not match a supported file type
2024-10-07 11:02:31.322 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders/9'
2024-10-07 11:02:31.322 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)' with route pattern 'api/orders/{id}' is valid for the request path '/api/orders/9'
2024-10-07 11:02:31.323 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:02:31.324 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:02:31.325 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:02:31.327 +03:00 [DBG] Authorization was successful.
2024-10-07 11:02:31.327 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:02:31.328 +03:00 [INF] Route matched with {action = "GetOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.OrderDto]] GetOrder(Int32) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:02:31.329 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:02:31.331 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:02:31.332 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:02:31.333 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:02:31.334 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:02:31.335 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:31.337 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:31.338 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:31.339 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:02:31.340 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:31.341 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:31.341 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:31.342 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:31.343 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:02:31.345 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:02:31.345 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:02:31.346 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:31.346 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:31.347 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:02:31.348 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:02:31.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:02:31.349 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:31.353 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:31.359 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:31.360 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:31.361 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:31.362 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:31.362 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:31.363 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:31.364 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-10-07 11:02:31.365 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:31.366 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:02:31.367 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:02:31.370 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:02:31.371 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:02:31.371 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:02:31.372 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:02:31.372 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:02:31.373 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.OrderDto'.
2024-10-07 11:02:31.374 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI) in 38.6204ms
2024-10-07 11:02:31.375 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:02:31.375 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:02:31.376 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:02:31.377 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:31.377 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:02:31.378 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders/9 - 200 59 application/json; charset=utf-8 75.4109ms
2024-10-07 11:02:41.245 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5099/api/orders/9 - null null
2024-10-07 11:02:41.251 +03:00 [DBG] DELETE requests are not supported
2024-10-07 11:02:41.254 +03:00 [DBG] DELETE requests are not supported
2024-10-07 11:02:41.256 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders/9'
2024-10-07 11:02:41.257 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.DeleteOrder (RestaurantReservationAPI)' with route pattern 'api/orders/{id}' is valid for the request path '/api/orders/9'
2024-10-07 11:02:41.258 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.DeleteOrder (RestaurantReservationAPI)'
2024-10-07 11:02:41.259 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:02:41.259 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:02:41.261 +03:00 [DBG] Authorization was successful.
2024-10-07 11:02:41.261 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.DeleteOrder (RestaurantReservationAPI)'
2024-10-07 11:02:41.266 +03:00 [INF] Route matched with {action = "DeleteOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteOrder(Int32) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:02:41.267 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:02:41.268 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:02:41.269 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:02:41.271 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:02:41.272 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:02:41.273 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:41.274 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:41.275 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:41.276 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:02:41.277 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:41.277 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:41.278 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:41.280 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:41.282 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:02:41.283 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:02:41.284 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:02:41.284 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.285 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.286 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:02:41.287 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:02:41.287 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:02:41.288 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:41.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:41.294 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:41.295 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:41.296 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:41.297 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:41.298 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:41.299 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.300 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-10-07 11:02:41.301 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.301 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:02:41.303 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:41.304 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 11:02:41.305 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 11:02:41.306 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 11:02:41.306 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.307 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.308 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:02:41.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:02:41.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:02:41.310 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Orders]
OUTPUT 1
WHERE [OrderId] = @p0;
2024-10-07 11:02:41.314 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Orders]
OUTPUT 1
WHERE [OrderId] = @p0;
2024-10-07 11:02:41.317 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.318 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 11:02:41.319 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.319 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:02:41.322 +03:00 [DBG] An entity of type 'Order' tracked by 'RestaurantDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:02:41.323 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 11:02:41.324 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 11:02:41.324 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.DeleteOrder (RestaurantReservationAPI) in 51.2704ms
2024-10-07 11:02:41.325 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.DeleteOrder (RestaurantReservationAPI)'
2024-10-07 11:02:41.326 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:02:41.326 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:02:41.327 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:41.328 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:02:41.329 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5099/api/orders/9 - 204 null null 83.5836ms
2024-10-07 11:02:45.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/orders/9 - null null
2024-10-07 11:02:45.594 +03:00 [DBG] The request path /api/orders/9 does not match a supported file type
2024-10-07 11:02:45.596 +03:00 [DBG] The request path /api/orders/9 does not match a supported file type
2024-10-07 11:02:45.598 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders/9'
2024-10-07 11:02:45.600 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)' with route pattern 'api/orders/{id}' is valid for the request path '/api/orders/9'
2024-10-07 11:02:45.601 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:02:45.602 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:02:45.603 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:02:45.604 +03:00 [DBG] Authorization was successful.
2024-10-07 11:02:45.604 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:02:45.605 +03:00 [INF] Route matched with {action = "GetOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.OrderDto]] GetOrder(Int32) on controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI).
2024-10-07 11:02:45.606 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:02:45.607 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:02:45.607 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:02:45.609 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:02:45.610 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:02:45.611 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:45.612 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.OrderController (RestaurantReservationAPI)
2024-10-07 11:02:45.612 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:45.613 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:02:45.614 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:45.615 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:45.616 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:02:45.616 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:02:45.617 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:02:45.619 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:02:45.619 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:02:45.620 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:45.621 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:45.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:02:45.622 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:02:45.623 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:02:45.624 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:45.628 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [Reservations] AS [r] ON [o].[ReservationId] = [r].[ReservationId]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[OrderId] = @__id_0
2024-10-07 11:02:45.629 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:45.630 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 11:02:45.631 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:45.631 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:02:45.632 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:02:45.634 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 11:02:45.635 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:02:45.636 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 11:02:45.637 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 11:02:45.638 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 11:02:45.639 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI) in 28.5076ms
2024-10-07 11:02:45.640 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.OrderController.GetOrder (RestaurantReservationAPI)'
2024-10-07 11:02:45.641 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:02:45.642 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:02:45.643 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:02:45.644 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:02:45.645 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/orders/9 - 404 162 application/problem+json; charset=utf-8 53.6821ms
2024-10-07 11:03:04.443 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations - null null
2024-10-07 11:03:04.445 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 11:03:04.446 +03:00 [DBG] The request path /api/reservations does not match a supported file type
2024-10-07 11:03:04.447 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 11:03:04.449 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 11:03:04.450 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 11:03:04.451 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:03:04.453 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:03:04.454 +03:00 [DBG] Authorization was successful.
2024-10-07 11:03:04.454 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 11:03:04.457 +03:00 [INF] Route matched with {action = "GetReservations", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservations() on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:03:04.459 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:03:04.460 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:03:04.461 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:03:04.462 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:03:04.465 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:03:04.466 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:03:04.467 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:03:04.469 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:03:04.470 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(c => c.Orders)
    .ThenInclude(c => c.MenuItem)'
2024-10-07 11:03:04.471 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 11:03:04.472 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 11:03:04.480 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
            3 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
            4 -> 4
            5 -> 8
        SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId, t.MenuItemId0, t.Name, t.Price
        FROM Reservations AS r
        LEFT JOIN 
        (
            SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, m.MenuItemId AS MenuItemId0, m.Name, m.Price
            FROM Orders AS o
            INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
        ) AS t ON r.ReservationId == t.ReservationId
        ORDER BY r.ReservationId ASC, t.OrderId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 11:03:04.482 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:03:04.483 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:03:04.485 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:04.486 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:04.486 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:03:04.487 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:03:04.487 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:03:04.488 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:03:04.493 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:03:04.495 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.496 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.497 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.498 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.499 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.500 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.501 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.503 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.504 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.505 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.506 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.507 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.509 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.511 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.512 +03:00 [DBG] The navigation 'Order.Reservation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.513 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:04.515 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:04.517 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 22ms reading results.
2024-10-07 11:03:04.518 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:04.519 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:03:04.522 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:03:04.524 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:03:04.526 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:03:04.527 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:03:04.528 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:03:04.528 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:03:04.529 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:03:04.531 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI) in 65.1708ms
2024-10-07 11:03:04.532 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservations (RestaurantReservationAPI)'
2024-10-07 11:03:04.534 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:03:04.534 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:03:04.535 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:04.536 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:03:04.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations - 200 818 application/json; charset=utf-8 93.4613ms
2024-10-07 11:03:41.783 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/reservations - application/json-patch+json 77
2024-10-07 11:03:41.792 +03:00 [DBG] POST requests are not supported
2024-10-07 11:03:41.793 +03:00 [DBG] POST requests are not supported
2024-10-07 11:03:41.793 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 11:03:41.793 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 11:03:41.794 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)'
2024-10-07 11:03:41.794 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:03:41.795 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:03:41.795 +03:00 [DBG] Authorization was successful.
2024-10-07 11:03:41.795 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)'
2024-10-07 11:03:41.800 +03:00 [INF] Route matched with {action = "PostReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Reservation]] PostReservation(RestaurantReservationAPI.DTOs.CreateReservationDto) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:03:41.801 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:03:41.801 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:03:41.801 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:03:41.805 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:03:41.807 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:03:41.811 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:03:41.812 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:03:41.814 +03:00 [DBG] Attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' ...
2024-10-07 11:03:41.814 +03:00 [DBG] Attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' using the name '' in request data ...
2024-10-07 11:03:41.816 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:03:41.817 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:03:41.819 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000038": started reading request body.
2024-10-07 11:03:41.822 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000038": done reading request body.
2024-10-07 11:03:41.830 +03:00 [DBG] Done attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:03:41.831 +03:00 [DBG] Done attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:03:41.833 +03:00 [DBG] Attempting to validate the bound parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' ...
2024-10-07 11:03:41.836 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:03:41.837 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-07 11:03:41.838 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-07 11:03:41.838 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:03:41.840 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 11:03:41.842 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:03:41.843 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 11:03:41.845 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 11:03:41.845 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-07 11:03:41.846 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI) in 35.7451ms
2024-10-07 11:03:41.847 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)'
2024-10-07 11:03:41.848 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:03:41.848 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/reservations - 400 264 application/problem+json; charset=utf-8 65.2302ms
2024-10-07 11:03:50.162 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/reservations - application/json-patch+json 77
2024-10-07 11:03:50.167 +03:00 [DBG] POST requests are not supported
2024-10-07 11:03:50.168 +03:00 [DBG] POST requests are not supported
2024-10-07 11:03:50.169 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations'
2024-10-07 11:03:50.170 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)' with route pattern 'api/reservations' is valid for the request path '/api/reservations'
2024-10-07 11:03:50.171 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)'
2024-10-07 11:03:50.172 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:03:50.173 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:03:50.174 +03:00 [DBG] Authorization was successful.
2024-10-07 11:03:50.175 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)'
2024-10-07 11:03:50.175 +03:00 [INF] Route matched with {action = "PostReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.Models.Reservation]] PostReservation(RestaurantReservationAPI.DTOs.CreateReservationDto) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:03:50.177 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:03:50.178 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:03:50.179 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:03:50.180 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:03:50.181 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:03:50.182 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:03:50.183 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:03:50.184 +03:00 [DBG] Attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' ...
2024-10-07 11:03:50.186 +03:00 [DBG] Attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' using the name '' in request data ...
2024-10-07 11:03:50.187 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:03:50.188 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:03:50.189 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000039": started reading request body.
2024-10-07 11:03:50.189 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:00000039": done reading request body.
2024-10-07 11:03:50.190 +03:00 [DBG] Done attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:03:50.191 +03:00 [DBG] Done attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:03:50.192 +03:00 [DBG] Attempting to validate the bound parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' ...
2024-10-07 11:03:50.193 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:03:50.196 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:03:50.198 +03:00 [DBG] 'RestaurantDbContext' generated a temporary value for the property 'Reservation.ReservationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:50.199 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:50.200 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 11:03:50.201 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 11:03:50.201 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 11:03:50.203 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:03:50.204 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 11:03:50.204 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:50.205 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:50.206 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:03:50.207 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:03:50.208 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:03:50.209 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CustomerId], [EmployeeId], [ReservationDate])
OUTPUT INSERTED.[ReservationId]
VALUES (@p0, @p1, @p2);
2024-10-07 11:03:50.212 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CustomerId], [EmployeeId], [ReservationDate])
OUTPUT INSERTED.[ReservationId]
VALUES (@p0, @p1, @p2);
2024-10-07 11:03:50.214 +03:00 [DBG] The foreign key property 'Reservation.ReservationId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-07 11:03:50.215 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:50.216 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 11:03:50.217 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:50.218 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:03:50.220 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:03:50.221 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 11:03:50.222 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:03:50.223 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:03:50.224 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:03:50.224 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:03:50.225 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:03:50.225 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:03:50.226 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'RestaurantReservationAPI.Models.Reservation'.
2024-10-07 11:03:50.227 +03:00 [DBG] Found the endpoints ["RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)"] for address (id=[10],action=[GetReservation],controller=[Reservation])
2024-10-07 11:03:50.228 +03:00 [DBG] Successfully processed template api/reservations/{id} for RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI) resulting in /api/reservations/10 and 
2024-10-07 11:03:50.229 +03:00 [DBG] Link generation succeeded for endpoints ["RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)"] with result /api/reservations/10
2024-10-07 11:03:50.231 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI) in 49.4594ms
2024-10-07 11:03:50.232 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PostReservation (RestaurantReservationAPI)'
2024-10-07 11:03:50.233 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:03:50.233 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:03:50.234 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:03:50.235 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:03:50.236 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/reservations - 201 136 application/json; charset=utf-8 73.532ms
2024-10-07 11:04:16.740 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/10 - null null
2024-10-07 11:04:16.744 +03:00 [DBG] The request path /api/reservations/10 does not match a supported file type
2024-10-07 11:04:16.746 +03:00 [DBG] The request path /api/reservations/10 does not match a supported file type
2024-10-07 11:04:16.749 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/10'
2024-10-07 11:04:16.751 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{id}' is valid for the request path '/api/reservations/10'
2024-10-07 11:04:16.755 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:04:16.756 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:04:16.757 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:04:16.758 +03:00 [DBG] Authorization was successful.
2024-10-07 11:04:16.758 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:04:16.765 +03:00 [INF] Route matched with {action = "GetReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.ReservationDto]] GetReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:04:16.767 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:04:16.770 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:04:16.773 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:04:16.775 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:04:16.776 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:04:16.777 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:04:16.780 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:04:16.783 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:04:16.786 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:04:16.789 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:16.791 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:16.792 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:04:16.793 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:16.797 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:04:16.800 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(c => c.Orders)
    .ThenInclude(c => c.MenuItem)
    .Where(c => c.ReservationId == __id_0)
    .FirstOrDefault()'
2024-10-07 11:04:16.802 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 11:04:16.803 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 11:04:16.811 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
                3 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
                4 -> 4
                5 -> 8
            SELECT t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t0.OrderId, t0.MenuItemId, t0.Quantity, t0.ReservationId, t0.MenuItemId0, t0.Name, t0.Price
            FROM 
            (
                SELECT TOP(1) r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate
                FROM Reservations AS r
                WHERE r.ReservationId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, m.MenuItemId AS MenuItemId0, m.Name, m.Price
                FROM Orders AS o
                INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
            ) AS t0 ON t.ReservationId == t0.ReservationId
            ORDER BY t.ReservationId ASC, t0.OrderId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        RestaurantReservationAPI.RestaurantDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-07 11:04:16.814 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:04:16.814 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:04:16.815 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:16.816 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:16.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:04:16.818 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:04:16.820 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 11:04:16.822 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:04:16.827 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:04:16.832 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:04:16.833 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:16.834 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 11:04:16.838 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:16.839 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 11:04:16.843 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:04:16.846 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:04:16.848 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:04:16.849 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:04:16.850 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:04:16.851 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:04:16.855 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.ReservationDto'.
2024-10-07 11:04:16.856 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI) in 79.6154ms
2024-10-07 11:04:16.858 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:04:16.862 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:04:16.863 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:04:16.864 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:16.865 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:04:16.866 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/10 - 200 123 application/json; charset=utf-8 125.4365ms
2024-10-07 11:04:44.865 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5099/api/reservations/10 - application/json-patch+json 77
2024-10-07 11:04:44.877 +03:00 [DBG] PUT requests are not supported
2024-10-07 11:04:44.880 +03:00 [DBG] PUT requests are not supported
2024-10-07 11:04:44.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/10'
2024-10-07 11:04:44.882 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PutReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{id}' is valid for the request path '/api/reservations/10'
2024-10-07 11:04:44.887 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PutReservation (RestaurantReservationAPI)'
2024-10-07 11:04:44.890 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:04:44.890 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:04:44.892 +03:00 [DBG] Authorization was successful.
2024-10-07 11:04:44.892 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PutReservation (RestaurantReservationAPI)'
2024-10-07 11:04:44.895 +03:00 [INF] Route matched with {action = "PutReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutReservation(Int32, RestaurantReservationAPI.DTOs.CreateReservationDto) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:04:44.896 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:04:44.897 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:04:44.898 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:04:44.900 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:04:44.901 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:04:44.902 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:04:44.903 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:04:44.904 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:04:44.905 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:04:44.905 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:44.906 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:44.907 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:04:44.907 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:44.908 +03:00 [DBG] Attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' ...
2024-10-07 11:04:44.909 +03:00 [DBG] Attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' using the name '' in request data ...
2024-10-07 11:04:44.910 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:04:44.911 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:04:44.912 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000003B": started reading request body.
2024-10-07 11:04:44.912 +03:00 [DBG] Connection id "0HN76KFQK24E0", Request id "0HN76KFQK24E0:0000003B": done reading request body.
2024-10-07 11:04:44.913 +03:00 [DBG] Done attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:04:44.914 +03:00 [DBG] Done attempting to bind parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:04:44.915 +03:00 [DBG] Attempting to validate the bound parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto' ...
2024-10-07 11:04:44.916 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationDto' of type 'RestaurantReservationAPI.DTOs.CreateReservationDto'.
2024-10-07 11:04:44.918 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:04:44.920 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:04:44.921 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:04:44.921 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.922 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.923 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:04:44.923 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:04:44.924 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:04:44.925 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:04:44.928 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:04:44.933 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:04:44.935 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.935 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 11:04:44.936 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.937 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:04:44.939 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:04:44.940 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 11:04:44.941 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 11:04:44.941 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 11:04:44.942 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.943 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.944 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:04:44.944 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:04:44.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:04:44.946 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Reservations] SET [CustomerId] = @p0, [EmployeeId] = @p1, [ReservationDate] = @p2
OUTPUT 1
WHERE [ReservationId] = @p3;
2024-10-07 11:04:44.950 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Reservations] SET [CustomerId] = @p0, [EmployeeId] = @p1, [ReservationDate] = @p2
OUTPUT 1
WHERE [ReservationId] = @p3;
2024-10-07 11:04:44.952 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.953 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 11:04:44.954 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.954 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:04:44.955 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:04:44.957 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 11:04:44.958 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 11:04:44.958 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.PutReservation (RestaurantReservationAPI) in 56.2754ms
2024-10-07 11:04:44.959 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.PutReservation (RestaurantReservationAPI)'
2024-10-07 11:04:44.960 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:04:44.961 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:04:44.961 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:44.962 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:04:44.963 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5099/api/reservations/10 - 204 null null 98.4859ms
2024-10-07 11:04:53.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/10 - null null
2024-10-07 11:04:53.025 +03:00 [DBG] The request path /api/reservations/10 does not match a supported file type
2024-10-07 11:04:53.027 +03:00 [DBG] The request path /api/reservations/10 does not match a supported file type
2024-10-07 11:04:53.029 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/10'
2024-10-07 11:04:53.033 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{id}' is valid for the request path '/api/reservations/10'
2024-10-07 11:04:53.034 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:04:53.035 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:04:53.036 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:04:53.036 +03:00 [DBG] Authorization was successful.
2024-10-07 11:04:53.037 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:04:53.038 +03:00 [INF] Route matched with {action = "GetReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.ReservationDto]] GetReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:04:53.039 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:04:53.040 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:04:53.041 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:04:53.042 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:04:53.043 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:04:53.044 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:04:53.046 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:04:53.047 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:04:53.047 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:04:53.048 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:53.049 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:53.050 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:04:53.051 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:04:53.052 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:04:53.053 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:04:53.054 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:04:53.054 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:53.055 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:53.056 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:04:53.056 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:04:53.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:04:53.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:04:53.060 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:04:53.062 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:04:53.063 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:53.064 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 11:04:53.065 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:53.065 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:04:53.066 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:04:53.068 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:04:53.069 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:04:53.069 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:04:53.070 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:04:53.070 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:04:53.071 +03:00 [INF] Executing OkObjectResult, writing value of type 'RestaurantReservationAPI.DTOs.ReservationDto'.
2024-10-07 11:04:53.072 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI) in 27.5965ms
2024-10-07 11:04:53.075 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:04:53.076 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:04:53.077 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:04:53.077 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:04:53.078 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:04:53.080 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/10 - 200 123 application/json; charset=utf-8 57.9331ms
2024-10-07 11:05:05.447 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5099/api/reservations/10 - null null
2024-10-07 11:05:05.454 +03:00 [DBG] DELETE requests are not supported
2024-10-07 11:05:05.457 +03:00 [DBG] DELETE requests are not supported
2024-10-07 11:05:05.461 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/10'
2024-10-07 11:05:05.462 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.DeleteReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{id}' is valid for the request path '/api/reservations/10'
2024-10-07 11:05:05.463 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.DeleteReservation (RestaurantReservationAPI)'
2024-10-07 11:05:05.464 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:05:05.464 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:05:05.465 +03:00 [DBG] Authorization was successful.
2024-10-07 11:05:05.465 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.DeleteReservation (RestaurantReservationAPI)'
2024-10-07 11:05:05.468 +03:00 [INF] Route matched with {action = "DeleteReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:05:05.470 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:05:05.471 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:05:05.472 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:05:05.473 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:05:05.474 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:05:05.475 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:05.476 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:05.477 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:05:05.477 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:05:05.478 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:05:05.479 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:05:05.480 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:05:05.481 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:05:05.482 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:05:05.484 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:05:05.484 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:05:05.485 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.486 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.487 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:05:05.488 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:05:05.488 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:05:05.489 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:05:05.493 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:05:05.494 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:05.495 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.496 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 11:05:05.497 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.498 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:05:05.499 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:05.500 +03:00 [DBG] SaveChanges starting for 'RestaurantDbContext'.
2024-10-07 11:05:05.501 +03:00 [DBG] DetectChanges starting for 'RestaurantDbContext'.
2024-10-07 11:05:05.502 +03:00 [DBG] DetectChanges completed for 'RestaurantDbContext'.
2024-10-07 11:05:05.502 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.504 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.505 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:05:05.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:05:05.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:05:05.507 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Reservations]
OUTPUT 1
WHERE [ReservationId] = @p0;
2024-10-07 11:05:05.511 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Reservations]
OUTPUT 1
WHERE [ReservationId] = @p0;
2024-10-07 11:05:05.512 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.513 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 11:05:05.514 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.515 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:05:05.516 +03:00 [DBG] An entity of type 'Reservation' tracked by 'RestaurantDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:05.517 +03:00 [DBG] SaveChanges completed for 'RestaurantDbContext' with 1 entities written to the database.
2024-10-07 11:05:05.518 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-07 11:05:05.519 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.DeleteReservation (RestaurantReservationAPI) in 44.0032ms
2024-10-07 11:05:05.520 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.DeleteReservation (RestaurantReservationAPI)'
2024-10-07 11:05:05.521 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:05:05.521 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:05:05.522 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:05.523 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:05:05.524 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5099/api/reservations/10 - 204 null null 77.4829ms
2024-10-07 11:05:11.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/10 - null null
2024-10-07 11:05:11.972 +03:00 [DBG] The request path /api/reservations/10 does not match a supported file type
2024-10-07 11:05:11.973 +03:00 [DBG] The request path /api/reservations/10 does not match a supported file type
2024-10-07 11:05:11.974 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/10'
2024-10-07 11:05:11.974 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{id}' is valid for the request path '/api/reservations/10'
2024-10-07 11:05:11.975 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:05:11.976 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:05:11.977 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:05:11.992 +03:00 [DBG] Authorization was successful.
2024-10-07 11:05:11.995 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:05:11.996 +03:00 [INF] Route matched with {action = "GetReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RestaurantReservationAPI.DTOs.ReservationDto]] GetReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:05:11.997 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:05:11.999 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:05:12.000 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:05:12.001 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:05:12.003 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:05:12.006 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:12.007 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:12.008 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-07 11:05:12.009 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-07 11:05:12.011 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:05:12.012 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-07 11:05:12.013 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-07 11:05:12.014 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-07 11:05:12.015 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:05:12.017 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:05:12.018 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:05:12.019 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:12.021 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:12.022 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:05:12.023 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:05:12.024 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-07 11:05:12.026 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:05:12.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:05:12.031 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:12.032 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 11:05:12.032 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:12.034 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-10-07 11:05:12.035 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:05:12.037 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 11:05:12.038 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:05:12.039 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 11:05:12.040 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 11:05:12.041 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 11:05:12.042 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI) in 35.6037ms
2024-10-07 11:05:12.042 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservation (RestaurantReservationAPI)'
2024-10-07 11:05:12.043 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:05:12.044 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:05:12.045 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:12.045 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:05:12.046 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/10 - 404 162 application/problem+json; charset=utf-8 75.8087ms
2024-10-07 11:05:21.629 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/customer/10 - null null
2024-10-07 11:05:21.632 +03:00 [DBG] The request path /api/reservations/customer/10 does not match a supported file type
2024-10-07 11:05:21.632 +03:00 [DBG] The request path /api/reservations/customer/10 does not match a supported file type
2024-10-07 11:05:21.633 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/customer/10'
2024-10-07 11:05:21.634 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)' with route pattern 'api/reservations/customer/{customerId}' is valid for the request path '/api/reservations/customer/10'
2024-10-07 11:05:21.635 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:21.637 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:05:21.637 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:05:21.639 +03:00 [DBG] Authorization was successful.
2024-10-07 11:05:21.640 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:21.644 +03:00 [INF] Route matched with {action = "GetReservationsByCustomer", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservationsByCustomer(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:05:21.647 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:05:21.648 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:05:21.648 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:05:21.650 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:05:21.654 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:05:21.655 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:21.656 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:21.657 +03:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-10-07 11:05:21.658 +03:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-10-07 11:05:21.660 +03:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:21.661 +03:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:21.663 +03:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-10-07 11:05:21.664 +03:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:21.667 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:05:21.669 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(r => r.Orders)
    .ThenInclude(c => c.MenuItem)
    .Where(r => r.CustomerId == __customerId_0)'
2024-10-07 11:05:21.670 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 11:05:21.671 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 11:05:21.682 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Reservation>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
            3 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
            4 -> 4
            5 -> 8
        SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId, t.MenuItemId0, t.Name, t.Price
        FROM Reservations AS r
        LEFT JOIN 
        (
            SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, m.MenuItemId AS MenuItemId0, m.Name, m.Price
            FROM Orders AS o
            INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
        ) AS t ON r.ReservationId == t.ReservationId
        WHERE r.CustomerId == @__customerId_0
        ORDER BY r.ReservationId ASC, t.OrderId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 11:05:21.685 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:05:21.687 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-07 11:05:21.689 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:21.691 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:21.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:05:21.692 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:05:21.693 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:05:21.694 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
WHERE [r].[CustomerId] = @__customerId_0
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:05:21.700 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
WHERE [r].[CustomerId] = @__customerId_0
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:05:21.701 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:21.702 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:21.703 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:21.705 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:21.706 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:21.707 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-10-07 11:05:21.708 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:21.709 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:05:21.712 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:05:21.714 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:05:21.714 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:05:21.715 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:05:21.715 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:05:21.716 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:05:21.717 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:05:21.718 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI) in 62.5787ms
2024-10-07 11:05:21.719 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:21.720 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:05:21.720 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:05:21.721 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:21.722 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:05:21.723 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/customer/10 - 200 191 application/json; charset=utf-8 93.7389ms
2024-10-07 11:05:33.524 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/customer/11 - null null
2024-10-07 11:05:33.527 +03:00 [DBG] The request path /api/reservations/customer/11 does not match a supported file type
2024-10-07 11:05:33.528 +03:00 [DBG] The request path /api/reservations/customer/11 does not match a supported file type
2024-10-07 11:05:33.531 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/customer/11'
2024-10-07 11:05:33.532 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)' with route pattern 'api/reservations/customer/{customerId}' is valid for the request path '/api/reservations/customer/11'
2024-10-07 11:05:33.536 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:33.537 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:05:33.541 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:05:33.545 +03:00 [DBG] Authorization was successful.
2024-10-07 11:05:33.545 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:33.546 +03:00 [INF] Route matched with {action = "GetReservationsByCustomer", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservationsByCustomer(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:05:33.547 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:05:33.548 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:05:33.550 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:05:33.552 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:05:33.554 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:05:33.555 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:33.556 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:33.556 +03:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-10-07 11:05:33.557 +03:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-10-07 11:05:33.558 +03:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:33.558 +03:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:33.559 +03:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-10-07 11:05:33.560 +03:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:33.561 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:05:33.562 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:05:33.563 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:05:33.564 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:33.565 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:33.567 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:05:33.568 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:05:33.569 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:05:33.570 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
WHERE [r].[CustomerId] = @__customerId_0
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:05:33.573 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
WHERE [r].[CustomerId] = @__customerId_0
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:05:33.575 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:33.576 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 11:05:33.577 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:33.578 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:05:33.580 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:05:33.582 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 11:05:33.584 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:05:33.585 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 11:05:33.587 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 11:05:33.587 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 11:05:33.588 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI) in 33.6713ms
2024-10-07 11:05:33.589 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:33.590 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:05:33.590 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:05:33.591 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:33.592 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:05:33.593 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/customer/11 - 404 162 application/problem+json; charset=utf-8 68.4007ms
2024-10-07 11:05:39.812 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/customer/9 - null null
2024-10-07 11:05:39.815 +03:00 [DBG] The request path /api/reservations/customer/9 does not match a supported file type
2024-10-07 11:05:39.816 +03:00 [DBG] The request path /api/reservations/customer/9 does not match a supported file type
2024-10-07 11:05:39.817 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/customer/9'
2024-10-07 11:05:39.822 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)' with route pattern 'api/reservations/customer/{customerId}' is valid for the request path '/api/reservations/customer/9'
2024-10-07 11:05:39.828 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:39.829 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:05:39.829 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:05:39.830 +03:00 [DBG] Authorization was successful.
2024-10-07 11:05:39.831 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:39.832 +03:00 [INF] Route matched with {action = "GetReservationsByCustomer", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.ReservationDto]]] GetReservationsByCustomer(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:05:39.834 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:05:39.835 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:05:39.836 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:05:39.838 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:05:39.839 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:05:39.840 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:39.841 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:39.842 +03:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-10-07 11:05:39.843 +03:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-10-07 11:05:39.844 +03:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:39.845 +03:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:39.846 +03:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-10-07 11:05:39.847 +03:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-10-07 11:05:39.848 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:05:39.850 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:05:39.851 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:05:39.852 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:39.853 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:39.854 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:05:39.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:05:39.855 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:05:39.856 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
WHERE [r].[CustomerId] = @__customerId_0
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:05:39.858 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId], [t].[MenuItemId0], [t].[Name], [t].[Price]
FROM [Reservations] AS [r]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t] ON [r].[ReservationId] = [t].[ReservationId]
WHERE [r].[CustomerId] = @__customerId_0
ORDER BY [r].[ReservationId], [t].[OrderId]
2024-10-07 11:05:39.861 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:39.862 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:39.863 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:39.864 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:39.865 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:39.866 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-10-07 11:05:39.868 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:39.868 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:05:39.870 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:05:39.871 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:05:39.872 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:05:39.873 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:05:39.873 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:05:39.874 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:05:39.875 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.ReservationDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:05:39.876 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI) in 36.6378ms
2024-10-07 11:05:39.878 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetReservationsByCustomer (RestaurantReservationAPI)'
2024-10-07 11:05:39.879 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:05:39.879 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:05:39.881 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:39.882 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:05:39.884 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/customer/9 - 200 190 application/json; charset=utf-8 71.0898ms
2024-10-07 11:05:57.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/9/menu-items - null null
2024-10-07 11:05:57.362 +03:00 [DBG] The request path /api/reservations/9/menu-items does not match a supported file type
2024-10-07 11:05:57.366 +03:00 [DBG] The request path /api/reservations/9/menu-items does not match a supported file type
2024-10-07 11:05:57.369 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/9/menu-items'
2024-10-07 11:05:57.370 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/9/menu-items'
2024-10-07 11:05:57.372 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:05:57.372 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:05:57.373 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:05:57.374 +03:00 [DBG] Authorization was successful.
2024-10-07 11:05:57.374 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:05:57.377 +03:00 [INF] Route matched with {action = "GetMenuItemsByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItemsByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:05:57.379 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:05:57.380 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:05:57.381 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:05:57.382 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:05:57.382 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:05:57.383 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:57.384 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:05:57.385 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:05:57.385 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 11:05:57.386 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:05:57.387 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:05:57.388 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:05:57.389 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:05:57.392 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:05:57.393 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(o => o.ReservationId == __reservationId_0)
    .Include(o => o.MenuItem)
    .Select(o => o.MenuItem)'
2024-10-07 11:05:57.397 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<MenuItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: MenuItem.Name (string) Required MaxLength(100), 1], [Property: MenuItem.Price (decimal) Required, 2] }
        SELECT m.MenuItemId, m.Name, m.Price
        FROM Orders AS o
        INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
        WHERE o.ReservationId == @__reservationId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MenuItem>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 11:05:57.398 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:05:57.398 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:05:57.399 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:57.400 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:57.400 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:05:57.401 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:05:57.402 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:05:57.402 +03:00 [DBG] Executing DbCommand [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:05:57.406 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:05:57.407 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:05:57.408 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:57.409 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 11:05:57.410 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:57.411 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:05:57.412 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:05:57.413 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:05:57.414 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:05:57.415 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:05:57.415 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:05:57.416 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:05:57.416 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.MenuItemDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:05:57.417 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI) in 34.1049ms
2024-10-07 11:05:57.418 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:05:57.419 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:05:57.420 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:05:57.421 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:05:57.422 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:05:57.423 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/9/menu-items - 200 47 application/json; charset=utf-8 66.297ms
2024-10-07 11:06:06.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/10/menu-items - null null
2024-10-07 11:06:06.208 +03:00 [DBG] The request path /api/reservations/10/menu-items does not match a supported file type
2024-10-07 11:06:06.211 +03:00 [DBG] The request path /api/reservations/10/menu-items does not match a supported file type
2024-10-07 11:06:06.212 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/10/menu-items'
2024-10-07 11:06:06.212 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/10/menu-items'
2024-10-07 11:06:06.213 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:06.214 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:06:06.215 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:06:06.216 +03:00 [DBG] Authorization was successful.
2024-10-07 11:06:06.217 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:06.217 +03:00 [INF] Route matched with {action = "GetMenuItemsByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItemsByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:06:06.218 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:06:06.219 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:06:06.220 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:06:06.221 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:06:06.222 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:06:06.223 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:06.223 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:06.224 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:06.225 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 11:06:06.226 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:06.227 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:06.227 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:06.228 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:06.229 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:06:06.231 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:06:06.231 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:06:06.232 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:06.233 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:06.234 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:06:06.234 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:06:06.235 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:06:06.236 +03:00 [DBG] Executing DbCommand [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:06.238 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:06.240 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:06.241 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-10-07 11:06:06.241 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:06.242 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:06:06.243 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:06:06.245 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-07 11:06:06.246 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:06:06.247 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-07 11:06:06.249 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-07 11:06:06.250 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-07 11:06:06.251 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI) in 28.5308ms
2024-10-07 11:06:06.252 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:06.253 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:06:06.253 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:06:06.254 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:06.255 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:06:06.256 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/10/menu-items - 404 162 application/problem+json; charset=utf-8 52.9423ms
2024-10-07 11:06:10.886 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/8/menu-items - null null
2024-10-07 11:06:10.893 +03:00 [DBG] The request path /api/reservations/8/menu-items does not match a supported file type
2024-10-07 11:06:10.895 +03:00 [DBG] The request path /api/reservations/8/menu-items does not match a supported file type
2024-10-07 11:06:10.898 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/8/menu-items'
2024-10-07 11:06:10.900 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/8/menu-items'
2024-10-07 11:06:10.900 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:10.901 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:06:10.901 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:06:10.902 +03:00 [DBG] Authorization was successful.
2024-10-07 11:06:10.902 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:10.903 +03:00 [INF] Route matched with {action = "GetMenuItemsByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItemsByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:06:10.904 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:06:10.905 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:06:10.906 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:06:10.907 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:06:10.908 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:06:10.909 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:10.910 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:10.910 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:10.911 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 11:06:10.913 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:10.913 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:10.914 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:10.915 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:10.916 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:06:10.918 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:06:10.919 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:06:10.919 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:10.920 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:10.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:06:10.922 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:06:10.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:06:10.924 +03:00 [DBG] Executing DbCommand [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:10.927 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:10.929 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:06:10.933 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:10.933 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-10-07 11:06:10.934 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:10.935 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:06:10.936 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:06:10.938 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:06:10.938 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:06:10.939 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:06:10.940 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:06:10.940 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:06:10.941 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.MenuItemDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:06:10.942 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI) in 32.9425ms
2024-10-07 11:06:10.943 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:10.943 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:06:10.944 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:06:10.945 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:10.946 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:06:10.947 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/8/menu-items - 200 47 application/json; charset=utf-8 60.8388ms
2024-10-07 11:06:16.120 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/7/menu-items - null null
2024-10-07 11:06:16.135 +03:00 [DBG] The request path /api/reservations/7/menu-items does not match a supported file type
2024-10-07 11:06:16.137 +03:00 [DBG] The request path /api/reservations/7/menu-items does not match a supported file type
2024-10-07 11:06:16.142 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/7/menu-items'
2024-10-07 11:06:16.143 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/7/menu-items'
2024-10-07 11:06:16.145 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:16.146 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:06:16.146 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:06:16.147 +03:00 [DBG] Authorization was successful.
2024-10-07 11:06:16.148 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:16.148 +03:00 [INF] Route matched with {action = "GetMenuItemsByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItemsByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:06:16.150 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:06:16.151 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:06:16.152 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:06:16.153 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:06:16.154 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:06:16.155 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:16.156 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:16.159 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:16.161 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 11:06:16.162 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:16.163 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:16.164 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:16.164 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:16.166 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:06:16.167 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:06:16.168 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:06:16.168 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:16.169 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:16.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:06:16.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:06:16.171 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:06:16.172 +03:00 [DBG] Executing DbCommand [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:16.173 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:16.176 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:06:16.177 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:16.178 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-10-07 11:06:16.178 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:16.179 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:06:16.180 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:06:16.182 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:06:16.183 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:06:16.184 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:06:16.184 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:06:16.185 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:06:16.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.MenuItemDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:06:16.186 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI) in 30.5469ms
2024-10-07 11:06:16.187 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:16.188 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:06:16.188 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:06:16.189 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:16.190 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:06:16.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/7/menu-items - 200 47 application/json; charset=utf-8 71.4373ms
2024-10-07 11:06:21.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/6/menu-items - null null
2024-10-07 11:06:21.417 +03:00 [DBG] The request path /api/reservations/6/menu-items does not match a supported file type
2024-10-07 11:06:21.419 +03:00 [DBG] The request path /api/reservations/6/menu-items does not match a supported file type
2024-10-07 11:06:21.421 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/6/menu-items'
2024-10-07 11:06:21.422 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/menu-items' is valid for the request path '/api/reservations/6/menu-items'
2024-10-07 11:06:21.425 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:21.426 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:06:21.427 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:06:21.427 +03:00 [DBG] Authorization was successful.
2024-10-07 11:06:21.428 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:21.429 +03:00 [INF] Route matched with {action = "GetMenuItemsByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.MenuItemDto]]] GetMenuItemsByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:06:21.430 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:06:21.431 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:06:21.432 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:06:21.433 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:06:21.434 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:06:21.435 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:21.436 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:06:21.437 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:21.438 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 11:06:21.439 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:21.440 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:21.441 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:06:21.442 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:06:21.443 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:06:21.445 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:06:21.445 +03:00 [DBG] Created DbConnection. (0ms).
2024-10-07 11:06:21.446 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:21.447 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:21.447 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:06:21.448 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:06:21.449 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:06:21.450 +03:00 [DBG] Executing DbCommand [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:21.451 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MenuItemId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
WHERE [o].[ReservationId] = @__reservationId_0
2024-10-07 11:06:21.453 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:06:21.454 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:06:21.455 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:21.456 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-10-07 11:06:21.457 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:21.457 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-10-07 11:06:21.458 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:06:21.460 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:06:21.461 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:06:21.462 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:06:21.462 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:06:21.463 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:06:21.463 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.MenuItemDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:06:21.464 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI) in 29.3313ms
2024-10-07 11:06:21.465 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetMenuItemsByReservation (RestaurantReservationAPI)'
2024-10-07 11:06:21.466 +03:00 [DBG] Connection id "0HN76KFQK24E0" completed keep alive response.
2024-10-07 11:06:21.467 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:06:21.467 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:06:21.468 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-07 11:06:21.469 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/6/menu-items - 200 93 application/json; charset=utf-8 56.0673ms
2024-10-07 11:09:43.244 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 11:09:43.869 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:09:43.916 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 11:09:44.027 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 11:09:44.050 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:09:44.078 +03:00 [DBG] Created DbConnection. (25ms).
2024-10-07 11:09:44.084 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:09:44.269 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:09:44.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:09:44.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-07 11:09:44.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-07 11:09:44.291 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:09:44.315 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:09:44.328 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:09:44.334 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-10-07 11:09:44.338 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:09:44.344 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-10-07 11:09:44.346 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:09:44.348 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:09:44.350 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:09:44.404 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 11:09:44.452 +03:00 [DBG] Hosting starting
2024-10-07 11:09:44.477 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 11:09:44.484 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 11:09:44.503 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 11:09:44.513 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 11:09:44.518 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:09:44.520 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 11:09:44.522 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:09:44.525 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 11:09:44.528 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 11:09:44.530 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 11:09:44.532 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 11:09:44.605 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 11:09:44.609 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 11:09:44.612 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 11:09:44.613 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 11:09:44.613 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 11:09:44.659 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 11:09:44.660 +03:00 [INF] Hosting environment: Development
2024-10-07 11:09:44.661 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 11:09:44.662 +03:00 [DBG] Hosting started
2024-10-07 11:09:44.964 +03:00 [DBG] Connection id "0HN76KTJNGSJH" accepted.
2024-10-07 11:09:44.969 +03:00 [DBG] Connection id "0HN76KTJNGSJH" started.
2024-10-07 11:09:44.975 +03:00 [DBG] Connection id "0HN76KTJNGSJI" accepted.
2024-10-07 11:09:44.976 +03:00 [DBG] Connection id "0HN76KTJNGSJI" started.
2024-10-07 11:09:45.006 +03:00 [DBG] Connection id "0HN76KTJNGSJI" received FIN.
2024-10-07 11:09:45.006 +03:00 [DBG] Connection id "0HN76KTJNGSJH" received FIN.
2024-10-07 11:09:45.014 +03:00 [DBG] Connection id "0HN76KTJNGSJI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:09:45.013 +03:00 [DBG] Connection id "0HN76KTJNGSJH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:09:45.018 +03:00 [DBG] Connection id "0HN76KTJNGSJI" disconnecting.
2024-10-07 11:09:45.024 +03:00 [DBG] Connection id "0HN76KTJNGSJH" disconnecting.
2024-10-07 11:09:45.033 +03:00 [DBG] Connection id "0HN76KTJNGSJI" stopped.
2024-10-07 11:09:45.033 +03:00 [DBG] Connection id "0HN76KTJNGSJH" stopped.
2024-10-07 11:09:45.119 +03:00 [DBG] Connection id "0HN76KTJNGSJJ" accepted.
2024-10-07 11:09:45.120 +03:00 [DBG] Connection id "0HN76KTJNGSJJ" started.
2024-10-07 11:09:45.137 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:09:45.204 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 11:12:11.961 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 11:12:12.382 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:12:12.426 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 11:12:12.542 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 11:12:12.566 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:12:12.591 +03:00 [DBG] Created DbConnection. (21ms).
2024-10-07 11:12:12.597 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:12:12.947 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:12:12.952 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:12:12.958 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-07 11:12:12.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-07 11:12:12.967 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:12:12.993 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:12:13.005 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:12:13.012 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-10-07 11:12:13.016 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:12:13.022 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (6ms).
2024-10-07 11:12:13.025 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:12:13.027 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:12:13.029 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:12:13.085 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 11:12:13.144 +03:00 [DBG] Hosting starting
2024-10-07 11:12:13.173 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 11:12:13.181 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 11:12:13.189 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 11:12:13.199 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 11:12:13.203 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:12:13.204 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 11:12:13.206 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:12:13.209 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 11:12:13.211 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 11:12:13.213 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 11:12:13.214 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 11:12:13.294 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 11:12:13.295 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 11:12:13.295 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 11:12:13.296 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 11:12:13.296 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 11:12:13.352 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 11:12:13.352 +03:00 [INF] Hosting environment: Development
2024-10-07 11:12:13.353 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 11:12:13.355 +03:00 [DBG] Hosting started
2024-10-07 11:12:13.735 +03:00 [DBG] Connection id "0HN76KV02A247" received FIN.
2024-10-07 11:12:13.741 +03:00 [DBG] Connection id "0HN76KV02A247" accepted.
2024-10-07 11:12:13.745 +03:00 [DBG] Connection id "0HN76KV02A247" started.
2024-10-07 11:12:13.749 +03:00 [DBG] Connection id "0HN76KV02A247" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:12:13.753 +03:00 [DBG] Connection id "0HN76KV02A247" disconnecting.
2024-10-07 11:12:13.755 +03:00 [DBG] Connection id "0HN76KV02A247" stopped.
2024-10-07 11:12:13.889 +03:00 [DBG] Connection id "0HN76KV02A248" accepted.
2024-10-07 11:12:13.892 +03:00 [DBG] Connection id "0HN76KV02A248" started.
2024-10-07 11:12:13.908 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:12:13.992 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 11:14:26.538 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 11:14:27.183 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:14:27.223 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 11:14:27.341 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 11:14:27.368 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:14:27.469 +03:00 [DBG] Created DbConnection. (100ms).
2024-10-07 11:14:27.473 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:14:27.649 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:14:27.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:14:27.657 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-07 11:14:27.660 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-10-07 11:14:27.665 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:14:27.687 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:14:27.696 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:14:27.701 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-10-07 11:14:27.704 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:14:27.708 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-10-07 11:14:27.710 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:14:27.712 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:14:27.713 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:14:27.754 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 11:14:27.799 +03:00 [DBG] Hosting starting
2024-10-07 11:14:27.825 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 11:14:27.832 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 11:14:27.855 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 11:14:27.862 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 11:14:27.866 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:14:27.868 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 11:14:27.870 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:14:27.872 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 11:14:27.874 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 11:14:27.876 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 11:14:27.877 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 11:14:27.949 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 11:14:27.952 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 11:14:27.953 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 11:14:27.954 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 11:14:27.955 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 11:14:28.007 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 11:14:28.009 +03:00 [INF] Hosting environment: Development
2024-10-07 11:14:28.011 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 11:14:28.012 +03:00 [DBG] Hosting started
2024-10-07 11:14:28.315 +03:00 [DBG] Connection id "0HN76L085ONHK" accepted.
2024-10-07 11:14:28.318 +03:00 [DBG] Connection id "0HN76L085ONHK" started.
2024-10-07 11:14:28.324 +03:00 [DBG] Connection id "0HN76L085ONHL" accepted.
2024-10-07 11:14:28.326 +03:00 [DBG] Connection id "0HN76L085ONHL" started.
2024-10-07 11:14:28.373 +03:00 [DBG] Connection id "0HN76L085ONHL" received FIN.
2024-10-07 11:14:28.373 +03:00 [DBG] Connection id "0HN76L085ONHK" received FIN.
2024-10-07 11:14:28.380 +03:00 [DBG] Connection id "0HN76L085ONHK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:14:28.380 +03:00 [DBG] Connection id "0HN76L085ONHL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:14:28.384 +03:00 [DBG] Connection id "0HN76L085ONHK" disconnecting.
2024-10-07 11:14:28.389 +03:00 [DBG] Connection id "0HN76L085ONHL" disconnecting.
2024-10-07 11:14:28.398 +03:00 [DBG] Connection id "0HN76L085ONHK" stopped.
2024-10-07 11:14:28.399 +03:00 [DBG] Connection id "0HN76L085ONHL" stopped.
2024-10-07 11:14:28.475 +03:00 [DBG] Connection id "0HN76L085ONHM" accepted.
2024-10-07 11:14:28.476 +03:00 [DBG] Connection id "0HN76L085ONHM" started.
2024-10-07 11:14:28.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:14:28.567 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 11:14:28.635 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 11:14:28.637 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 11:14:28.647 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 11:14:28.648 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 11:14:28.650 +03:00 [DBG] Connection id "0HN76L085ONHM" completed keep alive response.
2024-10-07 11:14:28.652 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 164.8644ms
2024-10-07 11:14:28.664 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 11:14:28.665 +03:00 [DBG] Connection id "0HN76L085ONHN" accepted.
2024-10-07 11:14:28.668 +03:00 [DBG] Connection id "0HN76L085ONHN" started.
2024-10-07 11:14:28.669 +03:00 [DBG] Connection id "0HN76L085ONHO" accepted.
2024-10-07 11:14:28.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 11:14:28.671 +03:00 [DBG] Connection id "0HN76L085ONHO" started.
2024-10-07 11:14:28.670 +03:00 [DBG] Connection id "0HN76L085ONHM" completed keep alive response.
2024-10-07 11:14:28.674 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 11:14:28.675 +03:00 [DBG] Connection id "0HN76L085ONHN" completed keep alive response.
2024-10-07 11:14:28.676 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 12.1701ms
2024-10-07 11:14:28.679 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 8.9145ms
2024-10-07 11:14:28.700 +03:00 [DBG] Connection id "0HN76L085ONHO" completed keep alive response.
2024-10-07 11:14:28.701 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0582ms
2024-10-07 11:14:28.775 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 11:14:28.893 +03:00 [DBG] Connection id "0HN76L085ONHO" completed keep alive response.
2024-10-07 11:14:28.895 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.5136ms
2024-10-07 11:15:31.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:15:31.877 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 11:15:31.880 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 11:15:31.881 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 11:15:31.882 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 11:15:31.884 +03:00 [DBG] Connection id "0HN76L085ONHO" completed keep alive response.
2024-10-07 11:15:31.886 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 18.2028ms
2024-10-07 11:15:31.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 11:15:31.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 11:15:31.912 +03:00 [DBG] Connection id "0HN76L085ONHO" completed keep alive response.
2024-10-07 11:15:31.917 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 9.4587ms
2024-10-07 11:15:31.923 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 11:15:31.928 +03:00 [DBG] Connection id "0HN76L085ONHO" completed keep alive response.
2024-10-07 11:15:31.934 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 10.2722ms
2024-10-07 11:15:31.934 +03:00 [DBG] Connection id "0HN76L085ONHN" completed keep alive response.
2024-10-07 11:15:31.939 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7153ms
2024-10-07 11:15:32.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 11:15:32.153 +03:00 [DBG] Connection id "0HN76L085ONHN" completed keep alive response.
2024-10-07 11:15:32.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.2443ms
2024-10-07 11:15:33.702 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:15:33.708 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 11:15:33.709 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 11:15:33.709 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 11:15:33.710 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 11:15:33.711 +03:00 [DBG] Connection id "0HN76L085ONHN" completed keep alive response.
2024-10-07 11:15:33.712 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 10.4545ms
2024-10-07 11:15:33.721 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 11:15:33.721 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 11:15:33.725 +03:00 [DBG] Connection id "0HN76L085ONHN" completed keep alive response.
2024-10-07 11:15:33.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 5.4511ms
2024-10-07 11:15:33.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 11:15:33.734 +03:00 [DBG] Connection id "0HN76L085ONHM" completed keep alive response.
2024-10-07 11:15:33.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 7.5658ms
2024-10-07 11:15:33.742 +03:00 [DBG] Connection id "0HN76L085ONHO" completed keep alive response.
2024-10-07 11:15:33.743 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.2276ms
2024-10-07 11:15:33.779 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 11:15:33.810 +03:00 [DBG] Connection id "0HN76L085ONHO" completed keep alive response.
2024-10-07 11:15:33.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.1031ms
2024-10-07 11:15:42.331 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 11:15:42.709 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:15:42.749 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 11:15:42.869 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 11:15:42.893 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:15:42.909 +03:00 [DBG] Created DbConnection. (15ms).
2024-10-07 11:15:42.913 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:15:43.089 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:15:43.093 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:15:43.099 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-07 11:15:43.101 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-07 11:15:43.107 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:15:43.134 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:15:43.148 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:15:43.158 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 16ms reading results.
2024-10-07 11:15:43.173 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:15:43.224 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (51ms).
2024-10-07 11:15:43.276 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:15:43.279 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:15:43.286 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-10-07 11:15:43.390 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 11:15:43.461 +03:00 [DBG] Hosting starting
2024-10-07 11:15:43.483 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 11:15:43.492 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 11:15:43.499 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 11:15:43.509 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 11:15:43.513 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:15:43.515 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 11:15:43.517 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:15:43.520 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 11:15:43.521 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 11:15:43.523 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 11:15:43.524 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 11:15:43.594 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 11:15:43.595 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 11:15:43.596 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 11:15:43.596 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 11:15:43.596 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 11:15:43.640 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 11:15:43.642 +03:00 [INF] Hosting environment: Development
2024-10-07 11:15:43.642 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 11:15:43.643 +03:00 [DBG] Hosting started
2024-10-07 11:15:43.706 +03:00 [DBG] Connection id "0HN76L0UKOB2V" accepted.
2024-10-07 11:15:43.710 +03:00 [DBG] Connection id "0HN76L0UKOB2V" started.
2024-10-07 11:15:43.718 +03:00 [DBG] Connection id "0HN76L0UKOB2V" received FIN.
2024-10-07 11:15:43.718 +03:00 [DBG] Connection id "0HN76L0UKOB30" received FIN.
2024-10-07 11:15:43.721 +03:00 [DBG] Connection id "0HN76L0UKOB30" accepted.
2024-10-07 11:15:43.720 +03:00 [DBG] Connection id "0HN76L0UKOB2V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:15:43.722 +03:00 [DBG] Connection id "0HN76L0UKOB30" started.
2024-10-07 11:15:43.723 +03:00 [DBG] Connection id "0HN76L0UKOB2V" disconnecting.
2024-10-07 11:15:43.724 +03:00 [DBG] Connection id "0HN76L0UKOB30" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:15:43.727 +03:00 [DBG] Connection id "0HN76L0UKOB30" disconnecting.
2024-10-07 11:15:43.727 +03:00 [DBG] Connection id "0HN76L0UKOB2V" stopped.
2024-10-07 11:15:43.728 +03:00 [DBG] Connection id "0HN76L0UKOB30" stopped.
2024-10-07 11:15:44.078 +03:00 [DBG] Connection id "0HN76L0UKOB31" accepted.
2024-10-07 11:15:44.080 +03:00 [DBG] Connection id "0HN76L0UKOB31" started.
2024-10-07 11:15:44.094 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:15:44.167 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 11:15:44.245 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 11:15:44.247 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 11:15:44.252 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 11:15:44.253 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 11:15:44.254 +03:00 [DBG] Connection id "0HN76L0UKOB31" completed keep alive response.
2024-10-07 11:15:44.260 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 164.7901ms
2024-10-07 11:15:44.265 +03:00 [DBG] Connection id "0HN76L0UKOB32" accepted.
2024-10-07 11:15:44.265 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 11:15:44.266 +03:00 [DBG] Connection id "0HN76L0UKOB32" started.
2024-10-07 11:15:44.268 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 11:15:44.269 +03:00 [DBG] Connection id "0HN76L0UKOB31" completed keep alive response.
2024-10-07 11:15:44.271 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 5.6416ms
2024-10-07 11:15:44.276 +03:00 [DBG] Connection id "0HN76L0UKOB32" completed keep alive response.
2024-10-07 11:15:44.278 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 11:15:44.278 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 10.3097ms
2024-10-07 11:15:44.311 +03:00 [DBG] Connection id "0HN76L0UKOB31" completed keep alive response.
2024-10-07 11:15:44.312 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.3392ms
2024-10-07 11:15:44.357 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 11:15:44.479 +03:00 [DBG] Connection id "0HN76L0UKOB31" completed keep alive response.
2024-10-07 11:15:44.480 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.8479ms
2024-10-07 11:15:48.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - null null
2024-10-07 11:15:48.495 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 11:15:48.497 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 11:15:48.500 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 11:15:48.525 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 11:15:48.530 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 11:15:48.535 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 11:15:48.599 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 11:15:48.603 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-10-07 11:15:48.606 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-07 11:15:48.612 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-07 11:15:48.616 +03:00 [DBG] Connection id "0HN76L0UKOB31" completed keep alive response.
2024-10-07 11:15:48.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 401 0 null 130.3044ms
2024-10-07 11:16:00.116 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/auth/login - application/json-patch+json 50
2024-10-07 11:16:00.118 +03:00 [DBG] POST requests are not supported
2024-10-07 11:16:00.119 +03:00 [DBG] POST requests are not supported
2024-10-07 11:16:00.130 +03:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2024-10-07 11:16:00.133 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2024-10-07 11:16:00.134 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 11:16:00.138 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 11:16:00.139 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 11:16:00.159 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Login(UserLogin) on controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI).
2024-10-07 11:16:00.165 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:16:00.166 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:16:00.167 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:16:00.168 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:16:00.170 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:16:00.173 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 11:16:00.174 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 11:16:00.177 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 11:16:00.179 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' using the name '' in request data ...
2024-10-07 11:16:00.181 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:16:00.182 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:16:00.185 +03:00 [DBG] Connection id "0HN76L0UKOB31", Request id "0HN76L0UKOB31:00000006": started reading request body.
2024-10-07 11:16:00.186 +03:00 [DBG] Connection id "0HN76L0UKOB31", Request id "0HN76L0UKOB31:00000006": done reading request body.
2024-10-07 11:16:00.246 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 11:16:00.250 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 11:16:00.254 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 11:16:00.264 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 11:16:00.294 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:16:00.303 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:16:00.308 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-07 11:16:00.311 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-07 11:16:00.315 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI) in 141.9108ms
2024-10-07 11:16:00.316 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 11:16:00.317 +03:00 [DBG] Connection id "0HN76L0UKOB31" completed keep alive response.
2024-10-07 11:16:00.318 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/auth/login - 200 null text/plain; charset=utf-8 202.2217ms
2024-10-07 11:16:07.493 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/customers - null null
2024-10-07 11:16:07.496 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 11:16:07.497 +03:00 [DBG] The request path /api/customers does not match a supported file type
2024-10-07 11:16:07.498 +03:00 [DBG] 1 candidate(s) found for the request path '/api/customers'
2024-10-07 11:16:07.499 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)' with route pattern 'api/customers' is valid for the request path '/api/customers'
2024-10-07 11:16:07.501 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 11:16:07.534 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:16:07.536 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:16:07.539 +03:00 [DBG] Authorization was successful.
2024-10-07 11:16:07.540 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 11:16:07.546 +03:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.CustomerDto]]] GetCustomers() on controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI).
2024-10-07 11:16:07.551 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:16:07.553 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:16:07.554 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:16:07.556 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:16:07.557 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:16:07.558 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 11:16:07.654 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.CustomerController (RestaurantReservationAPI)
2024-10-07 11:16:07.671 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:16:07.694 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Include(c => c.Reservations)
    .ThenInclude(c => c.Orders)'
2024-10-07 11:16:07.716 +03:00 [DBG] Including navigation: 'Customer.Reservations'.
2024-10-07 11:16:07.723 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 11:16:07.858 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-07 11:16:07.869 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Customer>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Customer.CustomerId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Name (string) Required MaxLength(100), 1], [Property: Customer.Phone (string) Required MaxLength(15), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Reservation.CustomerId (int) Required FK Index, 4], [Property: Reservation.EmployeeId (int) Required FK Index, 5], [Property: Reservation.ReservationDate (DateTime) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Order.MenuItemId (int) Required FK Index, 8], [Property: Order.Quantity (int) Required, 9], [Property: Order.ReservationId (int) Required FK Index, 10] }
            5 -> 7
        SELECT c.CustomerId, c.Name, c.Phone, t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t.OrderId, t.MenuItemId, t.Quantity, t.ReservationId0
        FROM Customers AS c
        LEFT JOIN 
        (
            SELECT r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate, o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId AS ReservationId0
            FROM Reservations AS r
            LEFT JOIN Orders AS o ON r.ReservationId == o.ReservationId
        ) AS t ON c.CustomerId == t.CustomerId
        ORDER BY c.CustomerId ASC, t.ReservationId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)'
2024-10-07 11:16:07.887 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:16:07.890 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-07 11:16:07.893 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:16:07.895 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:16:07.897 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:16:07.898 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-07 11:16:07.899 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:16:07.901 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 11:16:07.919 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Name], [c].[Phone], [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t].[OrderId], [t].[MenuItemId], [t].[Quantity], [t].[ReservationId0]
FROM [Customers] AS [c]
LEFT JOIN (
    SELECT [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate], [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId] AS [ReservationId0]
    FROM [Reservations] AS [r]
    LEFT JOIN [Orders] AS [o] ON [r].[ReservationId] = [o].[ReservationId]
) AS [t] ON [c].[CustomerId] = [t].[CustomerId]
ORDER BY [c].[CustomerId], [t].[ReservationId]
2024-10-07 11:16:07.947 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:07.992 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.004 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.010 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.014 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.017 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.024 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.026 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.027 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.029 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.032 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.034 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:16:08.041 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:16:08.042 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 119ms reading results.
2024-10-07 11:16:08.045 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:16:08.048 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-10-07 11:16:08.071 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:16:08.073 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:16:08.076 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:16:08.077 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:16:08.078 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:16:08.080 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:16:08.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.CustomerDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:16:08.117 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI) in 558.9006ms
2024-10-07 11:16:08.119 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.CustomerController.GetCustomers (RestaurantReservationAPI)'
2024-10-07 11:16:08.123 +03:00 [DBG] Connection id "0HN76L0UKOB31" completed keep alive response.
2024-10-07 11:16:08.126 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:16:08.129 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:16:08.130 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:16:08.131 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/customers - 200 1123 application/json; charset=utf-8 638.2304ms
2024-10-07 11:20:56.014 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 11:20:56.403 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:20:56.464 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 11:20:56.598 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 11:20:56.620 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:20:56.645 +03:00 [DBG] Created DbConnection. (18ms).
2024-10-07 11:20:56.652 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:20:56.957 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:20:56.970 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:20:56.978 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-10-07 11:20:56.981 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-10-07 11:20:56.988 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:20:57.018 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:20:57.026 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:20:57.033 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 11:20:57.037 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:20:57.042 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-10-07 11:20:57.044 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:20:57.047 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:20:57.049 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:20:57.099 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 11:20:57.143 +03:00 [DBG] Hosting starting
2024-10-07 11:20:57.161 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 11:20:57.167 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 11:20:57.173 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 11:20:57.180 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 11:20:57.183 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:20:57.184 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 11:20:57.186 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:20:57.189 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 11:20:57.191 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 11:20:57.192 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 11:20:57.196 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 11:20:57.265 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 11:20:57.267 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 11:20:57.268 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 11:20:57.269 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 11:20:57.270 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 11:20:57.324 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 11:20:57.325 +03:00 [INF] Hosting environment: Development
2024-10-07 11:20:57.325 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 11:20:57.326 +03:00 [DBG] Hosting started
2024-10-07 11:20:57.405 +03:00 [DBG] Connection id "0HN76L3S4DIA7" accepted.
2024-10-07 11:20:57.405 +03:00 [DBG] Connection id "0HN76L3S4DIA6" accepted.
2024-10-07 11:20:57.407 +03:00 [DBG] Connection id "0HN76L3S4DIA7" started.
2024-10-07 11:20:57.408 +03:00 [DBG] Connection id "0HN76L3S4DIA6" started.
2024-10-07 11:20:57.431 +03:00 [DBG] Connection id "0HN76L3S4DIA6" received FIN.
2024-10-07 11:20:57.431 +03:00 [DBG] Connection id "0HN76L3S4DIA7" received FIN.
2024-10-07 11:20:57.437 +03:00 [DBG] Connection id "0HN76L3S4DIA7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:20:57.437 +03:00 [DBG] Connection id "0HN76L3S4DIA6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:20:57.441 +03:00 [DBG] Connection id "0HN76L3S4DIA7" disconnecting.
2024-10-07 11:20:57.445 +03:00 [DBG] Connection id "0HN76L3S4DIA6" disconnecting.
2024-10-07 11:20:57.461 +03:00 [DBG] Connection id "0HN76L3S4DIA6" stopped.
2024-10-07 11:20:57.461 +03:00 [DBG] Connection id "0HN76L3S4DIA7" stopped.
2024-10-07 11:20:57.540 +03:00 [DBG] Connection id "0HN76L3S4DIA8" accepted.
2024-10-07 11:20:57.541 +03:00 [DBG] Connection id "0HN76L3S4DIA8" started.
2024-10-07 11:20:57.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:20:57.627 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 11:20:57.696 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 11:20:57.699 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 11:20:57.706 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 11:20:57.707 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 11:20:57.707 +03:00 [DBG] Connection id "0HN76L3S4DIA8" completed keep alive response.
2024-10-07 11:20:57.717 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 156.0182ms
2024-10-07 11:20:57.727 +03:00 [DBG] Connection id "0HN76L3S4DIA9" accepted.
2024-10-07 11:20:57.727 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 11:20:57.728 +03:00 [DBG] Connection id "0HN76L3S4DIA9" started.
2024-10-07 11:20:57.728 +03:00 [DBG] Connection id "0HN76L3S4DIAA" accepted.
2024-10-07 11:20:57.731 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 11:20:57.733 +03:00 [DBG] Connection id "0HN76L3S4DIAA" started.
2024-10-07 11:20:57.733 +03:00 [DBG] Connection id "0HN76L3S4DIA8" completed keep alive response.
2024-10-07 11:20:57.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 11:20:57.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 8.8703ms
2024-10-07 11:20:57.736 +03:00 [DBG] Connection id "0HN76L3S4DIA9" completed keep alive response.
2024-10-07 11:20:57.740 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 9.4352ms
2024-10-07 11:20:57.765 +03:00 [DBG] Connection id "0HN76L3S4DIAA" completed keep alive response.
2024-10-07 11:20:57.766 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.7816ms
2024-10-07 11:20:57.814 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 11:20:57.944 +03:00 [DBG] Connection id "0HN76L3S4DIAA" completed keep alive response.
2024-10-07 11:20:57.945 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.9764ms
2024-10-07 11:21:16.939 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/9/orders - null null
2024-10-07 11:21:16.950 +03:00 [DBG] The request path /api/reservations/9/orders does not match a supported file type
2024-10-07 11:21:16.954 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-07 11:21:16.957 +03:00 [DBG] The request path /api/reservations/9/orders does not match a supported file type
2024-10-07 11:21:16.987 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/9/orders'
2024-10-07 11:21:16.995 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetOrdersByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/orders' is valid for the request path '/api/reservations/9/orders'
2024-10-07 11:21:17.000 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetOrdersByReservation (RestaurantReservationAPI)'
2024-10-07 11:21:17.057 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 11:21:17.064 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-10-07 11:21:17.071 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-07 11:21:17.074 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-07 11:21:17.076 +03:00 [DBG] Connection id "0HN76L3S4DIAA" completed keep alive response.
2024-10-07 11:21:17.080 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/9/orders - 401 0 null 141.0249ms
2024-10-07 11:21:27.737 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5099/api/auth/login - application/json-patch+json 50
2024-10-07 11:21:27.743 +03:00 [DBG] POST requests are not supported
2024-10-07 11:21:27.746 +03:00 [DBG] POST requests are not supported
2024-10-07 11:21:27.748 +03:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2024-10-07 11:21:27.752 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2024-10-07 11:21:27.754 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 11:21:27.757 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-07 11:21:27.758 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 11:21:27.774 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Login(UserLogin) on controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI).
2024-10-07 11:21:27.780 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:21:27.782 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:21:27.784 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:21:27.785 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:21:27.786 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:21:27.788 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 11:21:27.789 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.AuthController (RestaurantReservationAPI)
2024-10-07 11:21:27.792 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 11:21:27.794 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' using the name '' in request data ...
2024-10-07 11:21:27.797 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:21:27.798 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-07 11:21:27.803 +03:00 [DBG] Connection id "0HN76L3S4DIAA", Request id "0HN76L3S4DIAA:00000004": started reading request body.
2024-10-07 11:21:27.804 +03:00 [DBG] Connection id "0HN76L3S4DIAA", Request id "0HN76L3S4DIAA:00000004": done reading request body.
2024-10-07 11:21:27.874 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 11:21:27.877 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 11:21:27.880 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin' ...
2024-10-07 11:21:27.888 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'RestaurantReservationAPI.Controllers.AuthController+UserLogin'.
2024-10-07 11:21:27.920 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:21:27.928 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:21:27.930 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-07 11:21:27.932 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-07 11:21:27.936 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI) in 147.1465ms
2024-10-07 11:21:27.937 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.AuthController.Login (RestaurantReservationAPI)'
2024-10-07 11:21:27.938 +03:00 [DBG] Connection id "0HN76L3S4DIAA" completed keep alive response.
2024-10-07 11:21:27.940 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5099/api/auth/login - 200 null text/plain; charset=utf-8 202.4863ms
2024-10-07 11:21:39.377 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/api/reservations/9/orders - null null
2024-10-07 11:21:39.390 +03:00 [DBG] The request path /api/reservations/9/orders does not match a supported file type
2024-10-07 11:21:39.393 +03:00 [DBG] The request path /api/reservations/9/orders does not match a supported file type
2024-10-07 11:21:39.395 +03:00 [DBG] 1 candidate(s) found for the request path '/api/reservations/9/orders'
2024-10-07 11:21:39.396 +03:00 [DBG] Endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetOrdersByReservation (RestaurantReservationAPI)' with route pattern 'api/reservations/{reservationId}/orders' is valid for the request path '/api/reservations/9/orders'
2024-10-07 11:21:39.397 +03:00 [DBG] Request matched endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetOrdersByReservation (RestaurantReservationAPI)'
2024-10-07 11:21:39.423 +03:00 [DBG] Successfully validated the token.
2024-10-07 11:21:39.426 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-07 11:21:39.432 +03:00 [DBG] Authorization was successful.
2024-10-07 11:21:39.433 +03:00 [INF] Executing endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetOrdersByReservation (RestaurantReservationAPI)'
2024-10-07 11:21:39.440 +03:00 [INF] Route matched with {action = "GetOrdersByReservation", controller = "Reservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RestaurantReservationAPI.DTOs.OrderDto]]] GetOrdersByReservation(Int32) on controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI).
2024-10-07 11:21:39.444 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-07 11:21:39.445 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-07 11:21:39.446 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-07 11:21:39.447 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-07 11:21:39.448 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-07 11:21:39.449 +03:00 [DBG] Executing controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:21:39.557 +03:00 [DBG] Executed controller factory for controller RestaurantReservationAPI.Controllers.ReservationController (RestaurantReservationAPI)
2024-10-07 11:21:39.560 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:21:39.561 +03:00 [DBG] Attempting to bind parameter 'reservationId' of type 'System.Int32' using the name 'reservationId' in request data ...
2024-10-07 11:21:39.564 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:21:39.566 +03:00 [DBG] Done attempting to bind parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:21:39.569 +03:00 [DBG] Attempting to validate the bound parameter 'reservationId' of type 'System.Int32' ...
2024-10-07 11:21:39.572 +03:00 [DBG] Done attempting to validate the bound parameter 'reservationId' of type 'System.Int32'.
2024-10-07 11:21:39.591 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:21:39.608 +03:00 [DBG] Compiling query expression: 
'DbSet<Reservation>()
    .Include(c => c.Orders)
    .ThenInclude(c => c.MenuItem)
    .Where(c => c.ReservationId == __id_0)
    .FirstOrDefault()'
2024-10-07 11:21:39.630 +03:00 [DBG] Including navigation: 'Reservation.Orders'.
2024-10-07 11:21:39.637 +03:00 [DBG] Including navigation: 'Order.MenuItem'.
2024-10-07 11:21:39.747 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reservation>(
    asyncEnumerable: new SingleQueryingEnumerable<Reservation>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Reservation.ReservationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reservation.CustomerId (int) Required FK Index, 1], [Property: Reservation.EmployeeId (int) Required FK Index, 2], [Property: Reservation.ReservationDate (DateTime) Required, 3] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Order.OrderId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Order.MenuItemId (int) Required FK Index, 5], [Property: Order.Quantity (int) Required, 6], [Property: Order.ReservationId (int) Required FK Index, 7] }
                3 -> Dictionary<IProperty, int> { [Property: MenuItem.MenuItemId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: MenuItem.Name (string) Required MaxLength(100), 9], [Property: MenuItem.Price (decimal) Required, 10] }
                4 -> 4
                5 -> 8
            SELECT t.ReservationId, t.CustomerId, t.EmployeeId, t.ReservationDate, t0.OrderId, t0.MenuItemId, t0.Quantity, t0.ReservationId, t0.MenuItemId0, t0.Name, t0.Price
            FROM 
            (
                SELECT TOP(1) r.ReservationId, r.CustomerId, r.EmployeeId, r.ReservationDate
                FROM Reservations AS r
                WHERE r.ReservationId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT o.OrderId, o.MenuItemId, o.Quantity, o.ReservationId, m.MenuItemId AS MenuItemId0, m.Name, m.Price
                FROM Orders AS o
                INNER JOIN MenuItems AS m ON o.MenuItemId == m.MenuItemId
            ) AS t0 ON t.ReservationId == t0.ReservationId
            ORDER BY t.ReservationId ASC, t0.OrderId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Reservation>, 
        RestaurantReservationAPI.RestaurantDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-07 11:21:39.763 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:21:39.766 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-07 11:21:39.768 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:21:39.770 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:21:39.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:21:39.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-07 11:21:39.778 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-10-07 11:21:39.782 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:21:39.822 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ReservationId], [t].[CustomerId], [t].[EmployeeId], [t].[ReservationDate], [t0].[OrderId], [t0].[MenuItemId], [t0].[Quantity], [t0].[ReservationId], [t0].[MenuItemId0], [t0].[Name], [t0].[Price]
FROM (
    SELECT TOP(1) [r].[ReservationId], [r].[CustomerId], [r].[EmployeeId], [r].[ReservationDate]
    FROM [Reservations] AS [r]
    WHERE [r].[ReservationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [o].[OrderId], [o].[MenuItemId], [o].[Quantity], [o].[ReservationId], [m].[MenuItemId] AS [MenuItemId0], [m].[Name], [m].[Price]
    FROM [Orders] AS [o]
    INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[MenuItemId]
) AS [t0] ON [t].[ReservationId] = [t0].[ReservationId]
ORDER BY [t].[ReservationId], [t0].[OrderId]
2024-10-07 11:21:39.859 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Reservation' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:21:39.895 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:21:39.903 +03:00 [DBG] The navigation 'Order.MenuItem' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:21:39.906 +03:00 [DBG] Context 'RestaurantDbContext' started tracking 'MenuItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-07 11:21:39.924 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:21:39.928 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 103ms reading results.
2024-10-07 11:21:39.935 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:21:39.940 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-10-07 11:21:39.958 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-07 11:21:39.963 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-07 11:21:39.966 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-07 11:21:39.966 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-07 11:21:39.967 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-07 11:21:39.968 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-07 11:21:39.968 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantReservationAPI.DTOs.OrderDto, RestaurantReservationAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-07 11:21:39.997 +03:00 [INF] Executed action RestaurantReservationAPI.Controllers.ReservationController.GetOrdersByReservation (RestaurantReservationAPI) in 547.0793ms
2024-10-07 11:21:40.001 +03:00 [INF] Executed endpoint 'RestaurantReservationAPI.Controllers.ReservationController.GetOrdersByReservation (RestaurantReservationAPI)'
2024-10-07 11:21:40.005 +03:00 [DBG] Connection id "0HN76L3S4DIAA" completed keep alive response.
2024-10-07 11:21:40.009 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:21:40.012 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:21:40.015 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-07 11:21:40.018 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/api/reservations/9/orders - 200 61 application/json; charset=utf-8 641.2173ms
2024-10-07 11:28:15.756 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-07 11:28:16.211 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'RestaurantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-07 11:28:16.245 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Any()'
2024-10-07 11:28:16.362 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Employees AS e)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    RestaurantReservationAPI.RestaurantDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-10-07 11:28:16.385 +03:00 [DBG] Creating DbConnection.
2024-10-07 11:28:16.407 +03:00 [DBG] Created DbConnection. (20ms).
2024-10-07 11:28:16.411 +03:00 [DBG] Opening connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:28:16.573 +03:00 [DBG] Opened connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:28:16.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-07 11:28:16.582 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-07 11:28:16.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-07 11:28:16.591 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:28:16.615 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-10-07 11:28:16.624 +03:00 [DBG] Closing data reader to 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:28:16.632 +03:00 [DBG] A data reader for 'restaurant' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-10-07 11:28:16.637 +03:00 [DBG] Closing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:28:16.642 +03:00 [DBG] Closed connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-10-07 11:28:16.644 +03:00 [DBG] 'RestaurantDbContext' disposed.
2024-10-07 11:28:16.646 +03:00 [DBG] Disposing connection to database 'restaurant' on server '(localdb)\MSSQLLocalDB'.
2024-10-07 11:28:16.647 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-07 11:28:16.697 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-07 11:28:16.744 +03:00 [DBG] Hosting starting
2024-10-07 11:28:16.763 +03:00 [INF] User profile is available. Using 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-07 11:28:16.770 +03:00 [DBG] Reading data from file 'C:\Users\OsamaRahimi\AppData\Local\ASP.NET\DataProtection-Keys\key-1782d430-fe90-4eab-85c7-c1d9fbee21fc.xml'.
2024-10-07 11:28:16.779 +03:00 [DBG] Found key {1782d430-fe90-4eab-85c7-c1d9fbee21fc}.
2024-10-07 11:28:16.789 +03:00 [DBG] Considering key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} with expiration date 2024-12-24 12:08:31Z as default key.
2024-10-07 11:28:16.794 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:28:16.796 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-07 11:28:16.797 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-07 11:28:16.800 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-07 11:28:16.801 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-07 11:28:16.804 +03:00 [DBG] Using key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} as the default key.
2024-10-07 11:28:16.805 +03:00 [DBG] Key ring with default key {1782d430-fe90-4eab-85c7-c1d9fbee21fc} was loaded during application startup.
2024-10-07 11:28:16.876 +03:00 [INF] Now listening on: http://localhost:5099
2024-10-07 11:28:16.877 +03:00 [DBG] Loaded hosting startup assembly RestaurantReservationAPI
2024-10-07 11:28:16.878 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-07 11:28:16.879 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-07 11:28:16.880 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-07 11:28:16.916 +03:00 [DBG] Connection id "0HN76L7V3TQ5I" accepted.
2024-10-07 11:28:16.916 +03:00 [DBG] Connection id "0HN76L7V3TQ5J" accepted.
2024-10-07 11:28:16.918 +03:00 [DBG] Connection id "0HN76L7V3TQ5I" started.
2024-10-07 11:28:16.919 +03:00 [DBG] Connection id "0HN76L7V3TQ5J" started.
2024-10-07 11:28:16.928 +03:00 [DBG] Connection id "0HN76L7V3TQ5J" received FIN.
2024-10-07 11:28:16.928 +03:00 [DBG] Connection id "0HN76L7V3TQ5I" received FIN.
2024-10-07 11:28:16.934 +03:00 [DBG] Connection id "0HN76L7V3TQ5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:28:16.934 +03:00 [DBG] Connection id "0HN76L7V3TQ5J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-07 11:28:16.937 +03:00 [DBG] Connection id "0HN76L7V3TQ5I" disconnecting.
2024-10-07 11:28:16.937 +03:00 [DBG] Connection id "0HN76L7V3TQ5J" disconnecting.
2024-10-07 11:28:16.939 +03:00 [DBG] Connection id "0HN76L7V3TQ5J" stopped.
2024-10-07 11:28:16.939 +03:00 [DBG] Connection id "0HN76L7V3TQ5I" stopped.
2024-10-07 11:28:16.947 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-07 11:28:16.947 +03:00 [INF] Hosting environment: Development
2024-10-07 11:28:16.948 +03:00 [INF] Content root path: C:\Users\OsamaRahimi\Desktop\C#\RestaurantReservationAPI\RestaurantReservationAPI
2024-10-07 11:28:16.949 +03:00 [DBG] Hosting started
2024-10-07 11:28:21.184 +03:00 [DBG] Connection id "0HN76L7V3TQ5K" accepted.
2024-10-07 11:28:21.186 +03:00 [DBG] Connection id "0HN76L7V3TQ5K" started.
2024-10-07 11:28:21.209 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.html - null null
2024-10-07 11:28:21.489 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-07 11:28:21.591 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-07 11:28:21.594 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-07 11:28:21.602 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-07 11:28:21.604 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-07 11:28:21.605 +03:00 [DBG] Connection id "0HN76L7V3TQ5K" completed keep alive response.
2024-10-07 11:28:21.608 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.html - 200 null text/html;charset=utf-8 407.9562ms
2024-10-07 11:28:21.624 +03:00 [DBG] Connection id "0HN76L7V3TQ5L" accepted.
2024-10-07 11:28:21.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - null null
2024-10-07 11:28:21.625 +03:00 [DBG] Connection id "0HN76L7V3TQ5L" started.
2024-10-07 11:28:21.629 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/index.js - null null
2024-10-07 11:28:21.626 +03:00 [DBG] Connection id "0HN76L7V3TQ5M" accepted.
2024-10-07 11:28:21.631 +03:00 [DBG] Connection id "0HN76L7V3TQ5M" started.
2024-10-07 11:28:21.635 +03:00 [DBG] Connection id "0HN76L7V3TQ5K" completed keep alive response.
2024-10-07 11:28:21.636 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/_vs/browserLink - null null
2024-10-07 11:28:21.636 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 12.2057ms
2024-10-07 11:28:21.637 +03:00 [DBG] Connection id "0HN76L7V3TQ5L" completed keep alive response.
2024-10-07 11:28:21.640 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/index.js - 200 null application/javascript;charset=utf-8 11.6692ms
2024-10-07 11:28:21.668 +03:00 [DBG] Connection id "0HN76L7V3TQ5M" completed keep alive response.
2024-10-07 11:28:21.670 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.8319ms
2024-10-07 11:28:21.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - null null
2024-10-07 11:28:21.915 +03:00 [DBG] Connection id "0HN76L7V3TQ5M" completed keep alive response.
2024-10-07 11:28:21.919 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5099/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 185.8513ms
